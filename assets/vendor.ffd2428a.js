var bS=Object.defineProperty,SS=Object.defineProperties;var wS=Object.getOwnPropertyDescriptors;var pa=Object.getOwnPropertySymbols;var yh=Object.prototype.hasOwnProperty,bh=Object.prototype.propertyIsEnumerable;var Sh=(t,e,n)=>e in t?bS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B=(t,e)=>{for(var n in e||(e={}))yh.call(e,n)&&Sh(t,n,e[n]);if(pa)for(var n of pa(e))bh.call(e,n)&&Sh(t,n,e[n]);return t},Vt=(t,e)=>SS(t,wS(e));var wh=(t,e)=>{var n={};for(var r in t)yh.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&pa)for(var r of pa(t))e.indexOf(r)<0&&bh.call(t,r)&&(n[r]=t[r]);return n};function Qt(t,e){const n=Object.create(null),r=t.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return e?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const CS="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",kS=Qt(CS),ES="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",OS=Qt(ES);function Ch(t){return!!t||t===""}function Ii(t){if(te(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],o=ge(r)?kh(r):Ii(r);if(o)for(const i in o)e[i]=o[i]}return e}else{if(ge(t))return t;if(Je(t))return t}}const MS=/;(?![^(]*\))/g,xS=/:(.+)/;function kh(t){const e={};return t.split(MS).forEach(n=>{if(n){const r=n.split(xS);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Di(t){let e="";if(ge(t))e=t;else if(te(t))for(let n=0;n<t.length;n++){const r=Di(t[n]);r&&(e+=r+" ")}else if(Je(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function TS(t){if(!t)return null;let{class:e,style:n}=t;return e&&!ge(e)&&(t.class=Di(e)),n&&(t.style=Ii(n)),t}const NS="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",AS="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",RS="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",_S=Qt(NS),PS=Qt(AS),IS=Qt(RS);function DS(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=mr(t[r],e[r]);return n}function mr(t,e){if(t===e)return!0;let n=Mh(t),r=Mh(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=te(t),r=te(e),n||r)return n&&r?DS(t,e):!1;if(n=Je(t),r=Je(e),n||r){if(!n||!r)return!1;const o=Object.keys(t).length,i=Object.keys(e).length;if(o!==i)return!1;for(const s in t){const a=t.hasOwnProperty(s),l=e.hasOwnProperty(s);if(a&&!l||!a&&l||!mr(t[s],e[s]))return!1}}return String(t)===String(e)}function ha(t,e){return t.findIndex(n=>mr(n,e))}const FS=t=>t==null?"":te(t)||Je(t)&&(t.toString===xh||!pe(t.toString))?JSON.stringify(t,Eh,2):String(t),Eh=(t,e)=>e&&e.__v_isRef?Eh(t,e.value):Bo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:eo(e)?{[`Set(${e.size})`]:[...e.values()]}:Je(e)&&!te(e)&&!Th(e)?String(e):e,Re={},Fo=[],At=()=>{},da=()=>!1,BS=/^on[^a-z]/,Zr=t=>BS.test(t),bc=t=>t.startsWith("onUpdate:"),_e=Object.assign,Oh=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},LS=Object.prototype.hasOwnProperty,Ae=(t,e)=>LS.call(t,e),te=Array.isArray,Bo=t=>ma(t)==="[object Map]",eo=t=>ma(t)==="[object Set]",Mh=t=>t instanceof Date,pe=t=>typeof t=="function",ge=t=>typeof t=="string",Lo=t=>typeof t=="symbol",Je=t=>t!==null&&typeof t=="object",Sc=t=>Je(t)&&pe(t.then)&&pe(t.catch),xh=Object.prototype.toString,ma=t=>xh.call(t),zS=t=>ma(t).slice(8,-1),Th=t=>ma(t)==="[object Object]",wc=t=>ge(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,to=Qt(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),va=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},$S=/-(\w)/g,bt=va(t=>t.replace($S,(e,n)=>n?n.toUpperCase():"")),HS=/\B([A-Z])/g,xn=va(t=>t.replace(HS,"-$1").toLowerCase()),no=va(t=>t.charAt(0).toUpperCase()+t.slice(1)),zo=va(t=>t?`on${no(t)}`:""),Fi=(t,e)=>!Object.is(t,e),$o=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},ga=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},vr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Nh;const VS=()=>Nh||(Nh=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Fn;const ya=[];class Cc{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Fn&&(this.parent=Fn,this.index=(Fn.scopes||(Fn.scopes=[])).push(this)-1)}run(e){if(this.active)try{return this.on(),e()}finally{this.off()}}on(){this.active&&(ya.push(this),Fn=this)}off(){this.active&&(ya.pop(),Fn=ya[ya.length-1])}stop(e){if(this.active){if(this.effects.forEach(n=>n.stop()),this.cleanups.forEach(n=>n()),this.scopes&&this.scopes.forEach(n=>n.stop(!0)),this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.active=!1}}}function jS(t){return new Cc(t)}function Ah(t,e){e=e||Fn,e&&e.active&&e.effects.push(t)}function WS(){return Fn}function JS(t){Fn&&Fn.cleanups.push(t)}const kc=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Rh=t=>(t.w&gr)>0,_h=t=>(t.n&gr)>0,KS=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=gr},US=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const o=e[r];Rh(o)&&!_h(o)?o.delete(t):e[n++]=o,o.w&=~gr,o.n&=~gr}e.length=n}},Ec=new WeakMap;let Bi=0,gr=1;const Oc=30,Li=[];let ro;const oo=Symbol(""),Mc=Symbol("");class zi{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],Ah(this,r)}run(){if(!this.active)return this.fn();if(!Li.includes(this))try{return Li.push(ro=this),YS(),gr=1<<++Bi,Bi<=Oc?KS(this):Ph(this),this.fn()}finally{Bi<=Oc&&US(this),gr=1<<--Bi,yr(),Li.pop();const e=Li.length;ro=e>0?Li[e-1]:void 0}}stop(){this.active&&(Ph(this),this.onStop&&this.onStop(),this.active=!1)}}function Ph(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}function qS(t,e){t.effect&&(t=t.effect.fn);const n=new zi(t);e&&(_e(n,e),e.scope&&Ah(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function GS(t){t.effect.stop()}let Ho=!0;const xc=[];function io(){xc.push(Ho),Ho=!1}function YS(){xc.push(Ho),Ho=!0}function yr(){const t=xc.pop();Ho=t===void 0?!0:t}function Zt(t,e,n){if(!Ih())return;let r=Ec.get(t);r||Ec.set(t,r=new Map);let o=r.get(n);o||r.set(n,o=kc()),Dh(o)}function Ih(){return Ho&&ro!==void 0}function Dh(t,e){let n=!1;Bi<=Oc?_h(t)||(t.n|=gr,n=!Rh(t)):n=!t.has(ro),n&&(t.add(ro),ro.deps.push(t))}function Qn(t,e,n,r,o,i){const s=Ec.get(t);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(n==="length"&&te(t))s.forEach((l,c)=>{(c==="length"||c>=r)&&a.push(l)});else switch(n!==void 0&&a.push(s.get(n)),e){case"add":te(t)?wc(n)&&a.push(s.get("length")):(a.push(s.get(oo)),Bo(t)&&a.push(s.get(Mc)));break;case"delete":te(t)||(a.push(s.get(oo)),Bo(t)&&a.push(s.get(Mc)));break;case"set":Bo(t)&&a.push(s.get(oo));break}if(a.length===1)a[0]&&Tc(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Tc(kc(l))}}function Tc(t,e){for(const n of te(t)?t:[...t])(n!==ro||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const XS=Qt("__proto__,__v_isRef,__isVue"),Fh=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(Lo)),QS=ba(),ZS=ba(!1,!0),e1=ba(!0),t1=ba(!0,!0),Bh=n1();function n1(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Ee(this);for(let i=0,s=this.length;i<s;i++)Zt(r,"get",i+"");const o=r[e](...n);return o===-1||o===!1?r[e](...n.map(Ee)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){io();const r=Ee(this)[e].apply(this,n);return yr(),r}}),t}function ba(t=!1,e=!1){return function(r,o,i){if(o==="__v_isReactive")return!t;if(o==="__v_isReadonly")return t;if(o==="__v_raw"&&i===(t?e?qh:Uh:e?Kh:Jh).get(r))return r;const s=te(r);if(!t&&s&&Ae(Bh,o))return Reflect.get(Bh,o,i);const a=Reflect.get(r,o,i);return(Lo(o)?Fh.has(o):XS(o))||(t||Zt(r,"get",o),e)?a:ct(a)?!s||!wc(o)?a.value:a:Je(a)?t?Ac(a):Sr(a):a}}const r1=Lh(),o1=Lh(!0);function Lh(t=!1){return function(n,r,o,i){let s=n[r];if(!t&&(o=Ee(o),s=Ee(s),!te(n)&&ct(s)&&!ct(o)))return s.value=o,!0;const a=te(n)&&wc(r)?Number(r)<n.length:Ae(n,r),l=Reflect.set(n,r,o,i);return n===Ee(i)&&(a?Fi(o,s)&&Qn(n,"set",r,o):Qn(n,"add",r,o)),l}}function i1(t,e){const n=Ae(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Qn(t,"delete",e,void 0),r}function s1(t,e){const n=Reflect.has(t,e);return(!Lo(e)||!Fh.has(e))&&Zt(t,"has",e),n}function a1(t){return Zt(t,"iterate",te(t)?"length":oo),Reflect.ownKeys(t)}const zh={get:QS,set:r1,deleteProperty:i1,has:s1,ownKeys:a1},$h={get:e1,set(t,e){return!0},deleteProperty(t,e){return!0}},l1=_e({},zh,{get:ZS,set:o1}),c1=_e({},$h,{get:t1}),Nc=t=>t,Sa=t=>Reflect.getPrototypeOf(t);function wa(t,e,n=!1,r=!1){t=t.__v_raw;const o=Ee(t),i=Ee(e);e!==i&&!n&&Zt(o,"get",e),!n&&Zt(o,"get",i);const{has:s}=Sa(o),a=r?Nc:n?Pc:$i;if(s.call(o,e))return a(t.get(e));if(s.call(o,i))return a(t.get(i));t!==o&&t.get(e)}function Ca(t,e=!1){const n=this.__v_raw,r=Ee(n),o=Ee(t);return t!==o&&!e&&Zt(r,"has",t),!e&&Zt(r,"has",o),t===o?n.has(t):n.has(t)||n.has(o)}function ka(t,e=!1){return t=t.__v_raw,!e&&Zt(Ee(t),"iterate",oo),Reflect.get(t,"size",t)}function Hh(t){t=Ee(t);const e=Ee(this);return Sa(e).has.call(e,t)||(e.add(t),Qn(e,"add",t,t)),this}function Vh(t,e){e=Ee(e);const n=Ee(this),{has:r,get:o}=Sa(n);let i=r.call(n,t);i||(t=Ee(t),i=r.call(n,t));const s=o.call(n,t);return n.set(t,e),i?Fi(e,s)&&Qn(n,"set",t,e):Qn(n,"add",t,e),this}function jh(t){const e=Ee(this),{has:n,get:r}=Sa(e);let o=n.call(e,t);o||(t=Ee(t),o=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return o&&Qn(e,"delete",t,void 0),i}function Wh(){const t=Ee(this),e=t.size!==0,n=t.clear();return e&&Qn(t,"clear",void 0,void 0),n}function Ea(t,e){return function(r,o){const i=this,s=i.__v_raw,a=Ee(s),l=e?Nc:t?Pc:$i;return!t&&Zt(a,"iterate",oo),s.forEach((c,u)=>r.call(o,l(c),l(u),i))}}function Oa(t,e,n){return function(...r){const o=this.__v_raw,i=Ee(o),s=Bo(i),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,c=o[t](...r),u=n?Nc:e?Pc:$i;return!e&&Zt(i,"iterate",l?Mc:oo),{next(){const{value:f,done:p}=c.next();return p?{value:f,done:p}:{value:a?[u(f[0]),u(f[1])]:u(f),done:p}},[Symbol.iterator](){return this}}}}function br(t){return function(...e){return t==="delete"?!1:this}}function u1(){const t={get(i){return wa(this,i)},get size(){return ka(this)},has:Ca,add:Hh,set:Vh,delete:jh,clear:Wh,forEach:Ea(!1,!1)},e={get(i){return wa(this,i,!1,!0)},get size(){return ka(this)},has:Ca,add:Hh,set:Vh,delete:jh,clear:Wh,forEach:Ea(!1,!0)},n={get(i){return wa(this,i,!0)},get size(){return ka(this,!0)},has(i){return Ca.call(this,i,!0)},add:br("add"),set:br("set"),delete:br("delete"),clear:br("clear"),forEach:Ea(!0,!1)},r={get(i){return wa(this,i,!0,!0)},get size(){return ka(this,!0)},has(i){return Ca.call(this,i,!0)},add:br("add"),set:br("set"),delete:br("delete"),clear:br("clear"),forEach:Ea(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Oa(i,!1,!1),n[i]=Oa(i,!0,!1),e[i]=Oa(i,!1,!0),r[i]=Oa(i,!0,!0)}),[t,n,e,r]}const[f1,p1,h1,d1]=u1();function Ma(t,e){const n=e?t?d1:h1:t?p1:f1;return(r,o,i)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?r:Reflect.get(Ae(n,o)&&o in r?n:r,o,i)}const m1={get:Ma(!1,!1)},v1={get:Ma(!1,!0)},g1={get:Ma(!0,!1)},y1={get:Ma(!0,!0)},Jh=new WeakMap,Kh=new WeakMap,Uh=new WeakMap,qh=new WeakMap;function b1(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function S1(t){return t.__v_skip||!Object.isExtensible(t)?0:b1(zS(t))}function Sr(t){return t&&t.__v_isReadonly?t:xa(t,!1,zh,m1,Jh)}function Gh(t){return xa(t,!1,l1,v1,Kh)}function Ac(t){return xa(t,!0,$h,g1,Uh)}function w1(t){return xa(t,!0,c1,y1,qh)}function xa(t,e,n,r,o){if(!Je(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=o.get(t);if(i)return i;const s=S1(t);if(s===0)return t;const a=new Proxy(t,s===2?r:n);return o.set(t,a),a}function so(t){return Rc(t)?so(t.__v_raw):!!(t&&t.__v_isReactive)}function Rc(t){return!!(t&&t.__v_isReadonly)}function _c(t){return so(t)||Rc(t)}function Ee(t){const e=t&&t.__v_raw;return e?Ee(e):t}function Ta(t){return ga(t,"__v_skip",!0),t}const $i=t=>Je(t)?Sr(t):t,Pc=t=>Je(t)?Ac(t):t;function Ic(t){Ih()&&(t=Ee(t),t.dep||(t.dep=kc()),Dh(t.dep))}function Na(t,e){t=Ee(t),t.dep&&Tc(t.dep)}function ct(t){return Boolean(t&&t.__v_isRef===!0)}function Zn(t){return Yh(t,!1)}function Dc(t){return Yh(t,!0)}function Yh(t,e){return ct(t)?t:new C1(t,e)}class C1{constructor(e,n){this._shallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ee(e),this._value=n?e:$i(e)}get value(){return Ic(this),this._value}set value(e){e=this._shallow?e:Ee(e),Fi(e,this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:$i(e),Na(this))}}function k1(t){Na(t)}function ao(t){return ct(t)?t.value:t}const E1={get:(t,e,n)=>ao(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const o=t[e];return ct(o)&&!ct(n)?(o.value=n,!0):Reflect.set(t,e,n,r)}};function Fc(t){return so(t)?t:new Proxy(t,E1)}class O1{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>Ic(this),()=>Na(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function Xh(t){return new O1(t)}function M1(t){const e=te(t)?new Array(t.length):{};for(const n in t)e[n]=Qh(t,n);return e}class x1{constructor(e,n){this._object=e,this._key=n,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(e){this._object[this._key]=e}}function Qh(t,e){const n=t[e];return ct(n)?n:new x1(t,e)}class T1{constructor(e,n,r){this._setter=n,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new zi(e,()=>{this._dirty||(this._dirty=!0,Na(this))}),this.__v_isReadonly=r}get value(){const e=Ee(this);return Ic(e),e._dirty&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function hn(t,e){let n,r;const o=pe(t);return o?(n=t,r=At):(n=t.get,r=t.set),new T1(n,r,o||!r)}Promise.resolve();let Vo,Aa=[];function Zh(t,e){var n,r;Vo=t,Vo?(Vo.enabled=!0,Aa.forEach(({event:o,args:i})=>Vo.emit(o,...i)),Aa=[]):typeof window!="undefined"&&window.HTMLElement&&!((r=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||r===void 0?void 0:r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{Zh(i,e)}),setTimeout(()=>{Vo||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Aa=[])},3e3)):Aa=[]}function N1(t,e,...n){const r=t.vnode.props||Re;let o=n;const i=e.startsWith("update:"),s=i&&e.slice(7);if(s&&s in r){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:f,trim:p}=r[u]||Re;p?o=n.map(h=>h.trim()):f&&(o=n.map(vr))}let a,l=r[a=zo(e)]||r[a=zo(bt(e))];!l&&i&&(l=r[a=zo(xn(e))]),l&&nn(l,t,6,o);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,nn(c,t,6,o)}}function ed(t,e,n=!1){const r=e.emitsCache,o=r.get(t);if(o!==void 0)return o;const i=t.emits;let s={},a=!1;if(!pe(t)){const l=c=>{const u=ed(c,e,!0);u&&(a=!0,_e(s,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(r.set(t,null),null):(te(i)?i.forEach(l=>s[l]=null):_e(s,i),r.set(t,s),s)}function Bc(t,e){return!t||!Zr(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ae(t,e[0].toLowerCase()+e.slice(1))||Ae(t,xn(e))||Ae(t,e))}let en=null,Ra=null;function Hi(t){const e=en;return en=t,Ra=t&&t.type.__scopeId||null,e}function A1(t){Ra=t}function R1(){Ra=null}const _1=t=>_a;function _a(t,e=en,n){if(!e||t._n)return t;const r=(...o)=>{r._d&&tu(-1);const i=Hi(e),s=t(...o);return Hi(i),r._d&&tu(1),s};return r._n=!0,r._c=!0,r._d=!0,r}function Pa(t){const{type:e,vnode:n,proxy:r,withProxy:o,props:i,propsOptions:[s],slots:a,attrs:l,emit:c,render:u,renderCache:f,data:p,setupState:h,ctx:d,inheritAttrs:y}=t;let v,b;const g=Hi(t);try{if(n.shapeFlag&4){const m=o||r;v=tn(u.call(m,m,f,i,h,p,d)),b=l}else{const m=e;v=tn(m.length>1?m(i,{attrs:l,slots:a,emit:c}):m(i,null)),b=e.props?l:I1(l)}}catch(m){Gi.length=0,fo(m,t,1),v=le(_t)}let S=v;if(b&&y!==!1){const m=Object.keys(b),{shapeFlag:O}=S;m.length&&O&(1|6)&&(s&&m.some(bc)&&(b=D1(b,s)),S=Or(S,b))}return n.dirs&&(S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&(S.transition=n.transition),v=S,Hi(g),v}function P1(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(Er(r)){if(r.type!==_t||r.children==="v-if"){if(e)return;e=r}}else return}return e}const I1=t=>{let e;for(const n in t)(n==="class"||n==="style"||Zr(n))&&((e||(e={}))[n]=t[n]);return e},D1=(t,e)=>{const n={};for(const r in t)(!bc(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function F1(t,e,n){const{props:r,children:o,component:i}=t,{props:s,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?td(r,s,c):!!s;if(l&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const p=u[f];if(s[p]!==r[p]&&!Bc(c,p))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?td(r,s,c):!0:!!s;return!1}function td(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(e[i]!==t[i]&&!Bc(n,i))return!0}return!1}function Lc({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const B1=t=>t.__isSuspense,L1={name:"Suspense",__isSuspense:!0,process(t,e,n,r,o,i,s,a,l,c){t==null?$1(e,n,r,o,i,s,a,l,c):H1(t,e,n,r,o,s,a,l,c)},hydrate:V1,create:zc,normalize:j1},z1=L1;function Vi(t,e){const n=t.props&&t.props[e];pe(n)&&n()}function $1(t,e,n,r,o,i,s,a,l){const{p:c,o:{createElement:u}}=l,f=u("div"),p=t.suspense=zc(t,o,r,e,f,n,i,s,a,l);c(null,p.pendingBranch=t.ssContent,f,null,r,p,i,s),p.deps>0?(Vi(t,"onPending"),Vi(t,"onFallback"),c(null,t.ssFallback,e,n,r,null,i,s),jo(p,t.ssFallback)):p.resolve()}function H1(t,e,n,r,o,i,s,a,{p:l,um:c,o:{createElement:u}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const p=e.ssContent,h=e.ssFallback,{activeBranch:d,pendingBranch:y,isInFallback:v,isHydrating:b}=f;if(y)f.pendingBranch=p,zn(p,y)?(l(y,p,f.hiddenContainer,null,o,f,i,s,a),f.deps<=0?f.resolve():v&&(l(d,h,n,r,o,null,i,s,a),jo(f,h))):(f.pendingId++,b?(f.isHydrating=!1,f.activeBranch=y):c(y,o,f),f.deps=0,f.effects.length=0,f.hiddenContainer=u("div"),v?(l(null,p,f.hiddenContainer,null,o,f,i,s,a),f.deps<=0?f.resolve():(l(d,h,n,r,o,null,i,s,a),jo(f,h))):d&&zn(p,d)?(l(d,p,n,r,o,f,i,s,a),f.resolve(!0)):(l(null,p,f.hiddenContainer,null,o,f,i,s,a),f.deps<=0&&f.resolve()));else if(d&&zn(p,d))l(d,p,n,r,o,f,i,s,a),jo(f,p);else if(Vi(e,"onPending"),f.pendingBranch=p,f.pendingId++,l(null,p,f.hiddenContainer,null,o,f,i,s,a),f.deps<=0)f.resolve();else{const{timeout:g,pendingId:S}=f;g>0?setTimeout(()=>{f.pendingId===S&&f.fallback(h)},g):g===0&&f.fallback(h)}}function zc(t,e,n,r,o,i,s,a,l,c,u=!1){const{p:f,m:p,um:h,n:d,o:{parentNode:y,remove:v}}=c,b=vr(t.props&&t.props.timeout),g={vnode:t,parent:e,parentComponent:n,isSVG:s,container:r,hiddenContainer:o,anchor:i,deps:0,pendingId:0,timeout:typeof b=="number"?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:u,isUnmounted:!1,effects:[],resolve(S=!1){const{vnode:m,activeBranch:O,pendingBranch:C,pendingId:k,effects:M,parentComponent:T,container:R}=g;if(g.isHydrating)g.isHydrating=!1;else if(!S){const x=O&&C.transition&&C.transition.mode==="out-in";x&&(O.transition.afterLeave=()=>{k===g.pendingId&&p(C,R,U,0)});let{anchor:U}=g;O&&(U=d(O),h(O,T,g,!0)),x||p(C,R,U,0)}jo(g,C),g.pendingBranch=null,g.isInFallback=!1;let V=g.parent,N=!1;for(;V;){if(V.pendingBranch){V.effects.push(...M),N=!0;break}V=V.parent}N||du(M),g.effects=[],Vi(m,"onResolve")},fallback(S){if(!g.pendingBranch)return;const{vnode:m,activeBranch:O,parentComponent:C,container:k,isSVG:M}=g;Vi(m,"onFallback");const T=d(O),R=()=>{!g.isInFallback||(f(null,S,k,T,C,null,M,a,l),jo(g,S))},V=S.transition&&S.transition.mode==="out-in";V&&(O.transition.afterLeave=R),g.isInFallback=!0,h(O,C,null,!0),V||R()},move(S,m,O){g.activeBranch&&p(g.activeBranch,S,m,O),g.container=S},next(){return g.activeBranch&&d(g.activeBranch)},registerDep(S,m){const O=!!g.pendingBranch;O&&g.deps++;const C=S.vnode.el;S.asyncDep.catch(k=>{fo(k,S,0)}).then(k=>{if(S.isUnmounted||g.isUnmounted||g.pendingId!==S.suspenseId)return;S.asyncResolved=!0;const{vnode:M}=S;au(S,k,!1),C&&(M.el=C);const T=!C&&S.subTree.el;m(S,M,y(C||S.subTree.el),C?null:d(S.subTree),g,s,l),T&&v(T),Lc(S,M.el),O&&--g.deps==0&&g.resolve()})},unmount(S,m){g.isUnmounted=!0,g.activeBranch&&h(g.activeBranch,n,S,m),g.pendingBranch&&h(g.pendingBranch,n,S,m)}};return g}function V1(t,e,n,r,o,i,s,a,l){const c=e.suspense=zc(e,r,n,t.parentNode,document.createElement("div"),null,o,i,s,a,!0),u=l(t,c.pendingBranch=e.ssContent,n,c,i,s);return c.deps===0&&c.resolve(),u}function j1(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=nd(r?n.default:n),t.ssFallback=r?nd(n.fallback):le(_t)}function nd(t){let e;if(pe(t)){const n=Ko&&t._c;n&&(t._d=!1,nr()),t=t(),n&&(t._d=!0,e=Ln,Ld())}return te(t)&&(t=P1(t)),t=tn(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function rd(t,e){e&&e.pendingBranch?te(t)?e.effects.push(...t):e.effects.push(t):du(t)}function jo(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t,o=n.el=e.el;r&&r.subTree===n&&(r.vnode.el=o,Lc(r,o))}function ji(t,e){if(tt){let n=tt.provides;const r=tt.parent&&tt.parent.provides;r===n&&(n=tt.provides=Object.create(r)),n[t]=e}}function dn(t,e,n=!1){const r=tt||en;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&pe(e)?e.call(r.proxy):e}}function $c(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return tr(()=>{t.isMounted=!0}),wr(()=>{t.isUnmounting=!0}),t}const mn=[Function,Array],W1={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:mn,onEnter:mn,onAfterEnter:mn,onEnterCancelled:mn,onBeforeLeave:mn,onLeave:mn,onAfterLeave:mn,onLeaveCancelled:mn,onBeforeAppear:mn,onAppear:mn,onAfterAppear:mn,onAppearCancelled:mn},setup(t,{slots:e}){const n=rr(),r=$c();let o;return()=>{const i=e.default&&Ia(e.default(),!0);if(!i||!i.length)return;const s=Ee(t),{mode:a}=s,l=i[0];if(r.isLeaving)return Vc(l);const c=id(l);if(!c)return Vc(l);const u=Wo(c,s,r,n);lo(c,u);const f=n.subTree,p=f&&id(f);let h=!1;const{getTransitionKey:d}=c.type;if(d){const y=d();o===void 0?o=y:y!==o&&(o=y,h=!0)}if(p&&p.type!==_t&&(!zn(c,p)||h)){const y=Wo(p,s,r,n);if(lo(p,y),a==="out-in")return r.isLeaving=!0,y.afterLeave=()=>{r.isLeaving=!1,n.update()},Vc(l);a==="in-out"&&c.type!==_t&&(y.delayLeave=(v,b,g)=>{const S=od(r,p);S[String(p.key)]=p,v._leaveCb=()=>{b(),v._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=g})}return l}}},Hc=W1;function od(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Wo(t,e,n,r){const{appear:o,mode:i,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:f,onLeave:p,onAfterLeave:h,onLeaveCancelled:d,onBeforeAppear:y,onAppear:v,onAfterAppear:b,onAppearCancelled:g}=e,S=String(t.key),m=od(n,t),O=(k,M)=>{k&&nn(k,r,9,M)},C={mode:i,persisted:s,beforeEnter(k){let M=a;if(!n.isMounted)if(o)M=y||a;else return;k._leaveCb&&k._leaveCb(!0);const T=m[S];T&&zn(t,T)&&T.el._leaveCb&&T.el._leaveCb(),O(M,[k])},enter(k){let M=l,T=c,R=u;if(!n.isMounted)if(o)M=v||l,T=b||c,R=g||u;else return;let V=!1;const N=k._enterCb=x=>{V||(V=!0,x?O(R,[k]):O(T,[k]),C.delayedLeave&&C.delayedLeave(),k._enterCb=void 0)};M?(M(k,N),M.length<=1&&N()):N()},leave(k,M){const T=String(t.key);if(k._enterCb&&k._enterCb(!0),n.isUnmounting)return M();O(f,[k]);let R=!1;const V=k._leaveCb=N=>{R||(R=!0,M(),N?O(d,[k]):O(h,[k]),k._leaveCb=void 0,m[T]===t&&delete m[T])};m[T]=t,p?(p(k,V),p.length<=1&&V()):V()},clone(k){return Wo(k,e,n,r)}};return C}function Vc(t){if(Ji(t))return t=Or(t),t.children=null,t}function id(t){return Ji(t)?t.children?t.children[0]:void 0:t}function lo(t,e){t.shapeFlag&6&&t.component?lo(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ia(t,e=!1){let n=[],r=0;for(let o=0;o<t.length;o++){const i=t[o];i.type===ut?(i.patchFlag&128&&r++,n=n.concat(Ia(i.children,e))):(e||i.type!==_t)&&n.push(i)}if(r>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}function jt(t){return pe(t)?{setup:t,name:t.name}:t}const Wi=t=>!!t.type.__asyncLoader;function J1(t){pe(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:o=200,timeout:i,suspensible:s=!0,onError:a}=t;let l=null,c,u=0;const f=()=>(u++,l=null,p()),p=()=>{let h;return l||(h=l=e().catch(d=>{if(d=d instanceof Error?d:new Error(String(d)),a)return new Promise((y,v)=>{a(d,()=>y(f()),()=>v(d),u+1)});throw d}).then(d=>h!==l&&l?l:(d&&(d.__esModule||d[Symbol.toStringTag]==="Module")&&(d=d.default),c=d,d)))};return jt({name:"AsyncComponentWrapper",__asyncLoader:p,get __asyncResolved(){return c},setup(){const h=tt;if(c)return()=>jc(c,h);const d=g=>{l=null,fo(g,h,13,!r)};if(s&&h.suspense||Yi)return p().then(g=>()=>jc(g,h)).catch(g=>(d(g),()=>r?le(r,{error:g}):null));const y=Zn(!1),v=Zn(),b=Zn(!!o);return o&&setTimeout(()=>{b.value=!1},o),i!=null&&setTimeout(()=>{if(!y.value&&!v.value){const g=new Error(`Async component timed out after ${i}ms.`);d(g),v.value=g}},i),p().then(()=>{y.value=!0,h.parent&&Ji(h.parent.vnode)&&hu(h.parent.update)}).catch(g=>{d(g),v.value=g}),()=>{if(y.value&&c)return jc(c,h);if(v.value&&r)return le(r,{error:v.value});if(n&&!b.value)return le(n)}}})}function jc(t,{vnode:{ref:e,props:n,children:r}}){const o=le(t,n,r);return o.ref=e,o}const Ji=t=>t.type.__isKeepAlive,K1={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=rr(),r=n.ctx;if(!r.renderer)return e.default;const o=new Map,i=new Set;let s=null;const a=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:f}}}=r,p=f("div");r.activate=(g,S,m,O,C)=>{const k=g.component;c(g,S,m,0,a),l(k.vnode,g,S,m,k,a,O,g.slotScopeIds,C),it(()=>{k.isDeactivated=!1,k.a&&$o(k.a);const M=g.props&&g.props.onVnodeMounted;M&&Wt(M,k.parent,g)},a)},r.deactivate=g=>{const S=g.component;c(g,p,null,1,a),it(()=>{S.da&&$o(S.da);const m=g.props&&g.props.onVnodeUnmounted;m&&Wt(m,S.parent,g),S.isDeactivated=!0},a)};function h(g){Wc(g),u(g,n,a)}function d(g){o.forEach((S,m)=>{const O=Ka(S.type);O&&(!g||!g(O))&&y(m)})}function y(g){const S=o.get(g);!s||S.type!==s.type?h(S):s&&Wc(s),o.delete(g),i.delete(g)}Ar(()=>[t.include,t.exclude],([g,S])=>{g&&d(m=>Ki(g,m)),S&&d(m=>!Ki(S,m))},{flush:"post",deep:!0});let v=null;const b=()=>{v!=null&&o.set(v,Jc(n.subTree))};return tr(b),Fa(b),wr(()=>{o.forEach(g=>{const{subTree:S,suspense:m}=n,O=Jc(S);if(g.type===O.type){Wc(O);const C=O.component.da;C&&it(C,m);return}h(g)})}),()=>{if(v=null,!e.default)return null;const g=e.default(),S=g[0];if(g.length>1)return s=null,g;if(!Er(S)||!(S.shapeFlag&4)&&!(S.shapeFlag&128))return s=null,S;let m=Jc(S);const O=m.type,C=Ka(Wi(m)?m.type.__asyncResolved||{}:O),{include:k,exclude:M,max:T}=t;if(k&&(!C||!Ki(k,C))||M&&C&&Ki(M,C))return s=m,S;const R=m.key==null?O:m.key,V=o.get(R);return m.el&&(m=Or(m),S.shapeFlag&128&&(S.ssContent=m)),v=R,V?(m.el=V.el,m.component=V.component,m.transition&&lo(m,m.transition),m.shapeFlag|=512,i.delete(R),i.add(R)):(i.add(R),T&&i.size>parseInt(T,10)&&y(i.values().next().value)),m.shapeFlag|=256,s=m,S}}},U1=K1;function Ki(t,e){return te(t)?t.some(n=>Ki(n,e)):ge(t)?t.split(",").indexOf(e)>-1:t.test?t.test(e):!1}function sd(t,e){ld(t,"a",e)}function ad(t,e){ld(t,"da",e)}function ld(t,e,n=tt){const r=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}t()});if(Da(e,r,n),n){let o=n.parent;for(;o&&o.parent;)Ji(o.parent.vnode)&&q1(r,e,n,o),o=o.parent}}function q1(t,e,n,r){const o=Da(e,t,r,!0);Ui(()=>{Oh(r[e],o)},n)}function Wc(t){let e=t.shapeFlag;e&256&&(e-=256),e&512&&(e-=512),t.shapeFlag=e}function Jc(t){return t.shapeFlag&128?t.ssContent:t}function Da(t,e,n=tt,r=!1){if(n){const o=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;io(),xr(n);const a=nn(e,n,t,s);return Tr(),yr(),a});return r?o.unshift(i):o.push(i),i}}const er=t=>(e,n=tt)=>(!Yi||t==="sp")&&Da(t,e,n),cd=er("bm"),tr=er("m"),ud=er("bu"),Fa=er("u"),wr=er("bum"),Ui=er("um"),fd=er("sp"),pd=er("rtg"),hd=er("rtc");function dd(t,e=tt){Da("ec",t,e)}let Kc=!0;function G1(t){const e=gd(t),n=t.proxy,r=t.ctx;Kc=!1,e.beforeCreate&&md(e.beforeCreate,t,"bc");const{data:o,computed:i,methods:s,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:p,beforeUpdate:h,updated:d,activated:y,deactivated:v,beforeDestroy:b,beforeUnmount:g,destroyed:S,unmounted:m,render:O,renderTracked:C,renderTriggered:k,errorCaptured:M,serverPrefetch:T,expose:R,inheritAttrs:V,components:N,directives:x,filters:U}=e;if(c&&Y1(c,r,null,t.appContext.config.unwrapInjectedRef),s)for(const Z in s){const se=s[Z];pe(se)&&(r[Z]=se.bind(n))}if(o){const Z=o.call(n,n);Je(Z)&&(t.data=Sr(Z))}if(Kc=!0,i)for(const Z in i){const se=i[Z],We=pe(se)?se.bind(n,n):pe(se.get)?se.get.bind(n,n):At,at=!pe(se)&&pe(se.set)?se.set.bind(n):At,lt=hn({get:We,set:at});Object.defineProperty(r,Z,{enumerable:!0,configurable:!0,get:()=>lt.value,set:qe=>lt.value=qe})}if(a)for(const Z in a)vd(a[Z],r,n,Z);if(l){const Z=pe(l)?l.call(n):l;Reflect.ownKeys(Z).forEach(se=>{ji(se,Z[se])})}u&&md(u,t,"c");function Q(Z,se){te(se)?se.forEach(We=>Z(We.bind(n))):se&&Z(se.bind(n))}if(Q(cd,f),Q(tr,p),Q(ud,h),Q(Fa,d),Q(sd,y),Q(ad,v),Q(dd,M),Q(hd,C),Q(pd,k),Q(wr,g),Q(Ui,m),Q(fd,T),te(R))if(R.length){const Z=t.exposed||(t.exposed={});R.forEach(se=>{Object.defineProperty(Z,se,{get:()=>n[se],set:We=>n[se]=We})})}else t.exposed||(t.exposed={});O&&t.render===At&&(t.render=O),V!=null&&(t.inheritAttrs=V),N&&(t.components=N),x&&(t.directives=x)}function Y1(t,e,n=At,r=!1){te(t)&&(t=Uc(t));for(const o in t){const i=t[o];let s;Je(i)?"default"in i?s=dn(i.from||o,i.default,!0):s=dn(i.from||o):s=dn(i),ct(s)&&r?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[o]=s}}function md(t,e,n){nn(te(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function vd(t,e,n,r){const o=r.includes(".")?sm(n,r):()=>n[r];if(ge(t)){const i=e[t];pe(i)&&Ar(o,i)}else if(pe(t))Ar(o,t.bind(n));else if(Je(t))if(te(t))t.forEach(i=>vd(i,e,n,r));else{const i=pe(t.handler)?t.handler.bind(n):e[t.handler];pe(i)&&Ar(o,i,t)}}function gd(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=t.appContext,a=i.get(e);let l;return a?l=a:!o.length&&!n&&!r?l=e:(l={},o.length&&o.forEach(c=>Ba(l,c,s,!0)),Ba(l,e,s)),i.set(e,l),l}function Ba(t,e,n,r=!1){const{mixins:o,extends:i}=e;i&&Ba(t,i,n,!0),o&&o.forEach(s=>Ba(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const a=X1[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const X1={data:yd,props:co,emits:co,methods:co,computed:co,beforeCreate:Rt,created:Rt,beforeMount:Rt,mounted:Rt,beforeUpdate:Rt,updated:Rt,beforeDestroy:Rt,beforeUnmount:Rt,destroyed:Rt,unmounted:Rt,activated:Rt,deactivated:Rt,errorCaptured:Rt,serverPrefetch:Rt,components:co,directives:co,watch:Z1,provide:yd,inject:Q1};function yd(t,e){return e?t?function(){return _e(pe(t)?t.call(this,this):t,pe(e)?e.call(this,this):e)}:e:t}function Q1(t,e){return co(Uc(t),Uc(e))}function Uc(t){if(te(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Rt(t,e){return t?[...new Set([].concat(t,e))]:e}function co(t,e){return t?_e(_e(Object.create(null),t),e):e}function Z1(t,e){if(!t)return e;if(!e)return t;const n=_e(Object.create(null),t);for(const r in e)n[r]=Rt(t[r],e[r]);return n}function ew(t,e,n,r=!1){const o={},i={};ga(i,Ha,1),t.propsDefaults=Object.create(null),bd(t,e,o,i);for(const s in t.propsOptions[0])s in o||(o[s]=void 0);n?t.props=r?o:Gh(o):t.type.props?t.props=o:t.props=i,t.attrs=i}function tw(t,e,n,r){const{props:o,attrs:i,vnode:{patchFlag:s}}=t,a=Ee(o),[l]=t.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let p=u[f];const h=e[p];if(l)if(Ae(i,p))h!==i[p]&&(i[p]=h,c=!0);else{const d=bt(p);o[d]=qc(l,a,d,h,t,!1)}else h!==i[p]&&(i[p]=h,c=!0)}}}else{bd(t,e,o,i)&&(c=!0);let u;for(const f in a)(!e||!Ae(e,f)&&((u=xn(f))===f||!Ae(e,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(o[f]=qc(l,a,f,void 0,t,!0)):delete o[f]);if(i!==a)for(const f in i)(!e||!Ae(e,f))&&(delete i[f],c=!0)}c&&Qn(t,"set","$attrs")}function bd(t,e,n,r){const[o,i]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if(to(l))continue;const c=e[l];let u;o&&Ae(o,u=bt(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:Bc(t.emitsOptions,l)||c!==r[l]&&(r[l]=c,s=!0)}if(i){const l=Ee(n),c=a||Re;for(let u=0;u<i.length;u++){const f=i[u];n[f]=qc(o,l,f,c[f],t,!Ae(c,f))}}return s}function qc(t,e,n,r,o,i){const s=t[n];if(s!=null){const a=Ae(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&pe(l)){const{propsDefaults:c}=o;n in c?r=c[n]:(xr(o),r=c[n]=l.call(null,e),Tr())}else r=l}s[0]&&(i&&!a?r=!1:s[1]&&(r===""||r===xn(n))&&(r=!0))}return r}function Sd(t,e,n=!1){const r=e.propsCache,o=r.get(t);if(o)return o;const i=t.props,s={},a=[];let l=!1;if(!pe(t)){const u=f=>{l=!0;const[p,h]=Sd(f,e,!0);_e(s,p),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return r.set(t,Fo),Fo;if(te(i))for(let u=0;u<i.length;u++){const f=bt(i[u]);wd(f)&&(s[f]=Re)}else if(i)for(const u in i){const f=bt(u);if(wd(f)){const p=i[u],h=s[f]=te(p)||pe(p)?{type:p}:p;if(h){const d=Ed(Boolean,h.type),y=Ed(String,h.type);h[0]=d>-1,h[1]=y<0||d<y,(d>-1||Ae(h,"default"))&&a.push(f)}}}const c=[s,a];return r.set(t,c),c}function wd(t){return t[0]!=="$"}function Cd(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function kd(t,e){return Cd(t)===Cd(e)}function Ed(t,e){return te(e)?e.findIndex(n=>kd(n,t)):pe(e)&&kd(e,t)?0:-1}const Od=t=>t[0]==="_"||t==="$stable",Gc=t=>te(t)?t.map(tn):[tn(t)],nw=(t,e,n)=>{const r=_a((...o)=>Gc(e(...o)),n);return r._c=!1,r},Md=(t,e,n)=>{const r=t._ctx;for(const o in t){if(Od(o))continue;const i=t[o];if(pe(i))e[o]=nw(o,i,r);else if(i!=null){const s=Gc(i);e[o]=()=>s}}},xd=(t,e)=>{const n=Gc(e);t.slots.default=()=>n},rw=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ee(e),ga(e,"_",n)):Md(e,t.slots={})}else t.slots={},e&&xd(t,e);ga(t.slots,Ha,1)},ow=(t,e,n)=>{const{vnode:r,slots:o}=t;let i=!0,s=Re;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(_e(o,e),!n&&a===1&&delete o._):(i=!e.$stable,Md(e,o)),s=e}else e&&(xd(t,e),s={default:1});if(i)for(const a in o)!Od(a)&&!(a in s)&&delete o[a]};function Td(t,e){const n=en;if(n===null)return t;const r=n.proxy,o=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,a,l,c=Re]=e[i];pe(s)&&(s={mounted:s,updated:s}),s.deep&&po(a),o.push({dir:s,instance:r,value:a,oldValue:void 0,arg:l,modifiers:c})}return t}function Bn(t,e,n,r){const o=t.dirs,i=e&&e.dirs;for(let s=0;s<o.length;s++){const a=o[s];i&&(a.oldValue=i[s].value);let l=a.dir[r];l&&(io(),nn(l,n,8,[t.el,a,t,e]),yr())}}function Nd(){return{app:null,config:{isNativeTag:da,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let iw=0;function sw(t,e){return function(r,o=null){o!=null&&!Je(o)&&(o=null);const i=Nd(),s=new Set;let a=!1;const l=i.app={_uid:iw++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:um,get config(){return i.config},set config(c){},use(c,...u){return s.has(c)||(c&&pe(c.install)?(s.add(c),c.install(l,...u)):pe(c)&&(s.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,f){if(!a){const p=le(r,o);return p.appContext=i,u&&e?e(p,c):t(p,c,f),a=!0,l._container=c,c.__vue_app__=l,cu(p.component)||p.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l}};return l}}let Cr=!1;const La=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",Yc=t=>t.nodeType===8;function aw(t){const{mt:e,p:n,o:{patchProp:r,nextSibling:o,parentNode:i,remove:s,insert:a,createComment:l}}=t,c=(v,b)=>{if(!b.hasChildNodes()){n(null,v,b),qa();return}Cr=!1,u(b.firstChild,v,null,null,null),qa(),Cr&&console.error("Hydration completed but contains mismatches.")},u=(v,b,g,S,m,O=!1)=>{const C=Yc(v)&&v.data==="[",k=()=>d(v,b,g,S,m,C),{type:M,ref:T,shapeFlag:R}=b,V=v.nodeType;b.el=v;let N=null;switch(M){case Jo:V!==3?N=k():(v.data!==b.children&&(Cr=!0,v.data=b.children),N=o(v));break;case _t:V!==8||C?N=k():N=o(v);break;case uo:if(V!==1)N=k();else{N=v;const x=!b.children.length;for(let U=0;U<b.staticCount;U++)x&&(b.children+=N.outerHTML),U===b.staticCount-1&&(b.anchor=N),N=o(N);return N}break;case ut:C?N=h(v,b,g,S,m,O):N=k();break;default:if(R&1)V!==1||b.type.toLowerCase()!==v.tagName.toLowerCase()?N=k():N=f(v,b,g,S,m,O);else if(R&6){b.slotScopeIds=m;const x=i(v);if(e(b,x,null,g,S,La(x),O),N=C?y(v):o(v),Wi(b)){let U;C?(U=le(ut),U.anchor=N?N.previousSibling:x.lastChild):U=v.nodeType===3?ru(""):le("div"),U.el=v,b.component.subTree=U}}else R&64?V!==8?N=k():N=b.type.hydrate(v,b,g,S,m,O,t,p):R&128&&(N=b.type.hydrate(v,b,g,S,La(i(v)),m,O,t,u))}return T!=null&&za(T,null,S,b),N},f=(v,b,g,S,m,O)=>{O=O||!!b.dynamicChildren;const{type:C,props:k,patchFlag:M,shapeFlag:T,dirs:R}=b,V=C==="input"&&R||C==="option";if(V||M!==-1){if(R&&Bn(b,null,g,"created"),k)if(V||!O||M&(16|32))for(const x in k)(V&&x.endsWith("value")||Zr(x)&&!to(x))&&r(v,x,null,k[x],!1,void 0,g);else k.onClick&&r(v,"onClick",null,k.onClick,!1,void 0,g);let N;if((N=k&&k.onVnodeBeforeMount)&&Wt(N,g,b),R&&Bn(b,null,g,"beforeMount"),((N=k&&k.onVnodeMounted)||R)&&rd(()=>{N&&Wt(N,g,b),R&&Bn(b,null,g,"mounted")},S),T&16&&!(k&&(k.innerHTML||k.textContent))){let x=p(v.firstChild,b,v,g,S,m,O);for(;x;){Cr=!0;const U=x;x=x.nextSibling,s(U)}}else T&8&&v.textContent!==b.children&&(Cr=!0,v.textContent=b.children)}return v.nextSibling},p=(v,b,g,S,m,O,C)=>{C=C||!!b.dynamicChildren;const k=b.children,M=k.length;for(let T=0;T<M;T++){const R=C?k[T]:k[T]=tn(k[T]);if(v)v=u(v,R,S,m,O,C);else{if(R.type===Jo&&!R.children)continue;Cr=!0,n(null,R,g,null,S,m,La(g),O)}}return v},h=(v,b,g,S,m,O)=>{const{slotScopeIds:C}=b;C&&(m=m?m.concat(C):C);const k=i(v),M=p(o(v),b,k,g,S,m,O);return M&&Yc(M)&&M.data==="]"?o(b.anchor=M):(Cr=!0,a(b.anchor=l("]"),k,M),M)},d=(v,b,g,S,m,O)=>{if(Cr=!0,b.el=null,O){const M=y(v);for(;;){const T=o(v);if(T&&T!==M)s(T);else break}}const C=o(v),k=i(v);return s(v),n(null,b,k,C,g,S,La(k),m),C},y=v=>{let b=0;for(;v;)if(v=o(v),v&&Yc(v)&&(v.data==="["&&b++,v.data==="]")){if(b===0)return o(v);b--}return v};return[c,u]}const it=rd;function Ad(t){return _d(t)}function Rd(t){return _d(t,aw)}function _d(t,e){const n=VS();n.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:s,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:p,setScopeId:h=At,cloneNode:d,insertStaticContent:y}=t,v=(w,E,A,F=null,D=null,j=null,K=!1,z=null,H=!!E.dynamicChildren)=>{if(w===E)return;w&&!zn(w,E)&&(F=X(w),Xe(w,D,j,!0),w=null),E.patchFlag===-2&&(H=!1,E.dynamicChildren=null);const{type:L,ref:re,shapeFlag:Y}=E;switch(L){case Jo:b(w,E,A,F);break;case _t:g(w,E,A,F);break;case uo:w==null&&S(E,A,F,K);break;case ut:x(w,E,A,F,D,j,K,z,H);break;default:Y&1?C(w,E,A,F,D,j,K,z,H):Y&6?U(w,E,A,F,D,j,K,z,H):(Y&64||Y&128)&&L.process(w,E,A,F,D,j,K,z,H,ke)}re!=null&&D&&za(re,w&&w.ref,j,E||w,!E)},b=(w,E,A,F)=>{if(w==null)r(E.el=a(E.children),A,F);else{const D=E.el=w.el;E.children!==w.children&&c(D,E.children)}},g=(w,E,A,F)=>{w==null?r(E.el=l(E.children||""),A,F):E.el=w.el},S=(w,E,A,F)=>{[w.el,w.anchor]=y(w.children,E,A,F)},m=({el:w,anchor:E},A,F)=>{let D;for(;w&&w!==E;)D=p(w),r(w,A,F),w=D;r(E,A,F)},O=({el:w,anchor:E})=>{let A;for(;w&&w!==E;)A=p(w),o(w),w=A;o(E)},C=(w,E,A,F,D,j,K,z,H)=>{K=K||E.type==="svg",w==null?k(E,A,F,D,j,K,z,H):R(w,E,D,j,K,z,H)},k=(w,E,A,F,D,j,K,z)=>{let H,L;const{type:re,props:Y,shapeFlag:ie,transition:ue,patchFlag:be,dirs:Pe}=w;if(w.el&&d!==void 0&&be===-1)H=w.el=d(w.el);else{if(H=w.el=s(w.type,j,Y&&Y.is,Y),ie&8?u(H,w.children):ie&16&&T(w.children,H,null,F,D,j&&re!=="foreignObject",K,z),Pe&&Bn(w,null,F,"created"),Y){for(const Be in Y)Be!=="value"&&!to(Be)&&i(H,Be,null,Y[Be],j,w.children,F,D,W);"value"in Y&&i(H,"value",null,Y.value),(L=Y.onVnodeBeforeMount)&&Wt(L,F,w)}M(H,w,w.scopeId,K,F)}Pe&&Bn(w,null,F,"beforeMount");const Ie=(!D||D&&!D.pendingBranch)&&ue&&!ue.persisted;Ie&&ue.beforeEnter(H),r(H,E,A),((L=Y&&Y.onVnodeMounted)||Ie||Pe)&&it(()=>{L&&Wt(L,F,w),Ie&&ue.enter(H),Pe&&Bn(w,null,F,"mounted")},D)},M=(w,E,A,F,D)=>{if(A&&h(w,A),F)for(let j=0;j<F.length;j++)h(w,F[j]);if(D){let j=D.subTree;if(E===j){const K=D.vnode;M(w,K,K.scopeId,K.slotScopeIds,D.parent)}}},T=(w,E,A,F,D,j,K,z,H=0)=>{for(let L=H;L<w.length;L++){const re=w[L]=z?Mr(w[L]):tn(w[L]);v(null,re,E,A,F,D,j,K,z)}},R=(w,E,A,F,D,j,K)=>{const z=E.el=w.el;let{patchFlag:H,dynamicChildren:L,dirs:re}=E;H|=w.patchFlag&16;const Y=w.props||Re,ie=E.props||Re;let ue;(ue=ie.onVnodeBeforeUpdate)&&Wt(ue,A,E,w),re&&Bn(E,w,A,"beforeUpdate");const be=D&&E.type!=="foreignObject";if(L?V(w.dynamicChildren,L,z,A,F,be,j):K||We(w,E,z,null,A,F,be,j,!1),H>0){if(H&16)N(z,E,Y,ie,A,F,D);else if(H&2&&Y.class!==ie.class&&i(z,"class",null,ie.class,D),H&4&&i(z,"style",Y.style,ie.style,D),H&8){const Pe=E.dynamicProps;for(let Ie=0;Ie<Pe.length;Ie++){const Be=Pe[Ie],Xt=Y[Be],dr=ie[Be];(dr!==Xt||Be==="value")&&i(z,Be,Xt,dr,D,w.children,A,F,W)}}H&1&&w.children!==E.children&&u(z,E.children)}else!K&&L==null&&N(z,E,Y,ie,A,F,D);((ue=ie.onVnodeUpdated)||re)&&it(()=>{ue&&Wt(ue,A,E,w),re&&Bn(E,w,A,"updated")},F)},V=(w,E,A,F,D,j,K)=>{for(let z=0;z<E.length;z++){const H=w[z],L=E[z],re=H.el&&(H.type===ut||!zn(H,L)||H.shapeFlag&(6|64))?f(H.el):A;v(H,L,re,null,F,D,j,K,!0)}},N=(w,E,A,F,D,j,K)=>{if(A!==F){for(const z in F){if(to(z))continue;const H=F[z],L=A[z];H!==L&&z!=="value"&&i(w,z,L,H,K,E.children,D,j,W)}if(A!==Re)for(const z in A)!to(z)&&!(z in F)&&i(w,z,A[z],null,K,E.children,D,j,W);"value"in F&&i(w,"value",A.value,F.value)}},x=(w,E,A,F,D,j,K,z,H)=>{const L=E.el=w?w.el:a(""),re=E.anchor=w?w.anchor:a("");let{patchFlag:Y,dynamicChildren:ie,slotScopeIds:ue}=E;ue&&(z=z?z.concat(ue):ue),w==null?(r(L,A,F),r(re,A,F),T(E.children,A,re,D,j,K,z,H)):Y>0&&Y&64&&ie&&w.dynamicChildren?(V(w.dynamicChildren,ie,A,D,j,K,z),(E.key!=null||D&&E===D.subTree)&&Xc(w,E,!0)):We(w,E,A,re,D,j,K,z,H)},U=(w,E,A,F,D,j,K,z,H)=>{E.slotScopeIds=z,w==null?E.shapeFlag&512?D.ctx.activate(E,A,F,K,H):ce(E,A,F,D,j,K,H):Q(w,E,H)},ce=(w,E,A,F,D,j,K)=>{const z=w.component=Wd(w,F,D);if(Ji(w)&&(z.ctx.renderer=ke),Kd(z),z.asyncDep){if(D&&D.registerDep(z,Z),!w.el){const H=z.subTree=le(_t);g(null,H,E,A)}return}Z(z,w,E,A,D,j,K)},Q=(w,E,A)=>{const F=E.component=w.component;if(F1(w,E,A))if(F.asyncDep&&!F.asyncResolved){se(F,E,A);return}else F.next=E,Lw(F.update),F.update();else E.component=w.component,E.el=w.el,F.vnode=E},Z=(w,E,A,F,D,j,K)=>{const z=()=>{if(w.isMounted){let{next:re,bu:Y,u:ie,parent:ue,vnode:be}=w,Pe=re,Ie;H.allowRecurse=!1,re?(re.el=be.el,se(w,re,K)):re=be,Y&&$o(Y),(Ie=re.props&&re.props.onVnodeBeforeUpdate)&&Wt(Ie,ue,re,be),H.allowRecurse=!0;const Be=Pa(w),Xt=w.subTree;w.subTree=Be,v(Xt,Be,f(Xt.el),X(Xt),w,D,j),re.el=Be.el,Pe===null&&Lc(w,Be.el),ie&&it(ie,D),(Ie=re.props&&re.props.onVnodeUpdated)&&it(()=>Wt(Ie,ue,re,be),D)}else{let re;const{el:Y,props:ie}=E,{bm:ue,m:be,parent:Pe}=w,Ie=Wi(E);if(H.allowRecurse=!1,ue&&$o(ue),!Ie&&(re=ie&&ie.onVnodeBeforeMount)&&Wt(re,Pe,E),H.allowRecurse=!0,Y&&fe){const Be=()=>{w.subTree=Pa(w),fe(Y,w.subTree,w,D,null)};Ie?E.type.__asyncLoader().then(()=>!w.isUnmounted&&Be()):Be()}else{const Be=w.subTree=Pa(w);v(null,Be,A,F,w,D,j),E.el=Be.el}if(be&&it(be,D),!Ie&&(re=ie&&ie.onVnodeMounted)){const Be=E;it(()=>Wt(re,Pe,Be),D)}E.shapeFlag&256&&w.a&&it(w.a,D),w.isMounted=!0,E=A=F=null}},H=new zi(z,()=>hu(w.update),w.scope),L=w.update=H.run.bind(H);L.id=w.uid,H.allowRecurse=L.allowRecurse=!0,L()},se=(w,E,A)=>{E.component=w;const F=w.vnode.props;w.vnode=E,w.next=null,tw(w,E.props,F,A),ow(w,E.children,A),io(),mu(void 0,w.update),yr()},We=(w,E,A,F,D,j,K,z,H=!1)=>{const L=w&&w.children,re=w?w.shapeFlag:0,Y=E.children,{patchFlag:ie,shapeFlag:ue}=E;if(ie>0){if(ie&128){lt(L,Y,A,F,D,j,K,z,H);return}else if(ie&256){at(L,Y,A,F,D,j,K,z,H);return}}ue&8?(re&16&&W(L,D,j),Y!==L&&u(A,Y)):re&16?ue&16?lt(L,Y,A,F,D,j,K,z,H):W(L,D,j,!0):(re&8&&u(A,""),ue&16&&T(Y,A,F,D,j,K,z,H))},at=(w,E,A,F,D,j,K,z,H)=>{w=w||Fo,E=E||Fo;const L=w.length,re=E.length,Y=Math.min(L,re);let ie;for(ie=0;ie<Y;ie++){const ue=E[ie]=H?Mr(E[ie]):tn(E[ie]);v(w[ie],ue,A,null,D,j,K,z,H)}L>re?W(w,D,j,!0,!1,Y):T(E,A,F,D,j,K,z,H,Y)},lt=(w,E,A,F,D,j,K,z,H)=>{let L=0;const re=E.length;let Y=w.length-1,ie=re-1;for(;L<=Y&&L<=ie;){const ue=w[L],be=E[L]=H?Mr(E[L]):tn(E[L]);if(zn(ue,be))v(ue,be,A,null,D,j,K,z,H);else break;L++}for(;L<=Y&&L<=ie;){const ue=w[Y],be=E[ie]=H?Mr(E[ie]):tn(E[ie]);if(zn(ue,be))v(ue,be,A,null,D,j,K,z,H);else break;Y--,ie--}if(L>Y){if(L<=ie){const ue=ie+1,be=ue<re?E[ue].el:F;for(;L<=ie;)v(null,E[L]=H?Mr(E[L]):tn(E[L]),A,be,D,j,K,z,H),L++}}else if(L>ie)for(;L<=Y;)Xe(w[L],D,j,!0),L++;else{const ue=L,be=L,Pe=new Map;for(L=be;L<=ie;L++){const oe=E[L]=H?Mr(E[L]):tn(E[L]);oe.key!=null&&Pe.set(oe.key,L)}let Ie,Be=0;const Xt=ie-be+1;let dr=!1,ca=0;const _=new Array(Xt);for(L=0;L<Xt;L++)_[L]=0;for(L=ue;L<=Y;L++){const oe=w[L];if(Be>=Xt){Xe(oe,D,j,!0);continue}let ve;if(oe.key!=null)ve=Pe.get(oe.key);else for(Ie=be;Ie<=ie;Ie++)if(_[Ie-be]===0&&zn(oe,E[Ie])){ve=Ie;break}ve===void 0?Xe(oe,D,j,!0):(_[ve-be]=L+1,ve>=ca?ca=ve:dr=!0,v(oe,E[ve],A,null,D,j,K,z,H),Be++)}const ee=dr?lw(_):Fo;for(Ie=ee.length-1,L=Xt-1;L>=0;L--){const oe=be+L,ve=E[oe],Se=oe+1<re?E[oe+1].el:F;_[L]===0?v(null,ve,A,Se,D,j,K,z,H):dr&&(Ie<0||L!==ee[Ie]?qe(ve,A,Se,2):Ie--)}}},qe=(w,E,A,F,D=null)=>{const{el:j,type:K,transition:z,children:H,shapeFlag:L}=w;if(L&6){qe(w.component.subTree,E,A,F);return}if(L&128){w.suspense.move(E,A,F);return}if(L&64){K.move(w,E,A,ke);return}if(K===ut){r(j,E,A);for(let Y=0;Y<H.length;Y++)qe(H[Y],E,A,F);r(w.anchor,E,A);return}if(K===uo){m(w,E,A);return}if(F!==2&&L&1&&z)if(F===0)z.beforeEnter(j),r(j,E,A),it(()=>z.enter(j),D);else{const{leave:Y,delayLeave:ie,afterLeave:ue}=z,be=()=>r(j,E,A),Pe=()=>{Y(j,()=>{be(),ue&&ue()})};ie?ie(j,be,Pe):Pe()}else r(j,E,A)},Xe=(w,E,A,F=!1,D=!1)=>{const{type:j,props:K,ref:z,children:H,dynamicChildren:L,shapeFlag:re,patchFlag:Y,dirs:ie}=w;if(z!=null&&za(z,null,A,w,!0),re&256){E.ctx.deactivate(w);return}const ue=re&1&&ie,be=!Wi(w);let Pe;if(be&&(Pe=K&&K.onVnodeBeforeUnmount)&&Wt(Pe,E,w),re&6)G(w.component,A,F);else{if(re&128){w.suspense.unmount(A,F);return}ue&&Bn(w,null,E,"beforeUnmount"),re&64?w.type.remove(w,E,A,D,ke,F):L&&(j!==ut||Y>0&&Y&64)?W(L,E,A,!1,!0):(j===ut&&Y&(128|256)||!D&&re&16)&&W(H,E,A),F&&Yt(w)}(be&&(Pe=K&&K.onVnodeUnmounted)||ue)&&it(()=>{Pe&&Wt(Pe,E,w),ue&&Bn(w,null,E,"unmounted")},A)},Yt=w=>{const{type:E,el:A,anchor:F,transition:D}=w;if(E===ut){P(A,F);return}if(E===uo){O(w);return}const j=()=>{o(A),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(w.shapeFlag&1&&D&&!D.persisted){const{leave:K,delayLeave:z}=D,H=()=>K(A,j);z?z(w.el,j,H):H()}else j()},P=(w,E)=>{let A;for(;w!==E;)A=p(w),o(w),w=A;o(E)},G=(w,E,A)=>{const{bum:F,scope:D,update:j,subTree:K,um:z}=w;F&&$o(F),D.stop(),j&&(j.active=!1,Xe(K,w,E,A)),z&&it(z,E),it(()=>{w.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&w.asyncDep&&!w.asyncResolved&&w.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},W=(w,E,A,F=!1,D=!1,j=0)=>{for(let K=j;K<w.length;K++)Xe(w[K],E,A,F,D)},X=w=>w.shapeFlag&6?X(w.component.subTree):w.shapeFlag&128?w.suspense.next():p(w.anchor||w.el),Me=(w,E,A)=>{w==null?E._vnode&&Xe(E._vnode,null,null,!0):v(E._vnode||null,w,E,null,null,null,A),qa(),E._vnode=w},ke={p:v,um:Xe,m:qe,r:Yt,mt:ce,mc:T,pc:We,pbc:V,n:X,o:t};let he,fe;return e&&([he,fe]=e(ke)),{render:Me,hydrate:he,createApp:sw(Me,he)}}function za(t,e,n,r,o=!1){if(te(t)){t.forEach((p,h)=>za(p,e&&(te(e)?e[h]:e),n,r,o));return}if(Wi(r)&&!o)return;const i=r.shapeFlag&4?cu(r.component)||r.component.proxy:r.el,s=o?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Re?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==l&&(ge(c)?(u[c]=null,Ae(f,c)&&(f[c]=null)):ct(c)&&(c.value=null)),ge(l)){const p=()=>{u[l]=s,Ae(f,l)&&(f[l]=s)};s?(p.id=-1,it(p,n)):p()}else if(ct(l)){const p=()=>{l.value=s};s?(p.id=-1,it(p,n)):p()}else pe(l)&&$n(l,a,12,[s,u])}function Wt(t,e,n,r=null){nn(t,e,7,[n,r])}function Xc(t,e,n=!1){const r=t.children,o=e.children;if(te(r)&&te(o))for(let i=0;i<r.length;i++){const s=r[i];let a=o[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[i]=Mr(o[i]),a.el=s.el),n||Xc(s,a))}}function lw(t){const e=t.slice(),n=[0];let r,o,i,s,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(o=n[n.length-1],t[o]<c){e[r]=o,n.push(r);continue}for(i=0,s=n.length-1;i<s;)a=i+s>>1,t[n[a]]<c?i=a+1:s=a;c<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,s=n[i-1];i-- >0;)n[i]=s,s=e[s];return n}const cw=t=>t.__isTeleport,qi=t=>t&&(t.disabled||t.disabled===""),Pd=t=>typeof SVGElement!="undefined"&&t instanceof SVGElement,Qc=(t,e)=>{const n=t&&t.to;return ge(n)?e?e(n):null:n},uw={__isTeleport:!0,process(t,e,n,r,o,i,s,a,l,c){const{mc:u,pc:f,pbc:p,o:{insert:h,querySelector:d,createText:y,createComment:v}}=c,b=qi(e.props);let{shapeFlag:g,children:S,dynamicChildren:m}=e;if(t==null){const O=e.el=y(""),C=e.anchor=y("");h(O,n,r),h(C,n,r);const k=e.target=Qc(e.props,d),M=e.targetAnchor=y("");k&&(h(M,k),s=s||Pd(k));const T=(R,V)=>{g&16&&u(S,R,V,o,i,s,a,l)};b?T(n,C):k&&T(k,M)}else{e.el=t.el;const O=e.anchor=t.anchor,C=e.target=t.target,k=e.targetAnchor=t.targetAnchor,M=qi(t.props),T=M?n:C,R=M?O:k;if(s=s||Pd(C),m?(p(t.dynamicChildren,m,T,o,i,s,a),Xc(t,e,!0)):l||f(t,e,T,R,o,i,s,a,!1),b)M||$a(e,n,O,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const V=e.target=Qc(e.props,d);V&&$a(e,V,null,c,0)}else M&&$a(e,C,k,c,1)}},remove(t,e,n,r,{um:o,o:{remove:i}},s){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:f,props:p}=t;if(f&&i(u),(s||!qi(p))&&(i(c),a&16))for(let h=0;h<l.length;h++){const d=l[h];o(d,e,n,!0,!!d.dynamicChildren)}},move:$a,hydrate:fw};function $a(t,e,n,{o:{insert:r},m:o},i=2){i===0&&r(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=t,f=i===2;if(f&&r(s,e,n),(!f||qi(u))&&l&16)for(let p=0;p<c.length;p++)o(c[p],e,n,2);f&&r(a,e,n)}function fw(t,e,n,r,o,i,{o:{nextSibling:s,parentNode:a,querySelector:l}},c){const u=e.target=Qc(e.props,l);if(u){const f=u._lpa||u.firstChild;e.shapeFlag&16&&(qi(e.props)?(e.anchor=c(s(t),e,a(t),n,r,o,i),e.targetAnchor=f):(e.anchor=s(t),e.targetAnchor=c(f,e,u,n,r,o,i)),u._lpa=e.targetAnchor&&s(e.targetAnchor))}return e.anchor&&s(e.anchor)}const Id=uw,Zc="components",pw="directives";function hw(t,e){return eu(Zc,t,!0,e)||t}const Dd=Symbol();function Fd(t){return ge(t)?eu(Zc,t,!1)||t:t||Dd}function dw(t){return eu(pw,t)}function eu(t,e,n=!0,r=!1){const o=en||tt;if(o){const i=o.type;if(t===Zc){const a=Ka(i);if(a&&(a===e||a===bt(e)||a===no(bt(e))))return i}const s=Bd(o[t]||i[t],e)||Bd(o.appContext[t],e);return!s&&r?i:s}}function Bd(t,e){return t&&(t[e]||t[bt(e)]||t[no(bt(e))])}const ut=Symbol(void 0),Jo=Symbol(void 0),_t=Symbol(void 0),uo=Symbol(void 0),Gi=[];let Ln=null;function nr(t=!1){Gi.push(Ln=t?null:[])}function Ld(){Gi.pop(),Ln=Gi[Gi.length-1]||null}let Ko=1;function tu(t){Ko+=t}function zd(t){return t.dynamicChildren=Ko>0?Ln||Fo:null,Ld(),Ko>0&&Ln&&Ln.push(t),t}function mw(t,e,n,r,o,i){return zd(nu(t,e,n,r,o,i,!0))}function kr(t,e,n,r,o){return zd(le(t,e,n,r,o,!0))}function Er(t){return t?t.__v_isVNode===!0:!1}function zn(t,e){return t.type===e.type&&t.key===e.key}function vw(t){}const Ha="__vInternal",$d=({key:t})=>t!=null?t:null,Va=({ref:t})=>t!=null?ge(t)||ct(t)||pe(t)?{i:en,r:t}:t:null;function nu(t,e=null,n=null,r=0,o=null,i=t===ut?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&$d(e),ref:e&&Va(e),scopeId:Ra,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null};return a?(ou(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=ge(n)?8:16),Ko>0&&!s&&Ln&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ln.push(l),l}const le=gw;function gw(t,e=null,n=null,r=0,o=null,i=!1){if((!t||t===Dd)&&(t=_t),Er(t)){const a=Or(t,e,!0);return n&&ou(a,n),a}if(Rw(t)&&(t=t.__vccOpts),e){e=Hd(e);let{class:a,style:l}=e;a&&!ge(a)&&(e.class=Di(a)),Je(l)&&(_c(l)&&!te(l)&&(l=_e({},l)),e.style=Ii(l))}const s=ge(t)?1:B1(t)?128:cw(t)?64:Je(t)?4:pe(t)?2:0;return nu(t,e,n,r,o,s,i,!0)}function Hd(t){return t?_c(t)||Ha in t?_e({},t):t:null}function Or(t,e,n=!1){const{props:r,ref:o,patchFlag:i,children:s}=t,a=e?Vd(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&$d(a),ref:e&&e.ref?n&&o?te(o)?o.concat(Va(e)):[o,Va(e)]:Va(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ut?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Or(t.ssContent),ssFallback:t.ssFallback&&Or(t.ssFallback),el:t.el,anchor:t.anchor}}function ru(t=" ",e=0){return le(Jo,null,t,e)}function yw(t,e){const n=le(uo,null,t);return n.staticCount=e,n}function bw(t="",e=!1){return e?(nr(),kr(_t,null,t)):le(_t,null,t)}function tn(t){return t==null||typeof t=="boolean"?le(_t):te(t)?le(ut,null,t.slice()):typeof t=="object"?Mr(t):le(Jo,null,String(t))}function Mr(t){return t.el===null||t.memo?t:Or(t)}function ou(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(te(e))n=16;else if(typeof e=="object")if(r&(1|64)){const o=e.default;o&&(o._c&&(o._d=!1),ou(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!(Ha in e)?e._ctx=en:o===3&&en&&(en.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else pe(e)?(e={default:e,_ctx:en},n=32):(e=String(e),r&64?(n=16,e=[ru(e)]):n=8);t.children=e,t.shapeFlag|=n}function Vd(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const o in r)if(o==="class")e.class!==r.class&&(e.class=Di([e.class,r.class]));else if(o==="style")e.style=Ii([e.style,r.style]);else if(Zr(o)){const i=e[o],s=r[o];i!==s&&!(te(i)&&i.includes(s))&&(e[o]=i?[].concat(i,s):s)}else o!==""&&(e[o]=r[o])}return e}function Sw(t,e,n,r){let o;const i=n&&n[r];if(te(t)||ge(t)){o=new Array(t.length);for(let s=0,a=t.length;s<a;s++)o[s]=e(t[s],s,void 0,i&&i[s])}else if(typeof t=="number"){o=new Array(t);for(let s=0;s<t;s++)o[s]=e(s+1,s,void 0,i&&i[s])}else if(Je(t))if(t[Symbol.iterator])o=Array.from(t,(s,a)=>e(s,a,void 0,i&&i[a]));else{const s=Object.keys(t);o=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const c=s[a];o[a]=e(t[c],c,a,i&&i[a])}}else o=[];return n&&(n[r]=o),o}function ww(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(te(r))for(let o=0;o<r.length;o++)t[r[o].name]=r[o].fn;else r&&(t[r.name]=r.fn)}return t}function ja(t,e,n={},r,o){if(en.isCE)return le("slot",e==="default"?null:{name:e},r&&r());let i=t[e];i&&i._c&&(i._d=!1),nr();const s=i&&jd(i(n)),a=kr(ut,{key:n.key||`_${e}`},s||(r?r():[]),s&&t._===1?64:-2);return!o&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function jd(t){return t.some(e=>Er(e)?!(e.type===_t||e.type===ut&&!jd(e.children)):!0)?t:null}function Cw(t){const e={};for(const n in t)e[zo(n)]=t[n];return e}const iu=t=>t?Jd(t)?cu(t)||t.proxy:iu(t.parent):null,Wa=_e(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>iu(t.parent),$root:t=>iu(t.root),$emit:t=>t.emit,$options:t=>gd(t),$forceUpdate:t=>()=>hu(t.update),$nextTick:t=>ts.bind(t.proxy),$watch:t=>Hw.bind(t)}),su={get({_:t},e){const{ctx:n,setupState:r,data:o,props:i,accessCache:s,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=s[e];if(h!==void 0)switch(h){case 0:return r[e];case 1:return o[e];case 3:return n[e];case 2:return i[e]}else{if(r!==Re&&Ae(r,e))return s[e]=0,r[e];if(o!==Re&&Ae(o,e))return s[e]=1,o[e];if((c=t.propsOptions[0])&&Ae(c,e))return s[e]=2,i[e];if(n!==Re&&Ae(n,e))return s[e]=3,n[e];Kc&&(s[e]=4)}}const u=Wa[e];let f,p;if(u)return e==="$attrs"&&Zt(t,"get",e),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Re&&Ae(n,e))return s[e]=3,n[e];if(p=l.config.globalProperties,Ae(p,e))return p[e]},set({_:t},e,n){const{data:r,setupState:o,ctx:i}=t;if(o!==Re&&Ae(o,e))o[e]=n;else if(r!==Re&&Ae(r,e))r[e]=n;else if(Ae(t.props,e))return!1;return e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:o,propsOptions:i}},s){let a;return n[s]!==void 0||t!==Re&&Ae(t,s)||e!==Re&&Ae(e,s)||(a=i[0])&&Ae(a,s)||Ae(r,s)||Ae(Wa,s)||Ae(o.config.globalProperties,s)}},kw=_e({},su,{get(t,e){if(e!==Symbol.unscopables)return su.get(t,e,t)},has(t,e){return e[0]!=="_"&&!kS(e)}}),Ew=Nd();let Ow=0;function Wd(t,e,n){const r=t.type,o=(e?e.appContext:t.appContext)||Ew,i={uid:Ow++,vnode:t,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,update:null,scope:new Cc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Sd(r,o),emitsOptions:ed(r,o),emit:null,emitted:null,propsDefaults:Re,inheritAttrs:r.inheritAttrs,ctx:Re,data:Re,props:Re,attrs:Re,slots:Re,refs:Re,setupState:Re,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=N1.bind(null,i),t.ce&&t.ce(i),i}let tt=null;const rr=()=>tt||en,xr=t=>{tt=t,t.scope.on()},Tr=()=>{tt&&tt.scope.off(),tt=null};function Jd(t){return t.vnode.shapeFlag&4}let Yi=!1;function Kd(t,e=!1){Yi=e;const{props:n,children:r}=t.vnode,o=Jd(t);ew(t,n,o,e),rw(t,r);const i=o?Mw(t,e):void 0;return Yi=!1,i}function Mw(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Ta(new Proxy(t.ctx,su));const{setup:r}=n;if(r){const o=t.setupContext=r.length>1?Gd(t):null;xr(t),io();const i=$n(r,t,0,[t.props,o]);if(yr(),Tr(),Sc(i)){if(i.then(Tr,Tr),e)return i.then(s=>{au(t,s,e)}).catch(s=>{fo(s,t,0)});t.asyncDep=i}else au(t,i,e)}else qd(t,e)}function au(t,e,n){pe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Je(e)&&(t.setupState=Fc(e)),qd(t,n)}let Ja,lu;function Ud(t){Ja=t,lu=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,kw))}}const xw=()=>!Ja;function qd(t,e,n){const r=t.type;if(!t.render){if(!e&&Ja&&!r.render){const o=r.template;if(o){const{isCustomElement:i,compilerOptions:s}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,c=_e(_e({isCustomElement:i,delimiters:a},s),l);r.render=Ja(o,c)}}t.render=r.render||At,lu&&lu(t)}xr(t),io(),G1(t),yr(),Tr()}function Tw(t){return new Proxy(t.attrs,{get(e,n){return Zt(t,"get","$attrs"),e[n]}})}function Gd(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=Tw(t))},slots:t.slots,emit:t.emit,expose:e}}function cu(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Fc(Ta(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Wa)return Wa[n](t)}}))}const Nw=/(?:^|[-_])(\w)/g,Aw=t=>t.replace(Nw,e=>e.toUpperCase()).replace(/[-_]/g,"");function Ka(t){return pe(t)&&t.displayName||t.name}function Yd(t,e,n=!1){let r=Ka(e);if(!r&&e.__file){const o=e.__file.match(/([^/\\]+)\.\w+$/);o&&(r=o[1])}if(!r&&t&&t.parent){const o=i=>{for(const s in i)if(i[s]===e)return s};r=o(t.components||t.parent.type.components)||o(t.appContext.components)}return r?Aw(r):n?"App":"Anonymous"}function Rw(t){return pe(t)&&"__vccOpts"in t}const Xi=[];function Xd(t,...e){io();const n=Xi.length?Xi[Xi.length-1].component:null,r=n&&n.appContext.config.warnHandler,o=_w();if(r)$n(r,n,11,[t+e.join(""),n&&n.proxy,o.map(({vnode:i})=>`at <${Yd(n,i.type)}>`).join(`
`),o]);else{const i=[`[Vue warn]: ${t}`,...e];o.length&&i.push(`
`,...Pw(o)),console.warn(...i)}yr()}function _w(){let t=Xi[Xi.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const r=t.component&&t.component.parent;t=r&&r.vnode}return e}function Pw(t){const e=[];return t.forEach((n,r)=>{e.push(...r===0?[]:[`
`],...Iw(n))}),e}function Iw({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",r=t.component?t.component.parent==null:!1,o=` at <${Yd(t.component,t.type,r)}`,i=">"+n;return t.props?[o,...Dw(t.props),i]:[o+i]}function Dw(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(r=>{e.push(...Qd(r,t[r]))}),n.length>3&&e.push(" ..."),e}function Qd(t,e,n){return ge(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:ct(e)?(e=Qd(t,Ee(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):pe(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Ee(e),n?e:[`${t}=`,e])}function $n(t,e,n,r){let o;try{o=r?t(...r):t()}catch(i){fo(i,e,n)}return o}function nn(t,e,n,r){if(pe(t)){const i=$n(t,e,n,r);return i&&Sc(i)&&i.catch(s=>{fo(s,e,n)}),i}const o=[];for(let i=0;i<t.length;i++)o.push(nn(t[i],e,n,r));return o}function fo(t,e,n,r=!0){const o=e?e.vnode:null;if(e){let i=e.parent;const s=e.proxy,a=n;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,s,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){$n(l,null,10,[t,s,a]);return}}Fw(t,n,o,r)}function Fw(t,e,n,r=!0){console.error(t)}let Ua=!1,uu=!1;const rn=[];let or=0;const Qi=[];let Zi=null,Uo=0;const es=[];let Nr=null,qo=0;const Zd=Promise.resolve();let fu=null,pu=null;function ts(t){const e=fu||Zd;return t?e.then(this?t.bind(this):t):e}function Bw(t){let e=or+1,n=rn.length;for(;e<n;){const r=e+n>>>1;ns(rn[r])<t?e=r+1:n=r}return e}function hu(t){(!rn.length||!rn.includes(t,Ua&&t.allowRecurse?or+1:or))&&t!==pu&&(t.id==null?rn.push(t):rn.splice(Bw(t.id),0,t),em())}function em(){!Ua&&!uu&&(uu=!0,fu=Zd.then(nm))}function Lw(t){const e=rn.indexOf(t);e>or&&rn.splice(e,1)}function tm(t,e,n,r){te(t)?n.push(...t):(!e||!e.includes(t,t.allowRecurse?r+1:r))&&n.push(t),em()}function zw(t){tm(t,Zi,Qi,Uo)}function du(t){tm(t,Nr,es,qo)}function mu(t,e=null){if(Qi.length){for(pu=e,Zi=[...new Set(Qi)],Qi.length=0,Uo=0;Uo<Zi.length;Uo++)Zi[Uo]();Zi=null,Uo=0,pu=null,mu(t,e)}}function qa(t){if(es.length){const e=[...new Set(es)];if(es.length=0,Nr){Nr.push(...e);return}for(Nr=e,Nr.sort((n,r)=>ns(n)-ns(r)),qo=0;qo<Nr.length;qo++)Nr[qo]();Nr=null,qo=0}}const ns=t=>t.id==null?1/0:t.id;function nm(t){uu=!1,Ua=!0,mu(t),rn.sort((n,r)=>ns(n)-ns(r));const e=At;try{for(or=0;or<rn.length;or++){const n=rn[or];n&&n.active!==!1&&$n(n,null,14)}}finally{or=0,rn.length=0,qa(),Ua=!1,fu=null,(rn.length||Qi.length||es.length)&&nm(t)}}function rm(t,e){return rs(t,null,e)}function om(t,e){return rs(t,null,{flush:"post"})}function $w(t,e){return rs(t,null,{flush:"sync"})}const im={};function Ar(t,e,n){return rs(t,e,n)}function rs(t,e,{immediate:n,deep:r,flush:o,onTrack:i,onTrigger:s}=Re){const a=tt;let l,c=!1,u=!1;if(ct(t)?(l=()=>t.value,c=!!t._shallow):so(t)?(l=()=>t,r=!0):te(t)?(u=!0,c=t.some(so),l=()=>t.map(b=>{if(ct(b))return b.value;if(so(b))return po(b);if(pe(b))return $n(b,a,2)})):pe(t)?e?l=()=>$n(t,a,2):l=()=>{if(!(a&&a.isUnmounted))return f&&f(),nn(t,a,3,[p])}:l=At,e&&r){const b=l;l=()=>po(b())}let f,p=b=>{f=v.onStop=()=>{$n(b,a,4)}};if(Yi)return p=At,e?n&&nn(e,a,3,[l(),u?[]:void 0,p]):l(),At;let h=u?[]:im;const d=()=>{if(!!v.active)if(e){const b=v.run();(r||c||(u?b.some((g,S)=>Fi(g,h[S])):Fi(b,h)))&&(f&&f(),nn(e,a,3,[b,h===im?void 0:h,p]),h=b)}else v.run()};d.allowRecurse=!!e;let y;o==="sync"?y=d:o==="post"?y=()=>it(d,a&&a.suspense):y=()=>{!a||a.isMounted?zw(d):d()};const v=new zi(l,y);return e?n?d():h=v.run():o==="post"?it(v.run.bind(v),a&&a.suspense):v.run(),()=>{v.stop(),a&&a.scope&&Oh(a.scope.effects,v)}}function Hw(t,e,n){const r=this.proxy,o=ge(t)?t.includes(".")?sm(r,t):()=>r[t]:t.bind(r,r);let i;pe(e)?i=e:(i=e.handler,n=e);const s=tt;xr(this);const a=rs(o,i.bind(r),n);return s?xr(s):Tr(),a}function sm(t,e){const n=e.split(".");return()=>{let r=t;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function po(t,e){if(!Je(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),ct(t))po(t.value,e);else if(te(t))for(let n=0;n<t.length;n++)po(t[n],e);else if(eo(t)||Bo(t))t.forEach(n=>{po(n,e)});else if(Th(t))for(const n in t)po(t[n],e);return t}function Vw(){return null}function jw(){return null}function Ww(t){}function Jw(t,e){return null}function Kw(){return am().slots}function Uw(){return am().attrs}function am(){const t=rr();return t.setupContext||(t.setupContext=Gd(t))}function qw(t,e){const n=te(t)?t.reduce((r,o)=>(r[o]={},r),{}):t;for(const r in e){const o=n[r];o?te(o)||pe(o)?n[r]={type:o,default:e[r]}:o.default=e[r]:o===null&&(n[r]={default:e[r]})}return n}function Gw(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function Yw(t){const e=rr();let n=t();return Tr(),Sc(n)&&(n=n.catch(r=>{throw xr(e),r})),[n,()=>xr(e)]}function Tn(t,e,n){const r=arguments.length;return r===2?Je(e)&&!te(e)?Er(e)?le(t,null,[e]):le(t,e):le(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Er(n)&&(n=[n]),le(t,e,n))}const lm=Symbol(""),Xw=()=>{{const t=dn(lm);return t||Xd("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function Qw(){}function Zw(t,e,n,r){const o=n[r];if(o&&cm(o,t))return o;const i=e();return i.memo=t.slice(),n[r]=i}function cm(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(n[r]!==e[r])return!1;return Ko>0&&Ln&&Ln.push(t),!0}const um="3.2.22",eC={createComponentInstance:Wd,setupComponent:Kd,renderComponentRoot:Pa,setCurrentRenderingInstance:Hi,isVNode:Er,normalizeVNode:tn},tC=eC,nC=null,rC=null,oC="http://www.w3.org/2000/svg",Go=typeof document!="undefined"?document:null,fm=new Map,iC={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const o=e?Go.createElementNS(oC,t):Go.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:t=>Go.createTextNode(t),createComment:t=>Go.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Go.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r){const o=n?n.previousSibling:e.lastChild;let i=fm.get(t);if(!i){const s=Go.createElement("template");if(s.innerHTML=r?`<svg>${t}</svg>`:t,i=s.content,r){const a=i.firstChild;for(;a.firstChild;)i.appendChild(a.firstChild);i.removeChild(a)}fm.set(t,i)}return e.insertBefore(i.cloneNode(!0),n),[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function sC(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function aC(t,e,n){const r=t.style,o=ge(n);if(n&&!o){for(const i in n)vu(r,i,n[i]);if(e&&!ge(e))for(const i in e)n[i]==null&&vu(r,i,"")}else{const i=r.display;o?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=i)}}const pm=/\s*!important$/;function vu(t,e,n){if(te(n))n.forEach(r=>vu(t,e,r));else if(e.startsWith("--"))t.setProperty(e,n);else{const r=lC(t,e);pm.test(n)?t.setProperty(xn(r),n.replace(pm,""),"important"):t[r]=n}}const hm=["Webkit","Moz","ms"],gu={};function lC(t,e){const n=gu[e];if(n)return n;let r=bt(e);if(r!=="filter"&&r in t)return gu[e]=r;r=no(r);for(let o=0;o<hm.length;o++){const i=hm[o]+r;if(i in t)return gu[e]=i}return e}const dm="http://www.w3.org/1999/xlink";function cC(t,e,n,r,o){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(dm,e.slice(6,e.length)):t.setAttributeNS(dm,e,n);else{const i=OS(e);n==null||i&&!Ch(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function uC(t,e,n,r,o,i,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,o,i),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"){t._value=n;const a=n==null?"":n;t.value!==a&&(t.value=a),n==null&&t.removeAttribute(e);return}if(n===""||n==null){const a=typeof t[e];if(a==="boolean"){t[e]=Ch(n);return}else if(n==null&&a==="string"){t[e]="",t.removeAttribute(e);return}else if(a==="number"){try{t[e]=0}catch{}t.removeAttribute(e);return}}try{t[e]=n}catch{}}let Ga=Date.now,mm=!1;if(typeof window!="undefined"){Ga()>document.createEvent("Event").timeStamp&&(Ga=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);mm=!!(t&&Number(t[1])<=53)}let yu=0;const fC=Promise.resolve(),pC=()=>{yu=0},hC=()=>yu||(fC.then(pC),yu=Ga());function ir(t,e,n,r){t.addEventListener(e,n,r)}function dC(t,e,n,r){t.removeEventListener(e,n,r)}function mC(t,e,n,r,o=null){const i=t._vei||(t._vei={}),s=i[e];if(r&&s)s.value=r;else{const[a,l]=vC(e);if(r){const c=i[e]=gC(r,o);ir(t,a,c,l)}else s&&(dC(t,a,s,l),i[e]=void 0)}}const vm=/(?:Once|Passive|Capture)$/;function vC(t){let e;if(vm.test(t)){e={};let n;for(;n=t.match(vm);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[xn(t.slice(2)),e]}function gC(t,e){const n=r=>{const o=r.timeStamp||Ga();(mm||o>=n.attached-1)&&nn(yC(r,n.value),e,5,[r])};return n.value=t,n.attached=hC(),n}function yC(t,e){if(te(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>o=>!o._stopped&&r(o))}else return e}const gm=/^on[a-z]/,bC=(t,e,n,r,o=!1,i,s,a,l)=>{e==="class"?sC(t,r,o):e==="style"?aC(t,n,r):Zr(e)?bc(e)||mC(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):SC(t,e,r,o))?uC(t,e,r,i,s,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),cC(t,e,r,o))};function SC(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&gm.test(e)&&pe(n)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||gm.test(e)&&ge(n)?!1:e in t}function ym(t,e){const n=jt(t);class r extends Ya{constructor(i){super(n,i,e)}}return r.def=n,r}const wC=t=>ym(t,Hm),CC=typeof HTMLElement!="undefined"?HTMLElement:class{};class Ya extends CC{constructor(e,n={},r){super();this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,ts(()=>{this._connected||(Eu(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const o of r)this._setAttr(o.attributeName)}).observe(this,{attributes:!0});const e=r=>{const{props:o,styles:i}=r,s=!te(o),a=o?s?Object.keys(o):o:[];let l;if(s)for(const c in this._props){const u=o[c];(u===Number||u&&u.type===Number)&&(this._props[c]=vr(this._props[c]),(l||(l=Object.create(null)))[c]=!0)}this._numberProps=l;for(const c of Object.keys(this))c[0]!=="_"&&this._setProp(c,this[c],!0,!1);for(const c of a.map(bt))Object.defineProperty(this,c,{get(){return this._getProp(c)},set(u){this._setProp(c,u)}});this._applyStyles(i),this._update()},n=this._def.__asyncLoader;n?n().then(e):e(this._def)}_setAttr(e){let n=this.getAttribute(e);this._numberProps&&this._numberProps[e]&&(n=vr(n)),this._setProp(bt(e),n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,o=!0){n!==this._props[e]&&(this._props[e]=n,o&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(xn(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(xn(e),n+""):n||this.removeAttribute(xn(e))))}_update(){Eu(this._createVNode(),this.shadowRoot)}_createVNode(){const e=le(this._def,_e({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0,n.emit=(o,...i)=>{this.dispatchEvent(new CustomEvent(o,{detail:i}))};let r=this;for(;r=r&&(r.parentNode||r.host);)if(r instanceof Ya){n.parent=r._instance;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function kC(t="$style"){{const e=rr();if(!e)return Re;const n=e.type.__cssModules;if(!n)return Re;const r=n[t];return r||Re}}function EC(t){const e=rr();if(!e)return;const n=()=>bu(e.subTree,t(e.proxy));om(n),tr(()=>{const r=new MutationObserver(n);r.observe(e.subTree.el.parentNode,{childList:!0}),Ui(()=>r.disconnect())})}function bu(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{bu(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)bm(t.el,e);else if(t.type===ut)t.children.forEach(n=>bu(n,e));else if(t.type===uo){let{el:n,anchor:r}=t;for(;n&&(bm(n,e),n!==r);)n=n.nextSibling}}function bm(t,e){if(t.nodeType===1){const n=t.style;for(const r in e)n.setProperty(`--${r}`,e[r])}}const Rr="transition",is="animation",Xa=(t,{slots:e})=>Tn(Hc,Cm(t),e);Xa.displayName="Transition";const Sm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},OC=Xa.props=_e({},Hc.props,Sm),ho=(t,e=[])=>{te(t)?t.forEach(n=>n(...e)):t&&t(...e)},wm=t=>t?te(t)?t.some(e=>e.length>1):t.length>1:!1;function Cm(t){const e={};for(const N in t)N in Sm||(e[N]=t[N]);if(t.css===!1)return e;const{name:n="v",type:r,duration:o,enterFromClass:i=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=s,appearToClass:u=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,d=MC(o),y=d&&d[0],v=d&&d[1],{onBeforeEnter:b,onEnter:g,onEnterCancelled:S,onLeave:m,onLeaveCancelled:O,onBeforeAppear:C=b,onAppear:k=g,onAppearCancelled:M=S}=e,T=(N,x,U)=>{mo(N,x?u:a),mo(N,x?c:s),U&&U()},R=(N,x)=>{mo(N,h),mo(N,p),x&&x()},V=N=>(x,U)=>{const ce=N?k:g,Q=()=>T(x,N,U);ho(ce,[x,Q]),km(()=>{mo(x,N?l:i),sr(x,N?u:a),wm(ce)||Em(x,r,y,Q)})};return _e(e,{onBeforeEnter(N){ho(b,[N]),sr(N,i),sr(N,s)},onBeforeAppear(N){ho(C,[N]),sr(N,l),sr(N,c)},onEnter:V(!1),onAppear:V(!0),onLeave(N,x){const U=()=>R(N,x);sr(N,f),Tm(),sr(N,p),km(()=>{mo(N,f),sr(N,h),wm(m)||Em(N,r,v,U)}),ho(m,[N,U])},onEnterCancelled(N){T(N,!1),ho(S,[N])},onAppearCancelled(N){T(N,!0),ho(M,[N])},onLeaveCancelled(N){R(N),ho(O,[N])}})}function MC(t){if(t==null)return null;if(Je(t))return[Su(t.enter),Su(t.leave)];{const e=Su(t);return[e,e]}}function Su(t){return vr(t)}function sr(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function mo(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function km(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let xC=0;function Em(t,e,n,r){const o=t._endId=++xC,i=()=>{o===t._endId&&r()};if(n)return setTimeout(i,n);const{type:s,timeout:a,propCount:l}=Om(t,e);if(!s)return r();const c=s+"end";let u=0;const f=()=>{t.removeEventListener(c,p),i()},p=h=>{h.target===t&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},a+1),t.addEventListener(c,p)}function Om(t,e){const n=window.getComputedStyle(t),r=d=>(n[d]||"").split(", "),o=r(Rr+"Delay"),i=r(Rr+"Duration"),s=Mm(o,i),a=r(is+"Delay"),l=r(is+"Duration"),c=Mm(a,l);let u=null,f=0,p=0;e===Rr?s>0&&(u=Rr,f=s,p=i.length):e===is?c>0&&(u=is,f=c,p=l.length):(f=Math.max(s,c),u=f>0?s>c?Rr:is:null,p=u?u===Rr?i.length:l.length:0);const h=u===Rr&&/\b(transform|all)(,|$)/.test(n[Rr+"Property"]);return{type:u,timeout:f,propCount:p,hasTransform:h}}function Mm(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>xm(n)+xm(t[r])))}function xm(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function Tm(){return document.body.offsetHeight}const Nm=new WeakMap,Am=new WeakMap,TC={name:"TransitionGroup",props:_e({},OC,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=rr(),r=$c();let o,i;return Fa(()=>{if(!o.length)return;const s=t.moveClass||`${t.name||"v"}-move`;if(!PC(o[0].el,n.vnode.el,s))return;o.forEach(AC),o.forEach(RC);const a=o.filter(_C);Tm(),a.forEach(l=>{const c=l.el,u=c.style;sr(c,s),u.transform=u.webkitTransform=u.transitionDuration="";const f=c._moveCb=p=>{p&&p.target!==c||(!p||/transform$/.test(p.propertyName))&&(c.removeEventListener("transitionend",f),c._moveCb=null,mo(c,s))};c.addEventListener("transitionend",f)})}),()=>{const s=Ee(t),a=Cm(s);let l=s.tag||ut;o=i,i=e.default?Ia(e.default()):[];for(let c=0;c<i.length;c++){const u=i[c];u.key!=null&&lo(u,Wo(u,a,r,n))}if(o)for(let c=0;c<o.length;c++){const u=o[c];lo(u,Wo(u,a,r,n)),Nm.set(u,u.el.getBoundingClientRect())}return le(l,null,i)}}},NC=TC;function AC(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function RC(t){Am.set(t,t.el.getBoundingClientRect())}function _C(t){const e=Nm.get(t),n=Am.get(t),r=e.left-n.left,o=e.top-n.top;if(r||o){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${o}px)`,i.transitionDuration="0s",t}}function PC(t,e,n){const r=t.cloneNode();t._vtc&&t._vtc.forEach(s=>{s.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(r);const{hasTransform:i}=Om(r);return o.removeChild(r),i}const _r=t=>{const e=t.props["onUpdate:modelValue"];return te(e)?n=>$o(e,n):e};function IC(t){t.target.composing=!0}function Rm(t){const e=t.target;e.composing&&(e.composing=!1,DC(e,"input"))}function DC(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}const Qa={created(t,{modifiers:{lazy:e,trim:n,number:r}},o){t._assign=_r(o);const i=r||o.props&&o.props.type==="number";ir(t,e?"change":"input",s=>{if(s.target.composing)return;let a=t.value;n?a=a.trim():i&&(a=vr(a)),t._assign(a)}),n&&ir(t,"change",()=>{t.value=t.value.trim()}),e||(ir(t,"compositionstart",IC),ir(t,"compositionend",Rm),ir(t,"change",Rm))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:o}},i){if(t._assign=_r(i),t.composing||document.activeElement===t&&(n||r&&t.value.trim()===e||(o||t.type==="number")&&vr(t.value)===e))return;const s=e==null?"":e;t.value!==s&&(t.value=s)}},wu={deep:!0,created(t,e,n){t._assign=_r(n),ir(t,"change",()=>{const r=t._modelValue,o=Yo(t),i=t.checked,s=t._assign;if(te(r)){const a=ha(r,o),l=a!==-1;if(i&&!l)s(r.concat(o));else if(!i&&l){const c=[...r];c.splice(a,1),s(c)}}else if(eo(r)){const a=new Set(r);i?a.add(o):a.delete(o),s(a)}else s(Dm(t,i))})},mounted:_m,beforeUpdate(t,e,n){t._assign=_r(n),_m(t,e,n)}};function _m(t,{value:e,oldValue:n},r){t._modelValue=e,te(e)?t.checked=ha(e,r.props.value)>-1:eo(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=mr(e,Dm(t,!0)))}const Cu={created(t,{value:e},n){t.checked=mr(e,n.props.value),t._assign=_r(n),ir(t,"change",()=>{t._assign(Yo(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t._assign=_r(r),e!==n&&(t.checked=mr(e,r.props.value))}},Pm={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const o=eo(e);ir(t,"change",()=>{const i=Array.prototype.filter.call(t.options,s=>s.selected).map(s=>n?vr(Yo(s)):Yo(s));t._assign(t.multiple?o?new Set(i):i:i[0])}),t._assign=_r(r)},mounted(t,{value:e}){Im(t,e)},beforeUpdate(t,e,n){t._assign=_r(n)},updated(t,{value:e}){Im(t,e)}};function Im(t,e){const n=t.multiple;if(!(n&&!te(e)&&!eo(e))){for(let r=0,o=t.options.length;r<o;r++){const i=t.options[r],s=Yo(i);if(n)te(e)?i.selected=ha(e,s)>-1:i.selected=e.has(s);else if(mr(Yo(i),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Yo(t){return"_value"in t?t._value:t.value}function Dm(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const FC={created(t,e,n){Za(t,e,n,null,"created")},mounted(t,e,n){Za(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Za(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Za(t,e,n,r,"updated")}};function Za(t,e,n,r,o){let i;switch(t.tagName){case"SELECT":i=Pm;break;case"TEXTAREA":i=Qa;break;default:switch(n.props&&n.props.type){case"checkbox":i=wu;break;case"radio":i=Cu;break;default:i=Qa}}const s=i[o];s&&s(t,e,n,r)}function BC(){Qa.getSSRProps=({value:t})=>({value:t}),Cu.getSSRProps=({value:t},e)=>{if(e.props&&mr(e.props.value,t))return{checked:!0}},wu.getSSRProps=({value:t},e)=>{if(te(t)){if(e.props&&ha(t,e.props.value)>-1)return{checked:!0}}else if(eo(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}}}const LC=["ctrl","shift","alt","meta"],zC={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>LC.some(n=>t[`${n}Key`]&&!e.includes(n))},Fm=(t,e)=>(n,...r)=>{for(let o=0;o<e.length;o++){const i=zC[e[o]];if(i&&i(n,e))return}return t(n,...r)},$C={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},HC=(t,e)=>n=>{if(!("key"in n))return;const r=xn(n.key);if(e.some(o=>o===r||$C[o]===r))return t(n)},ku={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):ss(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),ss(t,!0),r.enter(t)):r.leave(t,()=>{ss(t,!1)}):ss(t,e))},beforeUnmount(t,{value:e}){ss(t,e)}};function ss(t,e){t.style.display=e?t._vod:"none"}function VC(){ku.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const Bm=_e({patchProp:bC},iC);let as,Lm=!1;function zm(){return as||(as=Ad(Bm))}function $m(){return as=Lm?as:Rd(Bm),Lm=!0,as}const Eu=(...t)=>{zm().render(...t)},Hm=(...t)=>{$m().hydrate(...t)},jC=(...t)=>{const e=zm().createApp(...t),{mount:n}=e;return e.mount=r=>{const o=Vm(r);if(!o)return;const i=e._component;!pe(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const s=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},e},WC=(...t)=>{const e=$m().createApp(...t),{mount:n}=e;return e.mount=r=>{const o=Vm(r);if(o)return n(o,!0,o instanceof SVGElement)},e};function Vm(t){return ge(t)?document.querySelector(t):t}let jm=!1;const JC=()=>{jm||(jm=!0,BC(),VC())};var KC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Transition:Xa,TransitionGroup:NC,VueElement:Ya,createApp:jC,createSSRApp:WC,defineCustomElement:ym,defineSSRCustomElement:wC,hydrate:Hm,initDirectivesForSSR:JC,render:Eu,useCssModule:kC,useCssVars:EC,vModelCheckbox:wu,vModelDynamic:FC,vModelRadio:Cu,vModelSelect:Pm,vModelText:Qa,vShow:ku,withKeys:HC,withModifiers:Fm,EffectScope:Cc,ReactiveEffect:zi,computed:hn,customRef:Xh,effect:qS,effectScope:jS,getCurrentScope:WS,isProxy:_c,isReactive:so,isReadonly:Rc,isRef:ct,markRaw:Ta,onScopeDispose:JS,proxyRefs:Fc,reactive:Sr,readonly:Ac,ref:Zn,shallowReactive:Gh,shallowReadonly:w1,shallowRef:Dc,stop:GS,toRaw:Ee,toRef:Qh,toRefs:M1,triggerRef:k1,unref:ao,camelize:bt,capitalize:no,normalizeClass:Di,normalizeProps:TS,normalizeStyle:Ii,toDisplayString:FS,toHandlerKey:zo,BaseTransition:Hc,Comment:_t,Fragment:ut,KeepAlive:U1,Static:uo,Suspense:z1,Teleport:Id,Text:Jo,callWithAsyncErrorHandling:nn,callWithErrorHandling:$n,cloneVNode:Or,compatUtils:rC,createBlock:kr,createCommentVNode:bw,createElementBlock:mw,createElementVNode:nu,createHydrationRenderer:Rd,createPropsRestProxy:Gw,createRenderer:Ad,createSlots:ww,createStaticVNode:yw,createTextVNode:ru,createVNode:le,defineAsyncComponent:J1,defineComponent:jt,defineEmits:jw,defineExpose:Ww,defineProps:Vw,get devtools(){return Vo},getCurrentInstance:rr,getTransitionRawChildren:Ia,guardReactiveProps:Hd,h:Tn,handleError:fo,initCustomFormatter:Qw,inject:dn,isMemoSame:cm,isRuntimeOnly:xw,isVNode:Er,mergeDefaults:qw,mergeProps:Vd,nextTick:ts,onActivated:sd,onBeforeMount:cd,onBeforeUnmount:wr,onBeforeUpdate:ud,onDeactivated:ad,onErrorCaptured:dd,onMounted:tr,onRenderTracked:hd,onRenderTriggered:pd,onServerPrefetch:fd,onUnmounted:Ui,onUpdated:Fa,openBlock:nr,popScopeId:R1,provide:ji,pushScopeId:A1,queuePostFlushCb:du,registerRuntimeCompiler:Ud,renderList:Sw,renderSlot:ja,resolveComponent:hw,resolveDirective:dw,resolveDynamicComponent:Fd,resolveFilter:nC,resolveTransitionHooks:Wo,setBlockTracking:tu,setDevtoolsHook:Zh,setTransitionHooks:lo,ssrContextKey:lm,ssrUtils:tC,toHandlers:Cw,transformVNodeArgs:vw,useAttrs:Uw,useSSRContext:Xw,useSlots:Kw,useTransitionState:$c,version:um,warn:Xd,watch:Ar,watchEffect:rm,watchPostEffect:om,watchSyncEffect:$w,withAsyncContext:Yw,withCtx:_a,withDefaults:Jw,withDirectives:Td,withMemo:Zw,withScopeId:_1});function Ou(t){throw t}function Wm(t){}function Ke(t,e,n,r){const o=t,i=new SyntaxError(String(o));return i.code=t,i.loc=e,i}const ls=Symbol(""),cs=Symbol(""),Mu=Symbol(""),el=Symbol(""),Jm=Symbol(""),vo=Symbol(""),Km=Symbol(""),Um=Symbol(""),xu=Symbol(""),Tu=Symbol(""),us=Symbol(""),Nu=Symbol(""),qm=Symbol(""),Au=Symbol(""),tl=Symbol(""),Ru=Symbol(""),_u=Symbol(""),Pu=Symbol(""),Iu=Symbol(""),Gm=Symbol(""),Ym=Symbol(""),nl=Symbol(""),rl=Symbol(""),Du=Symbol(""),Fu=Symbol(""),fs=Symbol(""),ps=Symbol(""),Bu=Symbol(""),Lu=Symbol(""),UC=Symbol(""),zu=Symbol(""),ol=Symbol(""),qC=Symbol(""),GC=Symbol(""),$u=Symbol(""),YC=Symbol(""),XC=Symbol(""),Hu=Symbol(""),Xm=Symbol(""),Pr={[ls]:"Fragment",[cs]:"Teleport",[Mu]:"Suspense",[el]:"KeepAlive",[Jm]:"BaseTransition",[vo]:"openBlock",[Km]:"createBlock",[Um]:"createElementBlock",[xu]:"createVNode",[Tu]:"createElementVNode",[us]:"createCommentVNode",[Nu]:"createTextVNode",[qm]:"createStaticVNode",[Au]:"resolveComponent",[tl]:"resolveDynamicComponent",[Ru]:"resolveDirective",[_u]:"resolveFilter",[Pu]:"withDirectives",[Iu]:"renderList",[Gm]:"renderSlot",[Ym]:"createSlots",[nl]:"toDisplayString",[rl]:"mergeProps",[Du]:"normalizeClass",[Fu]:"normalizeStyle",[fs]:"normalizeProps",[ps]:"guardReactiveProps",[Bu]:"toHandlers",[Lu]:"camelize",[UC]:"capitalize",[zu]:"toHandlerKey",[ol]:"setBlockTracking",[qC]:"pushScopeId",[GC]:"popScopeId",[$u]:"withCtx",[YC]:"unref",[XC]:"isRef",[Hu]:"withMemo",[Xm]:"isMemoSame"};function QC(t){Object.getOwnPropertySymbols(t).forEach(e=>{Pr[e]=t[e]})}const on={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function ZC(t,e=on){return{type:0,children:t,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:e}}function hs(t,e,n,r,o,i,s,a=!1,l=!1,c=!1,u=on){return t&&(a?(t.helper(vo),t.helper(ei(t.inSSR,c))):t.helper(Zo(t.inSSR,c)),s&&t.helper(Pu)),{type:13,tag:e,props:n,children:r,patchFlag:o,dynamicProps:i,directives:s,isBlock:a,disableTracking:l,isComponent:c,loc:u}}function ds(t,e=on){return{type:17,loc:e,elements:t}}function vn(t,e=on){return{type:15,loc:e,properties:t}}function Qe(t,e){return{type:16,loc:on,key:ge(t)?we(t,!0):t,value:e}}function we(t,e=!1,n=on,r=0){return{type:4,loc:n,content:t,isStatic:e,constType:e?3:r}}function Hn(t,e=on){return{type:8,loc:e,children:t}}function Ze(t,e=[],n=on){return{type:14,loc:n,callee:t,arguments:e}}function Xo(t,e=void 0,n=!1,r=!1,o=on){return{type:18,params:t,returns:e,newline:n,isSlot:r,loc:o}}function Vu(t,e,n,r=!0){return{type:19,test:t,consequent:e,alternate:n,newline:r,loc:on}}function ek(t,e,n=!1){return{type:20,index:t,value:e,isVNode:n,loc:on}}function tk(t){return{type:21,body:t,loc:on}}const Jt=t=>t.type===4&&t.isStatic,Qo=(t,e)=>t===e||t===xn(e);function Qm(t){if(Qo(t,"Teleport"))return cs;if(Qo(t,"Suspense"))return Mu;if(Qo(t,"KeepAlive"))return el;if(Qo(t,"BaseTransition"))return Jm}const nk=/^\d|[^\$\w]/,ju=t=>!nk.test(t),rk=/[A-Za-z_$\xA0-\uFFFF]/,ok=/[\.\?\w$\xA0-\uFFFF]/,ik=/\s+[.[]\s*|\s*[.[]\s+/g,sk=t=>{t=t.trim().replace(ik,s=>s.trim());let e=0,n=[],r=0,o=0,i=null;for(let s=0;s<t.length;s++){const a=t.charAt(s);switch(e){case 0:if(a==="[")n.push(e),e=1,r++;else if(a==="(")n.push(e),e=2,o++;else if(!(s===0?rk:ok).test(a))return!1;break;case 1:a==="'"||a==='"'||a==="`"?(n.push(e),e=3,i=a):a==="["?r++:a==="]"&&(--r||(e=n.pop()));break;case 2:if(a==="'"||a==='"'||a==="`")n.push(e),e=3,i=a;else if(a==="(")o++;else if(a===")"){if(s===t.length-1)return!1;--o||(e=n.pop())}break;case 3:a===i&&(e=n.pop(),i=null);break}}return!r&&!o},Zm=sk;function ev(t,e,n){const o={source:t.source.slice(e,e+n),start:il(t.start,t.source,e),end:t.end};return n!=null&&(o.end=il(t.start,t.source,e+n)),o}function il(t,e,n=e.length){return sl(_e({},t),e,n)}function sl(t,e,n=e.length){let r=0,o=-1;for(let i=0;i<n;i++)e.charCodeAt(i)===10&&(r++,o=i);return t.offset+=n,t.line+=r,t.column=o===-1?t.column+n:n-o,t}function gn(t,e,n=!1){for(let r=0;r<t.props.length;r++){const o=t.props[r];if(o.type===7&&(n||o.exp)&&(ge(e)?o.name===e:e.test(o.name)))return o}}function ms(t,e,n=!1,r=!1){for(let o=0;o<t.props.length;o++){const i=t.props[o];if(i.type===6){if(n)continue;if(i.name===e&&(i.value||r))return i}else if(i.name==="bind"&&(i.exp||r)&&al(i.arg,e))return i}}function al(t,e){return!!(t&&Jt(t)&&t.content===e)}function ak(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function Wu(t){return t.type===5||t.type===2}function lk(t){return t.type===7&&t.name==="slot"}function ll(t){return t.type===1&&t.tagType===3}function cl(t){return t.type===1&&t.tagType===2}function Zo(t,e){return t||e?xu:Tu}function ei(t,e){return t||e?Km:Um}const ck=new Set([fs,ps]);function tv(t,e=[]){if(t&&!ge(t)&&t.type===14){const n=t.callee;if(!ge(n)&&ck.has(n))return tv(t.arguments[0],e.concat(t))}return[t,e]}function ul(t,e,n){let r,i=t.type===13?t.props:t.arguments[2],s=[],a;if(i&&!ge(i)&&i.type===14){const l=tv(i);i=l[0],s=l[1],a=s[s.length-1]}if(i==null||ge(i))r=vn([e]);else if(i.type===14){const l=i.arguments[0];!ge(l)&&l.type===15?l.properties.unshift(e):i.callee===Bu?r=Ze(n.helper(rl),[vn([e]),i]):i.arguments.unshift(vn([e])),!r&&(r=i)}else if(i.type===15){let l=!1;if(e.key.type===4){const c=e.key.content;l=i.properties.some(u=>u.key.type===4&&u.key.content===c)}l||i.properties.unshift(e),r=i}else r=Ze(n.helper(rl),[vn([e]),i]),a&&a.callee===ps&&(a=s[s.length-2]);t.type===13?a?a.arguments[0]=r:t.props=r:a?a.arguments[0]=r:t.arguments[2]=r}function vs(t,e){return`_${e}_${t.replace(/[^\w]/g,(n,r)=>n==="-"?"_":t.charCodeAt(r).toString())}`}function uk(t){return t.type===14&&t.callee===Hu?t.arguments[1].returns:t}function Ju(t,{helper:e,removeHelper:n,inSSR:r}){t.isBlock||(t.isBlock=!0,n(Zo(r,t.isComponent)),e(vo),e(ei(r,t.isComponent)))}function nv(t,e){const n=e.options?e.options.compatConfig:e.compatConfig,r=n&&n[t];return t==="MODE"?r||3:r}function go(t,e){const n=nv("MODE",e),r=nv(t,e);return n===3?r===!0:r!==!1}function ti(t,e,n,...r){return go(t,e)}const fk=/&(gt|lt|amp|apos|quot);/g,pk={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},rv={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:da,isPreTag:da,isCustomElement:da,decodeEntities:t=>t.replace(fk,(e,n)=>pk[n]),onError:Ou,onWarn:Wm,comments:!1};function hk(t,e={}){const n=dk(t,e),r=sn(n);return ZC(Ku(n,0,[]),yn(n,r))}function dk(t,e){const n=_e({},rv);let r;for(r in e)n[r]=e[r]===void 0?rv[r]:e[r];return{options:n,column:1,line:1,offset:0,originalSource:t,source:t,inPre:!1,inVPre:!1,onWarn:n.onWarn}}function Ku(t,e,n){const r=fl(n),o=r?r.ns:0,i=[];for(;!kk(t,e,n);){const a=t.source;let l;if(e===0||e===1){if(!t.inVPre&&St(a,t.options.delimiters[0]))l=wk(t,e);else if(e===0&&a[0]==="<")if(a.length===1)De(t,5,1);else if(a[1]==="!")St(a,"<!--")?l=vk(t):St(a,"<!DOCTYPE")?l=gs(t):St(a,"<![CDATA[")?o!==0?l=mk(t,n):(De(t,1),l=gs(t)):(De(t,11),l=gs(t));else if(a[1]==="/")if(a.length===2)De(t,5,2);else if(a[2]===">"){De(t,14,2),nt(t,3);continue}else if(/[a-z]/i.test(a[2])){De(t,23),Uu(t,1,r);continue}else De(t,12,2),l=gs(t);else/[a-z]/i.test(a[1])?(l=gk(t,n),go("COMPILER_NATIVE_TEMPLATE",t)&&l&&l.tag==="template"&&!l.props.some(c=>c.type===7&&iv(c.name))&&(l=l.children)):a[1]==="?"?(De(t,21,1),l=gs(t)):De(t,12,1)}if(l||(l=Ck(t,e)),te(l))for(let c=0;c<l.length;c++)ov(i,l[c]);else ov(i,l)}let s=!1;if(e!==2&&e!==1){const a=t.options.whitespace!=="preserve";for(let l=0;l<i.length;l++){const c=i[l];if(!t.inPre&&c.type===2)if(/[^\t\r\n\f ]/.test(c.content))a&&(c.content=c.content.replace(/[\t\r\n\f ]+/g," "));else{const u=i[l-1],f=i[l+1];!u||!f||a&&(u.type===3||f.type===3||u.type===1&&f.type===1&&/[\r\n]/.test(c.content))?(s=!0,i[l]=null):c.content=" "}else c.type===3&&!t.options.comments&&(s=!0,i[l]=null)}if(t.inPre&&r&&t.options.isPreTag(r.tag)){const l=i[0];l&&l.type===2&&(l.content=l.content.replace(/^\r?\n/,""))}}return s?i.filter(Boolean):i}function ov(t,e){if(e.type===2){const n=fl(t);if(n&&n.type===2&&n.loc.end.offset===e.loc.start.offset){n.content+=e.content,n.loc.end=e.loc.end,n.loc.source+=e.loc.source;return}}t.push(e)}function mk(t,e){nt(t,9);const n=Ku(t,3,e);return t.source.length===0?De(t,6):nt(t,3),n}function vk(t){const e=sn(t);let n;const r=/--(\!)?>/.exec(t.source);if(!r)n=t.source.slice(4),nt(t,t.source.length),De(t,7);else{r.index<=3&&De(t,0),r[1]&&De(t,10),n=t.source.slice(4,r.index);const o=t.source.slice(0,r.index);let i=1,s=0;for(;(s=o.indexOf("<!--",i))!==-1;)nt(t,s-i+1),s+4<o.length&&De(t,16),i=s+1;nt(t,r.index+r[0].length-i+1)}return{type:3,content:n,loc:yn(t,e)}}function gs(t){const e=sn(t),n=t.source[1]==="?"?1:2;let r;const o=t.source.indexOf(">");return o===-1?(r=t.source.slice(n),nt(t,t.source.length)):(r=t.source.slice(n,o),nt(t,o+1)),{type:3,content:r,loc:yn(t,e)}}function gk(t,e){const n=t.inPre,r=t.inVPre,o=fl(e),i=Uu(t,0,o),s=t.inPre&&!n,a=t.inVPre&&!r;if(i.isSelfClosing||t.options.isVoidTag(i.tag))return s&&(t.inPre=!1),a&&(t.inVPre=!1),i;e.push(i);const l=t.options.getTextMode(i,o),c=Ku(t,l,e);e.pop();{const u=i.props.find(f=>f.type===6&&f.name==="inline-template");if(u&&ti("COMPILER_INLINE_TEMPLATE",t,u.loc)){const f=yn(t,i.loc.end);u.value={type:2,content:f.source,loc:f}}}if(i.children=c,qu(t.source,i.tag))Uu(t,1,o);else if(De(t,24,0,i.loc.start),t.source.length===0&&i.tag.toLowerCase()==="script"){const u=c[0];u&&St(u.loc.source,"<!--")&&De(t,8)}return i.loc=yn(t,i.loc.start),s&&(t.inPre=!1),a&&(t.inVPre=!1),i}const iv=Qt("if,else,else-if,for,slot");function Uu(t,e,n){const r=sn(t),o=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(t.source),i=o[1],s=t.options.getNamespace(i,n);nt(t,o[0].length),bs(t);const a=sn(t),l=t.source;t.options.isPreTag(i)&&(t.inPre=!0);let c=sv(t,e);e===0&&!t.inVPre&&c.some(p=>p.type===7&&p.name==="pre")&&(t.inVPre=!0,_e(t,a),t.source=l,c=sv(t,e).filter(p=>p.name!=="v-pre"));let u=!1;if(t.source.length===0?De(t,9):(u=St(t.source,"/>"),e===1&&u&&De(t,4),nt(t,u?2:1)),e===1)return;let f=0;return t.inVPre||(i==="slot"?f=2:i==="template"?c.some(p=>p.type===7&&iv(p.name))&&(f=3):yk(i,c,t)&&(f=1)),{type:1,ns:s,tag:i,tagType:f,props:c,isSelfClosing:u,children:[],loc:yn(t,r),codegenNode:void 0}}function yk(t,e,n){const r=n.options;if(r.isCustomElement(t))return!1;if(t==="component"||/^[A-Z]/.test(t)||Qm(t)||r.isBuiltInComponent&&r.isBuiltInComponent(t)||r.isNativeTag&&!r.isNativeTag(t))return!0;for(let o=0;o<e.length;o++){const i=e[o];if(i.type===6){if(i.name==="is"&&i.value){if(i.value.content.startsWith("vue:"))return!0;if(ti("COMPILER_IS_ON_ELEMENT",n,i.loc))return!0}}else{if(i.name==="is")return!0;if(i.name==="bind"&&al(i.arg,"is")&&!0&&ti("COMPILER_IS_ON_ELEMENT",n,i.loc))return!0}}}function sv(t,e){const n=[],r=new Set;for(;t.source.length>0&&!St(t.source,">")&&!St(t.source,"/>");){if(St(t.source,"/")){De(t,22),nt(t,1),bs(t);continue}e===1&&De(t,3);const o=bk(t,r);o.type===6&&o.value&&o.name==="class"&&(o.value.content=o.value.content.replace(/\s+/g," ").trim()),e===0&&n.push(o),/^[^\t\r\n\f />]/.test(t.source)&&De(t,15),bs(t)}return n}function bk(t,e){const n=sn(t),o=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(t.source)[0];e.has(o)&&De(t,2),e.add(o),o[0]==="="&&De(t,19);{const a=/["'<]/g;let l;for(;l=a.exec(o);)De(t,17,l.index)}nt(t,o.length);let i;/^[\t\r\n\f ]*=/.test(t.source)&&(bs(t),nt(t,1),bs(t),i=Sk(t),i||De(t,13));const s=yn(t,n);if(!t.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(o)){const a=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(o);let l=St(o,"."),c=a[1]||(l||St(o,":")?"bind":St(o,"@")?"on":"slot"),u;if(a[2]){const p=c==="slot",h=o.lastIndexOf(a[2]),d=yn(t,av(t,n,h),av(t,n,h+a[2].length+(p&&a[3]||"").length));let y=a[2],v=!0;y.startsWith("[")?(v=!1,y.endsWith("]")?y=y.slice(1,y.length-1):(De(t,27),y=y.slice(1))):p&&(y+=a[3]||""),u={type:4,content:y,isStatic:v,constType:v?3:0,loc:d}}if(i&&i.isQuoted){const p=i.loc;p.start.offset++,p.start.column++,p.end=il(p.start,i.content),p.source=p.source.slice(1,-1)}const f=a[3]?a[3].slice(1).split("."):[];return l&&f.push("prop"),c==="bind"&&u&&f.includes("sync")&&ti("COMPILER_V_BIND_SYNC",t,s,u.loc.source)&&(c="model",f.splice(f.indexOf("sync"),1)),{type:7,name:c,exp:i&&{type:4,content:i.content,isStatic:!1,constType:0,loc:i.loc},arg:u,modifiers:f,loc:s}}return!t.inVPre&&St(o,"v-")&&De(t,26),{type:6,name:o,value:i&&{type:2,content:i.content,loc:i.loc},loc:s}}function Sk(t){const e=sn(t);let n;const r=t.source[0],o=r==='"'||r==="'";if(o){nt(t,1);const i=t.source.indexOf(r);i===-1?n=ys(t,t.source.length,4):(n=ys(t,i,4),nt(t,1))}else{const i=/^[^\t\r\n\f >]+/.exec(t.source);if(!i)return;const s=/["'<=`]/g;let a;for(;a=s.exec(i[0]);)De(t,18,a.index);n=ys(t,i[0].length,4)}return{content:n,isQuoted:o,loc:yn(t,e)}}function wk(t,e){const[n,r]=t.options.delimiters,o=t.source.indexOf(r,n.length);if(o===-1){De(t,25);return}const i=sn(t);nt(t,n.length);const s=sn(t),a=sn(t),l=o-n.length,c=t.source.slice(0,l),u=ys(t,l,e),f=u.trim(),p=u.indexOf(f);p>0&&sl(s,c,p);const h=l-(u.length-f.length-p);return sl(a,c,h),nt(t,r.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:f,loc:yn(t,s,a)},loc:yn(t,i)}}function Ck(t,e){const n=e===3?["]]>"]:["<",t.options.delimiters[0]];let r=t.source.length;for(let s=0;s<n.length;s++){const a=t.source.indexOf(n[s],1);a!==-1&&r>a&&(r=a)}const o=sn(t),i=ys(t,r,e);return{type:2,content:i,loc:yn(t,o)}}function ys(t,e,n){const r=t.source.slice(0,e);return nt(t,e),n===2||n===3||r.indexOf("&")===-1?r:t.options.decodeEntities(r,n===4)}function sn(t){const{column:e,line:n,offset:r}=t;return{column:e,line:n,offset:r}}function yn(t,e,n){return n=n||sn(t),{start:e,end:n,source:t.originalSource.slice(e.offset,n.offset)}}function fl(t){return t[t.length-1]}function St(t,e){return t.startsWith(e)}function nt(t,e){const{source:n}=t;sl(t,n,e),t.source=n.slice(e)}function bs(t){const e=/^[\t\r\n\f ]+/.exec(t.source);e&&nt(t,e[0].length)}function av(t,e,n){return il(e,t.originalSource.slice(e.offset,n),n)}function De(t,e,n,r=sn(t)){n&&(r.offset+=n,r.column+=n),t.options.onError(Ke(e,{start:r,end:r,source:""}))}function kk(t,e,n){const r=t.source;switch(e){case 0:if(St(r,"</")){for(let o=n.length-1;o>=0;--o)if(qu(r,n[o].tag))return!0}break;case 1:case 2:{const o=fl(n);if(o&&qu(r,o.tag))return!0;break}case 3:if(St(r,"]]>"))return!0;break}return!r}function qu(t,e){return St(t,"</")&&t.slice(2,2+e.length).toLowerCase()===e.toLowerCase()&&/[\t\r\n\f />]/.test(t[2+e.length]||">")}function Ek(t,e){pl(t,e,lv(t,t.children[0]))}function lv(t,e){const{children:n}=t;return n.length===1&&e.type===1&&!cl(e)}function pl(t,e,n=!1){let r=!0;const{children:o}=t,i=o.length;let s=0;for(let a=0;a<o.length;a++){const l=o[a];if(l.type===1&&l.tagType===0){const c=n?0:bn(l,e);if(c>0){if(c<3&&(r=!1),c>=2){l.codegenNode.patchFlag=-1+"",l.codegenNode=e.hoist(l.codegenNode),s++;continue}}else{const u=l.codegenNode;if(u.type===13){const f=pv(u);if((!f||f===512||f===1)&&uv(l,e)>=2){const p=fv(l);p&&(u.props=e.hoist(p))}u.dynamicProps&&(u.dynamicProps=e.hoist(u.dynamicProps))}}}else if(l.type===12){const c=bn(l.content,e);c>0&&(c<3&&(r=!1),c>=2&&(l.codegenNode=e.hoist(l.codegenNode),s++))}if(l.type===1){const c=l.tagType===1;c&&e.scopes.vSlot++,pl(l,e),c&&e.scopes.vSlot--}else if(l.type===11)pl(l,e,l.children.length===1);else if(l.type===9)for(let c=0;c<l.branches.length;c++)pl(l.branches[c],e,l.branches[c].children.length===1)}r&&s&&e.transformHoist&&e.transformHoist(o,e,t),s&&s===i&&t.type===1&&t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&te(t.codegenNode.children)&&(t.codegenNode.children=e.hoist(ds(t.codegenNode.children)))}function bn(t,e){const{constantCache:n}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const r=n.get(t);if(r!==void 0)return r;const o=t.codegenNode;if(o.type!==13)return 0;if(pv(o))return n.set(t,0),0;{let a=3;const l=uv(t,e);if(l===0)return n.set(t,0),0;l<a&&(a=l);for(let c=0;c<t.children.length;c++){const u=bn(t.children[c],e);if(u===0)return n.set(t,0),0;u<a&&(a=u)}if(a>1)for(let c=0;c<t.props.length;c++){const u=t.props[c];if(u.type===7&&u.name==="bind"&&u.exp){const f=bn(u.exp,e);if(f===0)return n.set(t,0),0;f<a&&(a=f)}}return o.isBlock&&(e.removeHelper(vo),e.removeHelper(ei(e.inSSR,o.isComponent)),o.isBlock=!1,e.helper(Zo(e.inSSR,o.isComponent))),n.set(t,a),a}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return bn(t.content,e);case 4:return t.constType;case 8:let s=3;for(let a=0;a<t.children.length;a++){const l=t.children[a];if(ge(l)||Lo(l))continue;const c=bn(l,e);if(c===0)return 0;c<s&&(s=c)}return s;default:return 0}}const Ok=new Set([Du,Fu,fs,ps]);function cv(t,e){if(t.type===14&&!ge(t.callee)&&Ok.has(t.callee)){const n=t.arguments[0];if(n.type===4)return bn(n,e);if(n.type===14)return cv(n,e)}return 0}function uv(t,e){let n=3;const r=fv(t);if(r&&r.type===15){const{properties:o}=r;for(let i=0;i<o.length;i++){const{key:s,value:a}=o[i],l=bn(s,e);if(l===0)return l;l<n&&(n=l);let c;if(a.type===4?c=bn(a,e):a.type===14?c=cv(a,e):c=0,c===0)return c;c<n&&(n=c)}}return n}function fv(t){const e=t.codegenNode;if(e.type===13)return e.props}function pv(t){const e=t.patchFlag;return e?parseInt(e,10):void 0}function Mk(t,{filename:e="",prefixIdentifiers:n=!1,hoistStatic:r=!1,cacheHandlers:o=!1,nodeTransforms:i=[],directiveTransforms:s={},transformHoist:a=null,isBuiltInComponent:l=At,isCustomElement:c=At,expressionPlugins:u=[],scopeId:f=null,slotted:p=!0,ssr:h=!1,inSSR:d=!1,ssrCssVars:y="",bindingMetadata:v=Re,inline:b=!1,isTS:g=!1,onError:S=Ou,onWarn:m=Wm,compatConfig:O}){const C=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),k={selfName:C&&no(bt(C[1])),prefixIdentifiers:n,hoistStatic:r,cacheHandlers:o,nodeTransforms:i,directiveTransforms:s,transformHoist:a,isBuiltInComponent:l,isCustomElement:c,expressionPlugins:u,scopeId:f,slotted:p,ssr:h,inSSR:d,ssrCssVars:y,bindingMetadata:v,inline:b,isTS:g,onError:S,onWarn:m,compatConfig:O,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(M){const T=k.helpers.get(M)||0;return k.helpers.set(M,T+1),M},removeHelper(M){const T=k.helpers.get(M);if(T){const R=T-1;R?k.helpers.set(M,R):k.helpers.delete(M)}},helperString(M){return`_${Pr[k.helper(M)]}`},replaceNode(M){k.parent.children[k.childIndex]=k.currentNode=M},removeNode(M){const T=k.parent.children,R=M?T.indexOf(M):k.currentNode?k.childIndex:-1;!M||M===k.currentNode?(k.currentNode=null,k.onNodeRemoved()):k.childIndex>R&&(k.childIndex--,k.onNodeRemoved()),k.parent.children.splice(R,1)},onNodeRemoved:()=>{},addIdentifiers(M){},removeIdentifiers(M){},hoist(M){ge(M)&&(M=we(M)),k.hoists.push(M);const T=we(`_hoisted_${k.hoists.length}`,!1,M.loc,2);return T.hoisted=M,T},cache(M,T=!1){return ek(k.cached++,M,T)}};return k.filters=new Set,k}function xk(t,e){const n=Mk(t,e);hl(t,n),e.hoistStatic&&Ek(t,n),e.ssr||Tk(t,n),t.helpers=[...n.helpers.keys()],t.components=[...n.components],t.directives=[...n.directives],t.imports=n.imports,t.hoists=n.hoists,t.temps=n.temps,t.cached=n.cached,t.filters=[...n.filters]}function Tk(t,e){const{helper:n}=e,{children:r}=t;if(r.length===1){const o=r[0];if(lv(t,o)&&o.codegenNode){const i=o.codegenNode;i.type===13&&Ju(i,e),t.codegenNode=i}else t.codegenNode=o}else if(r.length>1){let o=64;t.codegenNode=hs(e,n(ls),void 0,t.children,o+"",void 0,void 0,!0,void 0,!1)}}function Nk(t,e){let n=0;const r=()=>{n--};for(;n<t.children.length;n++){const o=t.children[n];ge(o)||(e.parent=t,e.childIndex=n,e.onNodeRemoved=r,hl(o,e))}}function hl(t,e){e.currentNode=t;const{nodeTransforms:n}=e,r=[];for(let i=0;i<n.length;i++){const s=n[i](t,e);if(s&&(te(s)?r.push(...s):r.push(s)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(us);break;case 5:e.ssr||e.helper(nl);break;case 9:for(let i=0;i<t.branches.length;i++)hl(t.branches[i],e);break;case 10:case 11:case 1:case 0:Nk(t,e);break}e.currentNode=t;let o=r.length;for(;o--;)r[o]()}function hv(t,e){const n=ge(t)?r=>r===t:r=>t.test(r);return(r,o)=>{if(r.type===1){const{props:i}=r;if(r.tagType===3&&i.some(lk))return;const s=[];for(let a=0;a<i.length;a++){const l=i[a];if(l.type===7&&n(l.name)){i.splice(a,1),a--;const c=e(r,l,o);c&&s.push(c)}}return s}}}const dl="/*#__PURE__*/";function Ak(t,{mode:e="function",prefixIdentifiers:n=e==="module",sourceMap:r=!1,filename:o="template.vue.html",scopeId:i=null,optimizeImports:s=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:u=!1,isTS:f=!1,inSSR:p=!1}){const h={mode:e,prefixIdentifiers:n,sourceMap:r,filename:o,scopeId:i,optimizeImports:s,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:u,isTS:f,inSSR:p,source:t.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(y){return`_${Pr[y]}`},push(y,v){h.code+=y},indent(){d(++h.indentLevel)},deindent(y=!1){y?--h.indentLevel:d(--h.indentLevel)},newline(){d(h.indentLevel)}};function d(y){h.push(`
`+"  ".repeat(y))}return h}function Rk(t,e={}){const n=Ak(t,e);e.onContextCreated&&e.onContextCreated(n);const{mode:r,push:o,prefixIdentifiers:i,indent:s,deindent:a,newline:l,scopeId:c,ssr:u}=n,f=t.helpers.length>0,p=!i&&r!=="module";_k(t,n);const d=u?"ssrRender":"render",v=(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(o(`function ${d}(${v}) {`),s(),p&&(o("with (_ctx) {"),s(),f&&(o(`const { ${t.helpers.map(b=>`${Pr[b]}: _${Pr[b]}`).join(", ")} } = _Vue`),o(`
`),l())),t.components.length&&(Gu(t.components,"component",n),(t.directives.length||t.temps>0)&&l()),t.directives.length&&(Gu(t.directives,"directive",n),t.temps>0&&l()),t.filters&&t.filters.length&&(l(),Gu(t.filters,"filter",n),l()),t.temps>0){o("let ");for(let b=0;b<t.temps;b++)o(`${b>0?", ":""}_temp${b}`)}return(t.components.length||t.directives.length||t.temps)&&(o(`
`),l()),u||o("return "),t.codegenNode?wt(t.codegenNode,n):o("null"),p&&(a(),o("}")),a(),o("}"),{ast:t,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function _k(t,e){const{ssr:n,prefixIdentifiers:r,push:o,newline:i,runtimeModuleName:s,runtimeGlobalName:a,ssrRuntimeModuleName:l}=e,c=a,u=f=>`${Pr[f]}: _${Pr[f]}`;if(t.helpers.length>0&&(o(`const _Vue = ${c}
`),t.hoists.length)){const f=[xu,Tu,us,Nu,qm].filter(p=>t.helpers.includes(p)).map(u).join(", ");o(`const { ${f} } = _Vue
`)}Pk(t.hoists,e),i(),o("return ")}function Gu(t,e,{helper:n,push:r,newline:o,isTS:i}){const s=n(e==="filter"?_u:e==="component"?Au:Ru);for(let a=0;a<t.length;a++){let l=t[a];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),r(`const ${vs(l,e)} = ${s}(${JSON.stringify(l)}${c?", true":""})${i?"!":""}`),a<t.length-1&&o()}}function Pk(t,e){if(!t.length)return;e.pure=!0;const{push:n,newline:r,helper:o,scopeId:i,mode:s}=e;r();for(let a=0;a<t.length;a++){const l=t[a];l&&(n(`const _hoisted_${a+1} = `),wt(l,e),r())}e.pure=!1}function Yu(t,e){const n=t.length>3||!1;e.push("["),n&&e.indent(),Ss(t,e,n),n&&e.deindent(),e.push("]")}function Ss(t,e,n=!1,r=!0){const{push:o,newline:i}=e;for(let s=0;s<t.length;s++){const a=t[s];ge(a)?o(a):te(a)?Yu(a,e):wt(a,e),s<t.length-1&&(n?(r&&o(","),i()):r&&o(", "))}}function wt(t,e){if(ge(t)){e.push(t);return}if(Lo(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:wt(t.codegenNode,e);break;case 2:Ik(t,e);break;case 4:dv(t,e);break;case 5:Dk(t,e);break;case 12:wt(t.codegenNode,e);break;case 8:mv(t,e);break;case 3:Bk(t,e);break;case 13:Lk(t,e);break;case 14:$k(t,e);break;case 15:Hk(t,e);break;case 17:Vk(t,e);break;case 18:jk(t,e);break;case 19:Wk(t,e);break;case 20:Jk(t,e);break;case 21:Ss(t.body,e,!0,!1);break}}function Ik(t,e){e.push(JSON.stringify(t.content),t)}function dv(t,e){const{content:n,isStatic:r}=t;e.push(r?JSON.stringify(n):n,t)}function Dk(t,e){const{push:n,helper:r,pure:o}=e;o&&n(dl),n(`${r(nl)}(`),wt(t.content,e),n(")")}function mv(t,e){for(let n=0;n<t.children.length;n++){const r=t.children[n];ge(r)?e.push(r):wt(r,e)}}function Fk(t,e){const{push:n}=e;if(t.type===8)n("["),mv(t,e),n("]");else if(t.isStatic){const r=ju(t.content)?t.content:JSON.stringify(t.content);n(r,t)}else n(`[${t.content}]`,t)}function Bk(t,e){const{push:n,helper:r,pure:o}=e;o&&n(dl),n(`${r(us)}(${JSON.stringify(t.content)})`,t)}function Lk(t,e){const{push:n,helper:r,pure:o}=e,{tag:i,props:s,children:a,patchFlag:l,dynamicProps:c,directives:u,isBlock:f,disableTracking:p,isComponent:h}=t;u&&n(r(Pu)+"("),f&&n(`(${r(vo)}(${p?"true":""}), `),o&&n(dl);const d=f?ei(e.inSSR,h):Zo(e.inSSR,h);n(r(d)+"(",t),Ss(zk([i,s,a,l,c]),e),n(")"),f&&n(")"),u&&(n(", "),wt(u,e),n(")"))}function zk(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(n=>n||"null")}function $k(t,e){const{push:n,helper:r,pure:o}=e,i=ge(t.callee)?t.callee:r(t.callee);o&&n(dl),n(i+"(",t),Ss(t.arguments,e),n(")")}function Hk(t,e){const{push:n,indent:r,deindent:o,newline:i}=e,{properties:s}=t;if(!s.length){n("{}",t);return}const a=s.length>1||!1;n(a?"{":"{ "),a&&r();for(let l=0;l<s.length;l++){const{key:c,value:u}=s[l];Fk(c,e),n(": "),wt(u,e),l<s.length-1&&(n(","),i())}a&&o(),n(a?"}":" }")}function Vk(t,e){Yu(t.elements,e)}function jk(t,e){const{push:n,indent:r,deindent:o}=e,{params:i,returns:s,body:a,newline:l,isSlot:c}=t;c&&n(`_${Pr[$u]}(`),n("(",t),te(i)?Ss(i,e):i&&wt(i,e),n(") => "),(l||a)&&(n("{"),r()),s?(l&&n("return "),te(s)?Yu(s,e):wt(s,e)):a&&wt(a,e),(l||a)&&(o(),n("}")),c&&(t.isNonScopedSlot&&n(", undefined, true"),n(")"))}function Wk(t,e){const{test:n,consequent:r,alternate:o,newline:i}=t,{push:s,indent:a,deindent:l,newline:c}=e;if(n.type===4){const f=!ju(n.content);f&&s("("),dv(n,e),f&&s(")")}else s("("),wt(n,e),s(")");i&&a(),e.indentLevel++,i||s(" "),s("? "),wt(r,e),e.indentLevel--,i&&c(),i||s(" "),s(": ");const u=o.type===19;u||e.indentLevel++,wt(o,e),u||e.indentLevel--,i&&l(!0)}function Jk(t,e){const{push:n,helper:r,indent:o,deindent:i,newline:s}=e;n(`_cache[${t.index}] || (`),t.isVNode&&(o(),n(`${r(ol)}(-1),`),s()),n(`_cache[${t.index}] = `),wt(t.value,e),t.isVNode&&(n(","),s(),n(`${r(ol)}(1),`),s(),n(`_cache[${t.index}]`),i()),n(")")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const Kk=hv(/^(if|else|else-if)$/,(t,e,n)=>Uk(t,e,n,(r,o,i)=>{const s=n.parent.children;let a=s.indexOf(r),l=0;for(;a-->=0;){const c=s[a];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(i)r.codegenNode=gv(o,l,n);else{const c=qk(r.codegenNode);c.alternate=gv(o,l+r.branches.length-1,n)}}}));function Uk(t,e,n,r){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const o=e.exp?e.exp.loc:t.loc;n.onError(Ke(28,e.loc)),e.exp=we("true",!1,o)}if(e.name==="if"){const o=vv(t,e),i={type:9,loc:t.loc,branches:[o]};if(n.replaceNode(i),r)return r(i,o,!0)}else{const o=n.parent.children;let i=o.indexOf(t);for(;i-->=-1;){const s=o[i];if(s&&s.type===2&&!s.content.trim().length){n.removeNode(s);continue}if(s&&s.type===9){e.name==="else-if"&&s.branches[s.branches.length-1].condition===void 0&&n.onError(Ke(30,t.loc)),n.removeNode();const a=vv(t,e);s.branches.push(a);const l=r&&r(s,a,!1);hl(a,n),l&&l(),n.currentNode=null}else n.onError(Ke(30,t.loc));break}}}function vv(t,e){return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:t.tagType===3&&!gn(t,"for")?t.children:[t],userKey:ms(t,"key")}}function gv(t,e,n){return t.condition?Vu(t.condition,yv(t,e,n),Ze(n.helper(us),['""',"true"])):yv(t,e,n)}function yv(t,e,n){const{helper:r}=n,o=Qe("key",we(`${e}`,!1,on,2)),{children:i}=t,s=i[0];if(i.length!==1||s.type!==1)if(i.length===1&&s.type===11){const l=s.codegenNode;return ul(l,o,n),l}else{let l=64;return hs(n,r(ls),vn([o]),i,l+"",void 0,void 0,!0,!1,!1,t.loc)}else{const l=s.codegenNode,c=uk(l);return c.type===13&&Ju(c,n),ul(c,o,n),l}}function qk(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const Gk=hv("for",(t,e,n)=>{const{helper:r,removeHelper:o}=n;return Yk(t,e,n,i=>{const s=Ze(r(Iu),[i.source]),a=gn(t,"memo"),l=ms(t,"key"),c=l&&(l.type===6?we(l.value.content,!0):l.exp),u=l?Qe("key",c):null,f=i.source.type===4&&i.source.constType>0,p=f?64:l?128:256;return i.codegenNode=hs(n,r(ls),void 0,s,p+"",void 0,void 0,!0,!f,!1,t.loc),()=>{let h;const d=ll(t),{children:y}=i,v=y.length!==1||y[0].type!==1,b=cl(t)?t:d&&t.children.length===1&&cl(t.children[0])?t.children[0]:null;if(b?(h=b.codegenNode,d&&u&&ul(h,u,n)):v?h=hs(n,r(ls),u?vn([u]):void 0,t.children,64+"",void 0,void 0,!0,void 0,!1):(h=y[0].codegenNode,d&&u&&ul(h,u,n),h.isBlock!==!f&&(h.isBlock?(o(vo),o(ei(n.inSSR,h.isComponent))):o(Zo(n.inSSR,h.isComponent))),h.isBlock=!f,h.isBlock?(r(vo),r(ei(n.inSSR,h.isComponent))):r(Zo(n.inSSR,h.isComponent))),a){const g=Xo(Xu(i.parseResult,[we("_cached")]));g.body=tk([Hn(["const _memo = (",a.exp,")"]),Hn(["if (_cached",...c?[" && _cached.key === ",c]:[],` && ${n.helperString(Xm)}(_cached, _memo)) return _cached`]),Hn(["const _item = ",h]),we("_item.memo = _memo"),we("return _item")]),s.arguments.push(g,we("_cache"),we(String(n.cached++)))}else s.arguments.push(Xo(Xu(i.parseResult),h,!0))}})});function Yk(t,e,n,r){if(!e.exp){n.onError(Ke(31,e.loc));return}const o=Sv(e.exp);if(!o){n.onError(Ke(32,e.loc));return}const{addIdentifiers:i,removeIdentifiers:s,scopes:a}=n,{source:l,value:c,key:u,index:f}=o,p={type:11,loc:e.loc,source:l,valueAlias:c,keyAlias:u,objectIndexAlias:f,parseResult:o,children:ll(t)?t.children:[t]};n.replaceNode(p),a.vFor++;const h=r&&r(p);return()=>{a.vFor--,h&&h()}}const Xk=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,bv=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Qk=/^\(|\)$/g;function Sv(t,e){const n=t.loc,r=t.content,o=r.match(Xk);if(!o)return;const[,i,s]=o,a={source:ml(n,s.trim(),r.indexOf(s,i.length)),value:void 0,key:void 0,index:void 0};let l=i.trim().replace(Qk,"").trim();const c=i.indexOf(l),u=l.match(bv);if(u){l=l.replace(bv,"").trim();const f=u[1].trim();let p;if(f&&(p=r.indexOf(f,c+l.length),a.key=ml(n,f,p)),u[2]){const h=u[2].trim();h&&(a.index=ml(n,h,r.indexOf(h,a.key?p+f.length:c+l.length)))}}return l&&(a.value=ml(n,l,c)),a}function ml(t,e,n){return we(e,!1,ev(t,n,e.length))}function Xu({value:t,key:e,index:n},r=[]){return Zk([t,e,n,...r])}function Zk(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((n,r)=>n||we("_".repeat(r+1),!1))}const wv=we("undefined",!1),eE=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const n=gn(t,"slot");if(n)return n.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},tE=(t,e,n)=>Xo(t,e,!1,!0,e.length?e[0].loc:n);function nE(t,e,n=tE){e.helper($u);const{children:r,loc:o}=t,i=[],s=[];let a=e.scopes.vSlot>0||e.scopes.vFor>0;const l=gn(t,"slot",!0);if(l){const{arg:y,exp:v}=l;y&&!Jt(y)&&(a=!0),i.push(Qe(y||we("default",!0),n(v,r,o)))}let c=!1,u=!1;const f=[],p=new Set;for(let y=0;y<r.length;y++){const v=r[y];let b;if(!ll(v)||!(b=gn(v,"slot",!0))){v.type!==3&&f.push(v);continue}if(l){e.onError(Ke(37,b.loc));break}c=!0;const{children:g,loc:S}=v,{arg:m=we("default",!0),exp:O,loc:C}=b;let k;Jt(m)?k=m?m.content:"default":a=!0;const M=n(O,g,S);let T,R,V;if(T=gn(v,"if"))a=!0,s.push(Vu(T.exp,vl(m,M),wv));else if(R=gn(v,/^else(-if)?$/,!0)){let N=y,x;for(;N--&&(x=r[N],x.type===3););if(x&&ll(x)&&gn(x,"if")){r.splice(y,1),y--;let U=s[s.length-1];for(;U.alternate.type===19;)U=U.alternate;U.alternate=R.exp?Vu(R.exp,vl(m,M),wv):vl(m,M)}else e.onError(Ke(30,R.loc))}else if(V=gn(v,"for")){a=!0;const N=V.parseResult||Sv(V.exp);N?s.push(Ze(e.helper(Iu),[N.source,Xo(Xu(N),vl(m,M),!0)])):e.onError(Ke(32,V.loc))}else{if(k){if(p.has(k)){e.onError(Ke(38,C));continue}p.add(k),k==="default"&&(u=!0)}i.push(Qe(m,M))}}if(!l){const y=(v,b)=>{const g=n(v,b,o);return e.compatConfig&&(g.isNonScopedSlot=!0),Qe("default",g)};c?f.length&&f.some(v=>Cv(v))&&(u?e.onError(Ke(39,f[0].loc)):i.push(y(void 0,f))):i.push(y(void 0,r))}const h=a?2:gl(t.children)?3:1;let d=vn(i.concat(Qe("_",we(h+"",!1))),o);return s.length&&(d=Ze(e.helper(Ym),[d,ds(s)])),{slots:d,hasDynamicSlots:a}}function vl(t,e){return vn([Qe("name",t),Qe("fn",e)])}function gl(t){for(let e=0;e<t.length;e++){const n=t[e];switch(n.type){case 1:if(n.tagType===2||gl(n.children))return!0;break;case 9:if(gl(n.branches))return!0;break;case 10:case 11:if(gl(n.children))return!0;break}}return!1}function Cv(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():Cv(t.content)}const kv=new WeakMap,rE=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:r,props:o}=t,i=t.tagType===1;let s=i?oE(t,e):`"${r}"`;const a=Je(s)&&s.callee===tl;let l,c,u,f=0,p,h,d,y=a||s===cs||s===Mu||!i&&(r==="svg"||r==="foreignObject"||ms(t,"key",!0));if(o.length>0){const v=Ev(t,e);l=v.props,f=v.patchFlag,h=v.dynamicPropNames;const b=v.directives;d=b&&b.length?ds(b.map(g=>sE(g,e))):void 0}if(t.children.length>0)if(s===el&&(y=!0,f|=1024),i&&s!==cs&&s!==el){const{slots:b,hasDynamicSlots:g}=nE(t,e);c=b,g&&(f|=1024)}else if(t.children.length===1&&s!==cs){const b=t.children[0],g=b.type,S=g===5||g===8;S&&bn(b,e)===0&&(f|=1),S||g===2?c=b:c=t.children}else c=t.children;f!==0&&(u=String(f),h&&h.length&&(p=aE(h))),t.codegenNode=hs(e,s,l,c,u,p,d,!!y,!1,i,t.loc)};function oE(t,e,n=!1){let{tag:r}=t;const o=Zu(r),i=ms(t,"is");if(i)if(o||go("COMPILER_IS_ON_ELEMENT",e)){const l=i.type===6?i.value&&we(i.value.content,!0):i.exp;if(l)return Ze(e.helper(tl),[l])}else i.type===6&&i.value.content.startsWith("vue:")&&(r=i.value.content.slice(4));const s=!o&&gn(t,"is");if(s&&s.exp)return Ze(e.helper(tl),[s.exp]);const a=Qm(r)||e.isBuiltInComponent(r);return a?(n||e.helper(a),a):(e.helper(Au),e.components.add(r),vs(r,"component"))}function Ev(t,e,n=t.props,r=!1){const{tag:o,loc:i}=t,s=t.tagType===1;let a=[];const l=[],c=[];let u=0,f=!1,p=!1,h=!1,d=!1,y=!1,v=!1;const b=[],g=({key:m,value:O})=>{if(Jt(m)){const C=m.content,k=Zr(C);if(!s&&k&&C.toLowerCase()!=="onclick"&&C!=="onUpdate:modelValue"&&!to(C)&&(d=!0),k&&to(C)&&(v=!0),O.type===20||(O.type===4||O.type===8)&&bn(O,e)>0)return;C==="ref"?f=!0:C==="class"?p=!0:C==="style"?h=!0:C!=="key"&&!b.includes(C)&&b.push(C),s&&(C==="class"||C==="style")&&!b.includes(C)&&b.push(C)}else y=!0};for(let m=0;m<n.length;m++){const O=n[m];if(O.type===6){const{loc:C,name:k,value:M}=O;let T=we(M?M.content:"",!0,M?M.loc:C);if(k==="ref"&&(f=!0),k==="is"&&(Zu(o)||M&&M.content.startsWith("vue:")||go("COMPILER_IS_ON_ELEMENT",e)))continue;a.push(Qe(we(k,!0,ev(C,0,k.length)),T))}else{const{name:C,arg:k,exp:M,loc:T}=O,R=C==="bind",V=C==="on";if(C==="slot"){s||e.onError(Ke(40,T));continue}if(C==="once"||C==="memo"||C==="is"||R&&al(k,"is")&&(Zu(o)||go("COMPILER_IS_ON_ELEMENT",e))||V&&r)continue;if(!k&&(R||V)){if(y=!0,M)if(a.length&&(l.push(vn(Qu(a),i)),a=[]),R){if(go("COMPILER_V_BIND_OBJECT_ORDER",e)){l.unshift(M);continue}l.push(M)}else l.push({type:14,loc:T,callee:e.helper(Bu),arguments:[M]});else e.onError(Ke(R?34:35,T));continue}const N=e.directiveTransforms[C];if(N){const{props:x,needRuntime:U}=N(O,t,e);!r&&x.forEach(g),a.push(...x),U&&(c.push(O),Lo(U)&&kv.set(O,U))}else c.push(O)}O.type===6&&O.name==="ref"&&e.scopes.vFor>0&&ti("COMPILER_V_FOR_REF",e,O.loc)&&a.push(Qe(we("refInFor",!0),we("true",!1)))}let S;if(l.length?(a.length&&l.push(vn(Qu(a),i)),l.length>1?S=Ze(e.helper(rl),l,i):S=l[0]):a.length&&(S=vn(Qu(a),i)),y?u|=16:(p&&!s&&(u|=2),h&&!s&&(u|=4),b.length&&(u|=8),d&&(u|=32)),(u===0||u===32)&&(f||v||c.length>0)&&(u|=512),!e.inSSR&&S)switch(S.type){case 15:let m=-1,O=-1,C=!1;for(let T=0;T<S.properties.length;T++){const R=S.properties[T].key;Jt(R)?R.content==="class"?m=T:R.content==="style"&&(O=T):R.isHandlerKey||(C=!0)}const k=S.properties[m],M=S.properties[O];C?S=Ze(e.helper(fs),[S]):(k&&!Jt(k.value)&&(k.value=Ze(e.helper(Du),[k.value])),M&&!Jt(M.value)&&(h||M.value.type===17)&&(M.value=Ze(e.helper(Fu),[M.value])));break;case 14:break;default:S=Ze(e.helper(fs),[Ze(e.helper(ps),[S])]);break}return{props:S,directives:c,patchFlag:u,dynamicPropNames:b}}function Qu(t){const e=new Map,n=[];for(let r=0;r<t.length;r++){const o=t[r];if(o.key.type===8||!o.key.isStatic){n.push(o);continue}const i=o.key.content,s=e.get(i);s?(i==="style"||i==="class"||Zr(i))&&iE(s,o):(e.set(i,o),n.push(o))}return n}function iE(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=ds([t.value,e.value],t.loc)}function sE(t,e){const n=[],r=kv.get(t);r?n.push(e.helperString(r)):(e.helper(Ru),e.directives.add(t.name),n.push(vs(t.name,"directive")));const{loc:o}=t;if(t.exp&&n.push(t.exp),t.arg&&(t.exp||n.push("void 0"),n.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||n.push("void 0"),n.push("void 0"));const i=we("true",!1,o);n.push(vn(t.modifiers.map(s=>Qe(s,i)),o))}return ds(n,t.loc)}function aE(t){let e="[";for(let n=0,r=t.length;n<r;n++)e+=JSON.stringify(t[n]),n<r-1&&(e+=", ");return e+"]"}function Zu(t){return t==="component"||t==="Component"}const lE=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},cE=/-(\w)/g,Ov=lE(t=>t.replace(cE,(e,n)=>n?n.toUpperCase():"")),uE=(t,e)=>{if(cl(t)){const{children:n,loc:r}=t,{slotName:o,slotProps:i}=fE(t,e),s=[e.prefixIdentifiers?"_ctx.$slots":"$slots",o,"{}","undefined","true"];let a=2;i&&(s[2]=i,a=3),n.length&&(s[3]=Xo([],n,!1,!1,r),a=4),e.scopeId&&!e.slotted&&(a=5),s.splice(a),t.codegenNode=Ze(e.helper(Gm),s,r)}};function fE(t,e){let n='"default"',r;const o=[];for(let i=0;i<t.props.length;i++){const s=t.props[i];s.type===6?s.value&&(s.name==="name"?n=JSON.stringify(s.value.content):(s.name=Ov(s.name),o.push(s))):s.name==="bind"&&al(s.arg,"name")?s.exp&&(n=s.exp):(s.name==="bind"&&s.arg&&Jt(s.arg)&&(s.arg.content=Ov(s.arg.content)),o.push(s))}if(o.length>0){const{props:i,directives:s}=Ev(t,e,o);r=i,s.length&&e.onError(Ke(36,s[0].loc))}return{slotName:n,slotProps:r}}const pE=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Mv=(t,e,n,r)=>{const{loc:o,modifiers:i,arg:s}=t;!t.exp&&!i.length&&n.onError(Ke(35,o));let a;if(s.type===4)if(s.isStatic){const f=s.content;a=we(zo(bt(f)),!0,s.loc)}else a=Hn([`${n.helperString(zu)}(`,s,")"]);else a=s,a.children.unshift(`${n.helperString(zu)}(`),a.children.push(")");let l=t.exp;l&&!l.content.trim()&&(l=void 0);let c=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const f=Zm(l.content),p=!(f||pE.test(l.content)),h=l.content.includes(";");(p||c&&f)&&(l=Hn([`${p?"$event":"(...args)"} => ${h?"{":"("}`,l,h?"}":")"]))}let u={props:[Qe(a,l||we("() => {}",!1,o))]};return r&&(u=r(u)),c&&(u.props[0].value=n.cache(u.props[0].value)),u.props.forEach(f=>f.key.isHandlerKey=!0),u},hE=(t,e,n)=>{const{exp:r,modifiers:o,loc:i}=t,s=t.arg;return s.type!==4?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),o.includes("camel")&&(s.type===4?s.isStatic?s.content=bt(s.content):s.content=`${n.helperString(Lu)}(${s.content})`:(s.children.unshift(`${n.helperString(Lu)}(`),s.children.push(")"))),n.inSSR||(o.includes("prop")&&xv(s,"."),o.includes("attr")&&xv(s,"^")),!r||r.type===4&&!r.content.trim()?(n.onError(Ke(34,i)),{props:[Qe(s,we("",!0,i))]}):{props:[Qe(s,r)]}},xv=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},dE=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const n=t.children;let r,o=!1;for(let i=0;i<n.length;i++){const s=n[i];if(Wu(s)){o=!0;for(let a=i+1;a<n.length;a++){const l=n[a];if(Wu(l))r||(r=n[i]={type:8,loc:s.loc,children:[s]}),r.children.push(" + ",l),n.splice(a,1),a--;else{r=void 0;break}}}}if(!(!o||n.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(i=>i.type===7&&!e.directiveTransforms[i.name])&&t.tag!=="template")))for(let i=0;i<n.length;i++){const s=n[i];if(Wu(s)||s.type===8){const a=[];(s.type!==2||s.content!==" ")&&a.push(s),!e.ssr&&bn(s,e)===0&&a.push(1+""),n[i]={type:12,content:s,loc:s.loc,codegenNode:Ze(e.helper(Nu),a)}}}}},Tv=new WeakSet,mE=(t,e)=>{if(t.type===1&&gn(t,"once",!0))return Tv.has(t)||e.inVOnce?void 0:(Tv.add(t),e.inVOnce=!0,e.helper(ol),()=>{e.inVOnce=!1;const n=e.currentNode;n.codegenNode&&(n.codegenNode=e.cache(n.codegenNode,!0))})},Nv=(t,e,n)=>{const{exp:r,arg:o}=t;if(!r)return n.onError(Ke(41,t.loc)),ef();const i=r.loc.source,s=r.type===4?r.content:i;n.bindingMetadata[i];const a=!1;if(!s.trim()||!Zm(s)&&!a)return n.onError(Ke(42,r.loc)),ef();const l=o||we("modelValue",!0),c=o?Jt(o)?`onUpdate:${o.content}`:Hn(['"onUpdate:" + ',o]):"onUpdate:modelValue";let u;const f=n.isTS?"($event: any)":"$event";u=Hn([`${f} => ((`,r,") = $event)"]);const p=[Qe(l,t.exp),Qe(c,u)];if(t.modifiers.length&&e.tagType===1){const h=t.modifiers.map(y=>(ju(y)?y:JSON.stringify(y))+": true").join(", "),d=o?Jt(o)?`${o.content}Modifiers`:Hn([o,' + "Modifiers"']):"modelModifiers";p.push(Qe(d,we(`{ ${h} }`,!1,t.loc,2)))}return ef(p)};function ef(t=[]){return{props:t}}const vE=/[\w).+\-_$\]]/,gE=(t,e)=>{!go("COMPILER_FILTER",e)||(t.type===5&&yl(t.content,e),t.type===1&&t.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&yl(n.exp,e)}))};function yl(t,e){if(t.type===4)Av(t,e);else for(let n=0;n<t.children.length;n++){const r=t.children[n];typeof r=="object"&&(r.type===4?Av(r,e):r.type===8?yl(t,e):r.type===5&&yl(r.content,e))}}function Av(t,e){const n=t.content;let r=!1,o=!1,i=!1,s=!1,a=0,l=0,c=0,u=0,f,p,h,d,y=[];for(h=0;h<n.length;h++)if(p=f,f=n.charCodeAt(h),r)f===39&&p!==92&&(r=!1);else if(o)f===34&&p!==92&&(o=!1);else if(i)f===96&&p!==92&&(i=!1);else if(s)f===47&&p!==92&&(s=!1);else if(f===124&&n.charCodeAt(h+1)!==124&&n.charCodeAt(h-1)!==124&&!a&&!l&&!c)d===void 0?(u=h+1,d=n.slice(0,h).trim()):v();else{switch(f){case 34:o=!0;break;case 39:r=!0;break;case 96:i=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(f===47){let b=h-1,g;for(;b>=0&&(g=n.charAt(b),g===" ");b--);(!g||!vE.test(g))&&(s=!0)}}d===void 0?d=n.slice(0,h).trim():u!==0&&v();function v(){y.push(n.slice(u,h).trim()),u=h+1}if(y.length){for(h=0;h<y.length;h++)d=yE(d,y[h],e);t.content=d}}function yE(t,e,n){n.helper(_u);const r=e.indexOf("(");if(r<0)return n.filters.add(e),`${vs(e,"filter")}(${t})`;{const o=e.slice(0,r),i=e.slice(r+1);return n.filters.add(o),`${vs(o,"filter")}(${t}${i!==")"?","+i:i}`}}const Rv=new WeakSet,bE=(t,e)=>{if(t.type===1){const n=gn(t,"memo");return!n||Rv.has(t)?void 0:(Rv.add(t),()=>{const r=t.codegenNode||e.currentNode.codegenNode;r&&r.type===13&&(t.tagType!==1&&Ju(r,e),t.codegenNode=Ze(e.helper(Hu),[n.exp,Xo(void 0,r),"_cache",String(e.cached++)]))})}};function SE(t){return[[mE,Kk,bE,Gk,gE,uE,rE,eE,dE],{on:Mv,bind:hE,model:Nv}]}function wE(t,e={}){const n=e.onError||Ou,r=e.mode==="module";e.prefixIdentifiers===!0?n(Ke(46)):r&&n(Ke(47));const o=!1;e.cacheHandlers&&n(Ke(48)),e.scopeId&&!r&&n(Ke(49));const i=ge(t)?hk(t,e):t,[s,a]=SE();return xk(i,_e({},e,{prefixIdentifiers:o,nodeTransforms:[...s,...e.nodeTransforms||[]],directiveTransforms:_e({},a,e.directiveTransforms||{})})),Rk(i,_e({},e,{prefixIdentifiers:o}))}const CE=()=>({props:[]}),_v=Symbol(""),Pv=Symbol(""),Iv=Symbol(""),Dv=Symbol(""),tf=Symbol(""),Fv=Symbol(""),Bv=Symbol(""),Lv=Symbol(""),zv=Symbol(""),$v=Symbol("");QC({[_v]:"vModelRadio",[Pv]:"vModelCheckbox",[Iv]:"vModelText",[Dv]:"vModelSelect",[tf]:"vModelDynamic",[Fv]:"withModifiers",[Bv]:"withKeys",[Lv]:"vShow",[zv]:"Transition",[$v]:"TransitionGroup"});let ni;function kE(t,e=!1){return ni||(ni=document.createElement("div")),e?(ni.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,ni.children[0].getAttribute("foo")):(ni.innerHTML=t,ni.textContent)}const EE=Qt("style,iframe,script,noscript",!0),OE={isVoidTag:IS,isNativeTag:t=>_S(t)||PS(t),isPreTag:t=>t==="pre",decodeEntities:kE,isBuiltInComponent:t=>{if(Qo(t,"Transition"))return zv;if(Qo(t,"TransitionGroup"))return $v},getNamespace(t,e){let n=e?e.ns:0;if(e&&n===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(n=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(n=0);else e&&n===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(n=0);if(n===0){if(t==="svg")return 1;if(t==="math")return 2}return n},getTextMode({tag:t,ns:e}){if(e===0){if(t==="textarea"||t==="title")return 1;if(EE(t))return 2}return 0}},ME=t=>{t.type===1&&t.props.forEach((e,n)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[n]={type:7,name:"bind",arg:we("style",!0,e.loc),exp:xE(e.value.content,e.loc),modifiers:[],loc:e.loc})})},xE=(t,e)=>{const n=kh(t);return we(JSON.stringify(n),!1,e,3)};function ar(t,e){return Ke(t,e)}const TE=(t,e,n)=>{const{exp:r,loc:o}=t;return r||n.onError(ar(50,o)),e.children.length&&(n.onError(ar(51,o)),e.children.length=0),{props:[Qe(we("innerHTML",!0,o),r||we("",!0))]}},NE=(t,e,n)=>{const{exp:r,loc:o}=t;return r||n.onError(ar(52,o)),e.children.length&&(n.onError(ar(53,o)),e.children.length=0),{props:[Qe(we("textContent",!0),r?Ze(n.helperString(nl),[r],o):we("",!0))]}},AE=(t,e,n)=>{const r=Nv(t,e,n);if(!r.props.length||e.tagType===1)return r;t.arg&&n.onError(ar(55,t.arg.loc));const{tag:o}=e,i=n.isCustomElement(o);if(o==="input"||o==="textarea"||o==="select"||i){let s=Iv,a=!1;if(o==="input"||i){const l=ms(e,"type");if(l){if(l.type===7)s=tf;else if(l.value)switch(l.value.content){case"radio":s=_v;break;case"checkbox":s=Pv;break;case"file":a=!0,n.onError(ar(56,t.loc));break}}else ak(e)&&(s=tf)}else o==="select"&&(s=Dv);a||(r.needRuntime=n.helper(s))}else n.onError(ar(54,t.loc));return r.props=r.props.filter(s=>!(s.key.type===4&&s.key.content==="modelValue")),r},RE=Qt("passive,once,capture"),_E=Qt("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),PE=Qt("left,right"),Hv=Qt("onkeyup,onkeydown,onkeypress",!0),IE=(t,e,n,r)=>{const o=[],i=[],s=[];for(let a=0;a<e.length;a++){const l=e[a];l==="native"&&ti("COMPILER_V_ON_NATIVE",n)||RE(l)?s.push(l):PE(l)?Jt(t)?Hv(t.content)?o.push(l):i.push(l):(o.push(l),i.push(l)):_E(l)?i.push(l):o.push(l)}return{keyModifiers:o,nonKeyModifiers:i,eventOptionModifiers:s}},Vv=(t,e)=>Jt(t)&&t.content.toLowerCase()==="onclick"?we(e,!0):t.type!==4?Hn(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,DE=(t,e,n)=>Mv(t,e,n,r=>{const{modifiers:o}=t;if(!o.length)return r;let{key:i,value:s}=r.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=IE(i,o,n,t.loc);if(l.includes("right")&&(i=Vv(i,"onContextmenu")),l.includes("middle")&&(i=Vv(i,"onMouseup")),l.length&&(s=Ze(n.helper(Fv),[s,JSON.stringify(l)])),a.length&&(!Jt(i)||Hv(i.content))&&(s=Ze(n.helper(Bv),[s,JSON.stringify(a)])),c.length){const u=c.map(no).join("");i=Jt(i)?we(`${i.content}${u}`,!0):Hn(["(",i,`) + "${u}"`])}return{props:[Qe(i,s)]}}),FE=(t,e,n)=>{const{exp:r,loc:o}=t;return r||n.onError(ar(58,o)),{props:[],needRuntime:n.helper(Lv)}},BE=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&(e.onError(ar(60,t.loc)),e.removeNode())},LE=[ME],zE={cloak:CE,html:TE,text:NE,model:AE,on:DE,show:FE};function $E(t,e={}){return wE(t,_e({},OE,e,{nodeTransforms:[BE,...LE,...e.nodeTransforms||[]],directiveTransforms:_e({},zE,e.directiveTransforms||{}),transformHoist:null}))}const jv=Object.create(null);function HE(t,e){if(!ge(t))if(t.nodeType)t=t.innerHTML;else return At;const n=t,r=jv[n];if(r)return r;if(t[0]==="#"){const s=document.querySelector(t);t=s?s.innerHTML:""}const{code:o}=$E(t,_e({hoistStatic:!0,onError:void 0,onWarn:At},e)),i=new Function("Vue",o)(KC);return i._rc=!0,jv[n]=i}Ud(HE);/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const Wv=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",ri=t=>Wv?Symbol(t):"_vr_"+t,VE=ri("rvlm"),Jv=ri("rvd"),bl=ri("r"),nf=ri("rl"),rf=ri("rvl"),oi=typeof window!="undefined";function jE(t){return t.__esModule||Wv&&t[Symbol.toStringTag]==="Module"}const Le=Object.assign;function of(t,e){const n={};for(const r in e){const o=e[r];n[r]=Array.isArray(o)?o.map(t):t(o)}return n}const ws=()=>{},WE=/\/$/,JE=t=>t.replace(WE,"");function sf(t,e,n="/"){let r,o={},i="",s="";const a=e.indexOf("?"),l=e.indexOf("#",a>-1?a:0);return a>-1&&(r=e.slice(0,a),i=e.slice(a+1,l>-1?l:e.length),o=t(i)),l>-1&&(r=r||e.slice(0,l),s=e.slice(l,e.length)),r=GE(r!=null?r:e,n),{fullPath:r+(i&&"?")+i+s,path:r,query:o,hash:s}}function KE(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Kv(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function UE(t,e,n){const r=e.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&ii(e.matched[r],n.matched[o])&&Uv(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ii(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Uv(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!qE(t[n],e[n]))return!1;return!0}function qE(t,e){return Array.isArray(t)?qv(t,e):Array.isArray(e)?qv(e,t):t===e}function qv(t,e){return Array.isArray(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function GE(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let o=n.length-1,i,s;for(i=0;i<r.length;i++)if(s=r[i],!(o===1||s==="."))if(s==="..")o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var Cs;(function(t){t.pop="pop",t.push="push"})(Cs||(Cs={}));var ks;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ks||(ks={}));function YE(t){if(!t)if(oi){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),JE(t)}const XE=/^[^#]+#/;function QE(t,e){return t.replace(XE,"#")+e}function ZE(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Sl=()=>({left:window.pageXOffset,top:window.pageYOffset});function eO(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;e=ZE(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Gv(t,e){return(history.state?history.state.position-e:-1)+t}const af=new Map;function tO(t,e){af.set(t,e)}function nO(t){const e=af.get(t);return af.delete(t),e}let rO=()=>location.protocol+"//"+location.host;function Yv(t,e){const{pathname:n,search:r,hash:o}=e,i=t.indexOf("#");if(i>-1){let a=o.includes(t.slice(i))?t.slice(i).length:1,l=o.slice(a);return l[0]!=="/"&&(l="/"+l),Kv(l,"")}return Kv(n,t)+r+o}function oO(t,e,n,r){let o=[],i=[],s=null;const a=({state:p})=>{const h=Yv(t,location),d=n.value,y=e.value;let v=0;if(p){if(n.value=h,e.value=p,s&&s===d){s=null;return}v=y?p.position-y.position:0}else r(h);o.forEach(b=>{b(n.value,d,{delta:v,type:Cs.pop,direction:v?v>0?ks.forward:ks.back:ks.unknown})})};function l(){s=n.value}function c(p){o.push(p);const h=()=>{const d=o.indexOf(p);d>-1&&o.splice(d,1)};return i.push(h),h}function u(){const{history:p}=window;!p.state||p.replaceState(Le({},p.state,{scroll:Sl()}),"")}function f(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:f}}function Xv(t,e,n,r=!1,o=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:o?Sl():null}}function iO(t){const{history:e,location:n}=window,r={value:Yv(t,n)},o={value:e.state};o.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const f=t.indexOf("#"),p=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:rO()+t+l;try{e[u?"replaceState":"pushState"](c,"",p),o.value=c}catch(h){console.error(h),n[u?"replace":"assign"](p)}}function s(l,c){const u=Le({},e.state,Xv(o.value.back,l,o.value.forward,!0),c,{position:o.value.position});i(l,u,!0),r.value=l}function a(l,c){const u=Le({},o.value,e.state,{forward:l,scroll:Sl()});i(u.current,u,!0);const f=Le({},Xv(r.value,l,null),{position:u.position+1},c);i(l,f,!1),r.value=l}return{location:r,state:o,push:a,replace:s}}function sO(t){t=YE(t);const e=iO(t),n=oO(t,e.state,e.location,e.replace);function r(i,s=!0){s||n.pauseListeners(),history.go(i)}const o=Le({location:"",base:t,go:r,createHref:QE.bind(null,t)},e,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function iI(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),sO(t)}function aO(t){return typeof t=="string"||t&&typeof t=="object"}function Qv(t){return typeof t=="string"||typeof t=="symbol"}const Ir={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Zv=ri("nf");var eg;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(eg||(eg={}));function si(t,e){return Le(new Error,{type:t,[Zv]:!0},e)}function yo(t,e){return t instanceof Error&&Zv in t&&(e==null||!!(t.type&e))}const tg="[^/]+?",lO={sensitive:!1,strict:!1,start:!0,end:!0},cO=/[.+*?^${}()[\]/\\]/g;function uO(t,e){const n=Le({},lO,e),r=[];let o=n.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(o+="/");for(let f=0;f<c.length;f++){const p=c[f];let h=40+(n.sensitive?.25:0);if(p.type===0)f||(o+="/"),o+=p.value.replace(cO,"\\$&"),h+=40;else if(p.type===1){const{value:d,repeatable:y,optional:v,regexp:b}=p;i.push({name:d,repeatable:y,optional:v});const g=b||tg;if(g!==tg){h+=10;try{new RegExp(`(${g})`)}catch(m){throw new Error(`Invalid custom RegExp for param "${d}" (${g}): `+m.message)}}let S=y?`((?:${g})(?:/(?:${g}))*)`:`(${g})`;f||(S=v&&c.length<2?`(?:/${S})`:"/"+S),v&&(S+="?"),o+=S,h+=20,v&&(h+=-8),y&&(h+=-20),g===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const s=new RegExp(o,n.sensitive?"":"i");function a(c){const u=c.match(s),f={};if(!u)return null;for(let p=1;p<u.length;p++){const h=u[p]||"",d=i[p-1];f[d.name]=h&&d.repeatable?h.split("/"):h}return f}function l(c){let u="",f=!1;for(const p of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of p)if(h.type===0)u+=h.value;else if(h.type===1){const{value:d,repeatable:y,optional:v}=h,b=d in c?c[d]:"";if(Array.isArray(b)&&!y)throw new Error(`Provided param "${d}" is an array but it is not repeatable (* or + modifiers)`);const g=Array.isArray(b)?b.join("/"):b;if(!g)if(v)p.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${d}"`);u+=g}}return u}return{re:s,score:r,keys:i,parse:a,stringify:l}}function fO(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function pO(t,e){let n=0;const r=t.score,o=e.score;for(;n<r.length&&n<o.length;){const i=fO(r[n],o[n]);if(i)return i;n++}return o.length-r.length}const hO={type:0,value:""},dO=/[a-zA-Z0-9_]/;function mO(t){if(!t)return[[]];if(t==="/")return[[hO]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,r=n;const o=[];let i;function s(){i&&o.push(i),i=[]}let a=0,l,c="",u="";function f(){!c||(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function p(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),s()):l===":"?(f(),n=1):p();break;case 4:p(),n=r;break;case 1:l==="("?n=2:dO.test(l)?p():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),s(),o}function vO(t,e,n){const r=uO(mO(t.path),n),o=Le(r,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function gO(t,e){const n=[],r=new Map;e=rg({strict:!1,end:!0,sensitive:!1},e);function o(u){return r.get(u)}function i(u,f,p){const h=!p,d=bO(u);d.aliasOf=p&&p.record;const y=rg(e,u),v=[d];if("alias"in u){const S=typeof u.alias=="string"?[u.alias]:u.alias;for(const m of S)v.push(Le({},d,{components:p?p.record.components:d.components,path:m,aliasOf:p?p.record:d}))}let b,g;for(const S of v){const{path:m}=S;if(f&&m[0]!=="/"){const O=f.record.path,C=O[O.length-1]==="/"?"":"/";S.path=f.record.path+(m&&C+m)}if(b=vO(S,f,y),p?p.alias.push(b):(g=g||b,g!==b&&g.alias.push(b),h&&u.name&&!ng(b)&&s(u.name)),"children"in d){const O=d.children;for(let C=0;C<O.length;C++)i(O[C],b,p&&p.children[C])}p=p||b,l(b)}return g?()=>{s(g)}:ws}function s(u){if(Qv(u)){const f=r.get(u);f&&(r.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&r.delete(u.record.name),u.children.forEach(s),u.alias.forEach(s))}}function a(){return n}function l(u){let f=0;for(;f<n.length&&pO(u,n[f])>=0;)f++;n.splice(f,0,u),u.record.name&&!ng(u)&&r.set(u.record.name,u)}function c(u,f){let p,h={},d,y;if("name"in u&&u.name){if(p=r.get(u.name),!p)throw si(1,{location:u});y=p.record.name,h=Le(yO(f.params,p.keys.filter(g=>!g.optional).map(g=>g.name)),u.params),d=p.stringify(h)}else if("path"in u)d=u.path,p=n.find(g=>g.re.test(d)),p&&(h=p.parse(d),y=p.record.name);else{if(p=f.name?r.get(f.name):n.find(g=>g.re.test(f.path)),!p)throw si(1,{location:u,currentLocation:f});y=p.record.name,h=Le({},f.params,u.params),d=p.stringify(h)}const v=[];let b=p;for(;b;)v.unshift(b.record),b=b.parent;return{name:y,path:d,params:h,matched:v,meta:wO(v)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:s,getRoutes:a,getRecordMatcher:o}}function yO(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function bO(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:SO(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function SO(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function ng(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function wO(t){return t.reduce((e,n)=>Le(e,n.meta),{})}function rg(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}const og=/#/g,CO=/&/g,kO=/\//g,EO=/=/g,OO=/\?/g,ig=/\+/g,MO=/%5B/g,xO=/%5D/g,sg=/%5E/g,TO=/%60/g,ag=/%7B/g,NO=/%7C/g,lg=/%7D/g,AO=/%20/g;function lf(t){return encodeURI(""+t).replace(NO,"|").replace(MO,"[").replace(xO,"]")}function RO(t){return lf(t).replace(ag,"{").replace(lg,"}").replace(sg,"^")}function cf(t){return lf(t).replace(ig,"%2B").replace(AO,"+").replace(og,"%23").replace(CO,"%26").replace(TO,"`").replace(ag,"{").replace(lg,"}").replace(sg,"^")}function _O(t){return cf(t).replace(EO,"%3D")}function PO(t){return lf(t).replace(og,"%23").replace(OO,"%3F")}function IO(t){return t==null?"":PO(t).replace(kO,"%2F")}function wl(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function DO(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<r.length;++o){const i=r[o].replace(ig," "),s=i.indexOf("="),a=wl(s<0?i:i.slice(0,s)),l=s<0?null:wl(i.slice(s+1));if(a in e){let c=e[a];Array.isArray(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function cg(t){let e="";for(let n in t){const r=t[n];if(n=_O(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Array.isArray(r)?r.map(i=>i&&cf(i)):[r&&cf(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function FO(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Array.isArray(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return e}function Es(){let t=[];function e(r){return t.push(r),()=>{const o=t.indexOf(r);o>-1&&t.splice(o,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Dr(t,e,n,r,o){const i=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((s,a)=>{const l=f=>{f===!1?a(si(4,{from:n,to:e})):f instanceof Error?a(f):aO(f)?a(si(2,{from:e,to:f})):(i&&r.enterCallbacks[o]===i&&typeof f=="function"&&i.push(f),s())},c=t.call(r&&r.instances[o],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(f=>a(f))})}function uf(t,e,n,r){const o=[];for(const i of t)for(const s in i.components){let a=i.components[s];if(!(e!=="beforeRouteEnter"&&!i.instances[s]))if(BO(a)){const c=(a.__vccOpts||a)[e];c&&o.push(Dr(c,n,r,i,s))}else{let l=a();o.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${i.path}"`));const u=jE(c)?c.default:c;i.components[s]=u;const p=(u.__vccOpts||u)[e];return p&&Dr(p,n,r,i,s)()}))}}return o}function BO(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function ug(t){const e=dn(bl),n=dn(nf),r=hn(()=>e.resolve(ao(t.to))),o=hn(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const p=f.findIndex(ii.bind(null,u));if(p>-1)return p;const h=fg(l[c-2]);return c>1&&fg(u)===h&&f[f.length-1].path!==h?f.findIndex(ii.bind(null,l[c-2])):p}),i=hn(()=>o.value>-1&&HO(n.params,r.value.params)),s=hn(()=>o.value>-1&&o.value===n.matched.length-1&&Uv(n.params,r.value.params));function a(l={}){return $O(l)?e[ao(t.replace)?"replace":"push"](ao(t.to)).catch(ws):Promise.resolve()}return{route:r,href:hn(()=>r.value.href),isActive:i,isExactActive:s,navigate:a}}const LO=jt({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ug,setup(t,{slots:e}){const n=Sr(ug(t)),{options:r}=dn(bl),o=hn(()=>({[pg(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[pg(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:Tn("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},i)}}}),zO=LO;function $O(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function HO(t,e){for(const n in e){const r=e[n],o=t[n];if(typeof r=="string"){if(r!==o)return!1}else if(!Array.isArray(o)||o.length!==r.length||r.some((i,s)=>i!==o[s]))return!1}return!0}function fg(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const pg=(t,e,n)=>t!=null?t:e!=null?e:n,VO=jt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:n}){const r=dn(rf),o=hn(()=>t.route||r.value),i=dn(Jv,0),s=hn(()=>o.value.matched[i]);ji(Jv,i+1),ji(VE,s),ji(rf,o);const a=Zn();return Ar(()=>[a.value,s.value,t.name],([l,c,u],[f,p,h])=>{c&&(c.instances[u]=l,p&&p!==c&&l&&l===f&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),l&&c&&(!p||!ii(c,p)||!f)&&(c.enterCallbacks[u]||[]).forEach(d=>d(l))},{flush:"post"}),()=>{const l=o.value,c=s.value,u=c&&c.components[t.name],f=t.name;if(!u)return hg(n.default,{Component:u,route:l});const p=c.props[t.name],h=p?p===!0?l.params:typeof p=="function"?p(l):p:null,y=Tn(u,Le({},h,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(c.instances[f]=null)},ref:a}));return hg(n.default,{Component:y,route:l})||y}}});function hg(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const jO=VO;function sI(t){const e=gO(t.routes,t),n=t.parseQuery||DO,r=t.stringifyQuery||cg,o=t.history,i=Es(),s=Es(),a=Es(),l=Dc(Ir);let c=Ir;oi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=of.bind(null,P=>""+P),f=of.bind(null,IO),p=of.bind(null,wl);function h(P,G){let W,X;return Qv(P)?(W=e.getRecordMatcher(P),X=G):X=P,e.addRoute(X,W)}function d(P){const G=e.getRecordMatcher(P);G&&e.removeRoute(G)}function y(){return e.getRoutes().map(P=>P.record)}function v(P){return!!e.getRecordMatcher(P)}function b(P,G){if(G=Le({},G||l.value),typeof P=="string"){const fe=sf(n,P,G.path),w=e.resolve({path:fe.path},G),E=o.createHref(fe.fullPath);return Le(fe,w,{params:p(w.params),hash:wl(fe.hash),redirectedFrom:void 0,href:E})}let W;if("path"in P)W=Le({},P,{path:sf(n,P.path,G.path).path});else{const fe=Le({},P.params);for(const w in fe)fe[w]==null&&delete fe[w];W=Le({},P,{params:f(P.params)}),G.params=f(G.params)}const X=e.resolve(W,G),Me=P.hash||"";X.params=u(p(X.params));const ke=KE(r,Le({},P,{hash:RO(Me),path:X.path})),he=o.createHref(ke);return Le({fullPath:ke,hash:Me,query:r===cg?FO(P.query):P.query||{}},X,{redirectedFrom:void 0,href:he})}function g(P){return typeof P=="string"?sf(n,P,l.value.path):Le({},P)}function S(P,G){if(c!==P)return si(8,{from:G,to:P})}function m(P){return k(P)}function O(P){return m(Le(g(P),{replace:!0}))}function C(P){const G=P.matched[P.matched.length-1];if(G&&G.redirect){const{redirect:W}=G;let X=typeof W=="function"?W(P):W;return typeof X=="string"&&(X=X.includes("?")||X.includes("#")?X=g(X):{path:X},X.params={}),Le({query:P.query,hash:P.hash,params:P.params},X)}}function k(P,G){const W=c=b(P),X=l.value,Me=P.state,ke=P.force,he=P.replace===!0,fe=C(W);if(fe)return k(Le(g(fe),{state:Me,force:ke,replace:he}),G||W);const w=W;w.redirectedFrom=G;let E;return!ke&&UE(r,X,W)&&(E=si(16,{to:w,from:X}),at(X,X,!0,!1)),(E?Promise.resolve(E):T(w,X)).catch(A=>yo(A)?A:Z(A,w,X)).then(A=>{if(A){if(yo(A,2))return k(Le(g(A.to),{state:Me,force:ke,replace:he}),G||w)}else A=V(w,X,!0,he,Me);return R(w,X,A),A})}function M(P,G){const W=S(P,G);return W?Promise.reject(W):Promise.resolve()}function T(P,G){let W;const[X,Me,ke]=WO(P,G);W=uf(X.reverse(),"beforeRouteLeave",P,G);for(const fe of X)fe.leaveGuards.forEach(w=>{W.push(Dr(w,P,G))});const he=M.bind(null,P,G);return W.push(he),ai(W).then(()=>{W=[];for(const fe of i.list())W.push(Dr(fe,P,G));return W.push(he),ai(W)}).then(()=>{W=uf(Me,"beforeRouteUpdate",P,G);for(const fe of Me)fe.updateGuards.forEach(w=>{W.push(Dr(w,P,G))});return W.push(he),ai(W)}).then(()=>{W=[];for(const fe of P.matched)if(fe.beforeEnter&&!G.matched.includes(fe))if(Array.isArray(fe.beforeEnter))for(const w of fe.beforeEnter)W.push(Dr(w,P,G));else W.push(Dr(fe.beforeEnter,P,G));return W.push(he),ai(W)}).then(()=>(P.matched.forEach(fe=>fe.enterCallbacks={}),W=uf(ke,"beforeRouteEnter",P,G),W.push(he),ai(W))).then(()=>{W=[];for(const fe of s.list())W.push(Dr(fe,P,G));return W.push(he),ai(W)}).catch(fe=>yo(fe,8)?fe:Promise.reject(fe))}function R(P,G,W){for(const X of a.list())X(P,G,W)}function V(P,G,W,X,Me){const ke=S(P,G);if(ke)return ke;const he=G===Ir,fe=oi?history.state:{};W&&(X||he?o.replace(P.fullPath,Le({scroll:he&&fe&&fe.scroll},Me)):o.push(P.fullPath,Me)),l.value=P,at(P,G,W,he),We()}let N;function x(){N=o.listen((P,G,W)=>{const X=b(P),Me=C(X);if(Me){k(Le(Me,{replace:!0}),X).catch(ws);return}c=X;const ke=l.value;oi&&tO(Gv(ke.fullPath,W.delta),Sl()),T(X,ke).catch(he=>yo(he,4|8)?he:yo(he,2)?(k(he.to,X).then(fe=>{yo(fe,4|16)&&!W.delta&&W.type===Cs.pop&&o.go(-1,!1)}).catch(ws),Promise.reject()):(W.delta&&o.go(-W.delta,!1),Z(he,X,ke))).then(he=>{he=he||V(X,ke,!1),he&&(W.delta?o.go(-W.delta,!1):W.type===Cs.pop&&yo(he,4|16)&&o.go(-1,!1)),R(X,ke,he)}).catch(ws)})}let U=Es(),ce=Es(),Q;function Z(P,G,W){We(P);const X=ce.list();return X.length?X.forEach(Me=>Me(P,G,W)):console.error(P),Promise.reject(P)}function se(){return Q&&l.value!==Ir?Promise.resolve():new Promise((P,G)=>{U.add([P,G])})}function We(P){Q||(Q=!0,x(),U.list().forEach(([G,W])=>P?W(P):G()),U.reset())}function at(P,G,W,X){const{scrollBehavior:Me}=t;if(!oi||!Me)return Promise.resolve();const ke=!W&&nO(Gv(P.fullPath,0))||(X||!W)&&history.state&&history.state.scroll||null;return ts().then(()=>Me(P,G,ke)).then(he=>he&&eO(he)).catch(he=>Z(he,P,G))}const lt=P=>o.go(P);let qe;const Xe=new Set;return{currentRoute:l,addRoute:h,removeRoute:d,hasRoute:v,getRoutes:y,resolve:b,options:t,push:m,replace:O,go:lt,back:()=>lt(-1),forward:()=>lt(1),beforeEach:i.add,beforeResolve:s.add,afterEach:a.add,onError:ce.add,isReady:se,install(P){const G=this;P.component("RouterLink",zO),P.component("RouterView",jO),P.config.globalProperties.$router=G,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>ao(l)}),oi&&!qe&&l.value===Ir&&(qe=!0,m(o.location).catch(Me=>{}));const W={};for(const Me in Ir)W[Me]=hn(()=>l.value[Me]);P.provide(bl,G),P.provide(nf,Sr(W)),P.provide(rf,l);const X=P.unmount;Xe.add(P),P.unmount=function(){Xe.delete(P),Xe.size<1&&(c=Ir,N&&N(),l.value=Ir,qe=!1,Q=!1),X()}}}}function ai(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function WO(t,e){const n=[],r=[],o=[],i=Math.max(e.matched.length,t.matched.length);for(let s=0;s<i;s++){const a=e.matched[s];a&&(t.matched.find(c=>ii(c,a))?r.push(a):n.push(a));const l=t.matched[s];l&&(e.matched.find(c=>ii(c,l))||o.push(l))}return[n,r,o]}function aI(){return dn(bl)}function lI(){return dn(nf)}var dg={expireTimes:"1d",path:"; path=/",domain:"",secure:!1,sameSite:"; SameSite=Lax"},JO=function(){function t(){this.current_default_config=dg}return t.prototype.config=function(e){for(var n in this.current_default_config)this.current_default_config[n]=e[n]?e[n]:dg[n]},t.prototype.get=function(e){var n=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;if(n&&n.substring(0,1)==="{"&&n.substring(n.length-1,n.length)==="}")try{n=JSON.parse(n)}catch{return n}return n},t.prototype.set=function(e,n,r,o,i,s,a){if(e){if(/^(?:expires|max-age|path|domain|secure|SameSite)$/i.test(e))throw new Error('Cookie name illegality. Cannot be set to ["expires","max-age","path","domain","secure","SameSite"]	 current key name: '+e)}else throw new Error("Cookie name is not found in the first argument.");n&&n.constructor===Object&&(n=JSON.stringify(n));var l="";if(r==null&&(r=this.current_default_config.expireTimes?this.current_default_config.expireTimes:""),r&&r!=0)switch(r.constructor){case Number:r===1/0||r===-1?l="; expires=Fri, 31 Dec 9999 23:59:59 GMT":l="; max-age="+r;break;case String:if(/^(?:\d+(y|m|d|h|min|s))$/i.test(r)){var c=r.replace(/^(\d+)(?:y|m|d|h|min|s)$/i,"$1");switch(r.replace(/^(?:\d+)(y|m|d|h|min|s)$/i,"$1").toLowerCase()){case"m":l="; max-age="+ +c*2592e3;break;case"d":l="; max-age="+ +c*86400;break;case"h":l="; max-age="+ +c*3600;break;case"min":l="; max-age="+ +c*60;break;case"s":l="; max-age="+c;break;case"y":l="; max-age="+ +c*31104e3;break}}else l="; expires="+r;break;case Date:l="; expires="+r.toUTCString();break}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(n)+l+(i?"; domain="+i:this.current_default_config.domain?this.current_default_config.domain:"")+(o?"; path="+o:this.current_default_config.path?this.current_default_config.path:"; path=/")+(s==null?this.current_default_config.secure?"; Secure":"":s?"; Secure":"")+(a==null?this.current_default_config.sameSite?"; SameSute="+this.current_default_config.sameSite:"":a?"; SameSite="+a:""),this},t.prototype.remove=function(e,n,r){return!e||!this.isKey(e)?!1:(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(r?"; domain="+r:this.current_default_config.domain?this.current_default_config.domain:"")+(n?"; path="+n:this.current_default_config.path?this.current_default_config.path:"; path=/")+"; SameSite=Lax",!0)},t.prototype.isKey=function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},t.prototype.keys=function(){if(!document.cookie)return[];for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),n=0;n<e.length;n++)e[n]=decodeURIComponent(e[n]);return e},t}(),ff=null;function cI(){ff==null&&(ff=new JO);var t=Sr(ff);return{cookies:t}}var KO=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function UO(t){var e={exports:{}};return t(e,e.exports),e.exports}var qO=UO(function(t,e){(function(r,o){t.exports=o()})(KO,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={exports:{},id:i,loaded:!1};return n[i].call(s.exports,s,s.exports,o),s.loaded=!0,s.exports}return o.m=n,o.c=r,o.p="",o(0)}([function(n,r,o){n.exports=o(1)},function(n,r,o){var i=o(2),s=o(3),a=o(4),l=o(22),c=o(10);function u(p){var h=new a(p),d=s(a.prototype.request,h);return i.extend(d,a.prototype,h),i.extend(d,h),d}var f=u(c);f.Axios=a,f.create=function(h){return u(l(f.defaults,h))},f.Cancel=o(23),f.CancelToken=o(24),f.isCancel=o(9),f.all=function(h){return Promise.all(h)},f.spread=o(25),f.isAxiosError=o(26),n.exports=f,n.exports.default=f},function(n,r,o){var i=o(3),s=Object.prototype.toString;function a(x){return s.call(x)==="[object Array]"}function l(x){return typeof x=="undefined"}function c(x){return x!==null&&!l(x)&&x.constructor!==null&&!l(x.constructor)&&typeof x.constructor.isBuffer=="function"&&x.constructor.isBuffer(x)}function u(x){return s.call(x)==="[object ArrayBuffer]"}function f(x){return typeof FormData!="undefined"&&x instanceof FormData}function p(x){var U;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?U=ArrayBuffer.isView(x):U=x&&x.buffer&&x.buffer instanceof ArrayBuffer,U}function h(x){return typeof x=="string"}function d(x){return typeof x=="number"}function y(x){return x!==null&&typeof x=="object"}function v(x){if(s.call(x)!=="[object Object]")return!1;var U=Object.getPrototypeOf(x);return U===null||U===Object.prototype}function b(x){return s.call(x)==="[object Date]"}function g(x){return s.call(x)==="[object File]"}function S(x){return s.call(x)==="[object Blob]"}function m(x){return s.call(x)==="[object Function]"}function O(x){return y(x)&&m(x.pipe)}function C(x){return typeof URLSearchParams!="undefined"&&x instanceof URLSearchParams}function k(x){return x.replace(/^\s*/,"").replace(/\s*$/,"")}function M(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function T(x,U){if(!(x===null||typeof x=="undefined"))if(typeof x!="object"&&(x=[x]),a(x))for(var ce=0,Q=x.length;ce<Q;ce++)U.call(null,x[ce],ce,x);else for(var Z in x)Object.prototype.hasOwnProperty.call(x,Z)&&U.call(null,x[Z],Z,x)}function R(){var x={};function U(Z,se){v(x[se])&&v(Z)?x[se]=R(x[se],Z):v(Z)?x[se]=R({},Z):a(Z)?x[se]=Z.slice():x[se]=Z}for(var ce=0,Q=arguments.length;ce<Q;ce++)T(arguments[ce],U);return x}function V(x,U,ce){return T(U,function(Z,se){ce&&typeof Z=="function"?x[se]=i(Z,ce):x[se]=Z}),x}function N(x){return x.charCodeAt(0)===65279&&(x=x.slice(1)),x}n.exports={isArray:a,isArrayBuffer:u,isBuffer:c,isFormData:f,isArrayBufferView:p,isString:h,isNumber:d,isObject:y,isPlainObject:v,isUndefined:l,isDate:b,isFile:g,isBlob:S,isFunction:m,isStream:O,isURLSearchParams:C,isStandardBrowserEnv:M,forEach:T,merge:R,extend:V,trim:k,stripBOM:N}},function(n,r){n.exports=function(i,s){return function(){for(var l=new Array(arguments.length),c=0;c<l.length;c++)l[c]=arguments[c];return i.apply(s,l)}}},function(n,r,o){var i=o(2),s=o(5),a=o(6),l=o(7),c=o(22);function u(f){this.defaults=f,this.interceptors={request:new a,response:new a}}u.prototype.request=function(p){typeof p=="string"?(p=arguments[1]||{},p.url=arguments[0]):p=p||{},p=c(this.defaults,p),p.method?p.method=p.method.toLowerCase():this.defaults.method?p.method=this.defaults.method.toLowerCase():p.method="get";var h=[l,void 0],d=Promise.resolve(p);for(this.interceptors.request.forEach(function(v){h.unshift(v.fulfilled,v.rejected)}),this.interceptors.response.forEach(function(v){h.push(v.fulfilled,v.rejected)});h.length;)d=d.then(h.shift(),h.shift());return d},u.prototype.getUri=function(p){return p=c(this.defaults,p),s(p.url,p.params,p.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],function(p){u.prototype[p]=function(h,d){return this.request(c(d||{},{method:p,url:h,data:(d||{}).data}))}}),i.forEach(["post","put","patch"],function(p){u.prototype[p]=function(h,d,y){return this.request(c(y||{},{method:p,url:h,data:d}))}}),n.exports=u},function(n,r,o){var i=o(2);function s(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}n.exports=function(l,c,u){if(!c)return l;var f;if(u)f=u(c);else if(i.isURLSearchParams(c))f=c.toString();else{var p=[];i.forEach(c,function(y,v){y===null||typeof y=="undefined"||(i.isArray(y)?v=v+"[]":y=[y],i.forEach(y,function(g){i.isDate(g)?g=g.toISOString():i.isObject(g)&&(g=JSON.stringify(g)),p.push(s(v)+"="+s(g))}))}),f=p.join("&")}if(f){var h=l.indexOf("#");h!==-1&&(l=l.slice(0,h)),l+=(l.indexOf("?")===-1?"?":"&")+f}return l}},function(n,r,o){var i=o(2);function s(){this.handlers=[]}s.prototype.use=function(l,c){return this.handlers.push({fulfilled:l,rejected:c}),this.handlers.length-1},s.prototype.eject=function(l){this.handlers[l]&&(this.handlers[l]=null)},s.prototype.forEach=function(l){i.forEach(this.handlers,function(u){u!==null&&l(u)})},n.exports=s},function(n,r,o){var i=o(2),s=o(8),a=o(9),l=o(10);function c(u){u.cancelToken&&u.cancelToken.throwIfRequested()}n.exports=function(f){c(f),f.headers=f.headers||{},f.data=s(f.data,f.headers,f.transformRequest),f.headers=i.merge(f.headers.common||{},f.headers[f.method]||{},f.headers),i.forEach(["delete","get","head","post","put","patch","common"],function(d){delete f.headers[d]});var p=f.adapter||l.adapter;return p(f).then(function(d){return c(f),d.data=s(d.data,d.headers,f.transformResponse),d},function(d){return a(d)||(c(f),d&&d.response&&(d.response.data=s(d.response.data,d.response.headers,f.transformResponse))),Promise.reject(d)})}},function(n,r,o){var i=o(2);n.exports=function(a,l,c){return i.forEach(c,function(f){a=f(a,l)}),a}},function(n,r){n.exports=function(i){return!!(i&&i.__CANCEL__)}},function(n,r,o){var i=o(2),s=o(11),a={"Content-Type":"application/x-www-form-urlencoded"};function l(f,p){!i.isUndefined(f)&&i.isUndefined(f["Content-Type"])&&(f["Content-Type"]=p)}function c(){var f;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(f=o(12)),f}var u={adapter:c(),transformRequest:[function(p,h){return s(h,"Accept"),s(h,"Content-Type"),i.isFormData(p)||i.isArrayBuffer(p)||i.isBuffer(p)||i.isStream(p)||i.isFile(p)||i.isBlob(p)?p:i.isArrayBufferView(p)?p.buffer:i.isURLSearchParams(p)?(l(h,"application/x-www-form-urlencoded;charset=utf-8"),p.toString()):i.isObject(p)?(l(h,"application/json;charset=utf-8"),JSON.stringify(p)):p}],transformResponse:[function(p){if(typeof p=="string")try{p=JSON.parse(p)}catch{}return p}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(p){return p>=200&&p<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(p){u.headers[p]={}}),i.forEach(["post","put","patch"],function(p){u.headers[p]=i.merge(a)}),n.exports=u},function(n,r,o){var i=o(2);n.exports=function(a,l){i.forEach(a,function(u,f){f!==l&&f.toUpperCase()===l.toUpperCase()&&(a[l]=u,delete a[f])})}},function(n,r,o){var i=o(2),s=o(13),a=o(16),l=o(5),c=o(17),u=o(20),f=o(21),p=o(14);n.exports=function(d){return new Promise(function(v,b){var g=d.data,S=d.headers;i.isFormData(g)&&delete S["Content-Type"];var m=new XMLHttpRequest;if(d.auth){var O=d.auth.username||"",C=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";S.Authorization="Basic "+btoa(O+":"+C)}var k=c(d.baseURL,d.url);if(m.open(d.method.toUpperCase(),l(k,d.params,d.paramsSerializer),!0),m.timeout=d.timeout,m.onreadystatechange=function(){if(!(!m||m.readyState!==4)&&!(m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0))){var R="getAllResponseHeaders"in m?u(m.getAllResponseHeaders()):null,V=!d.responseType||d.responseType==="text"?m.responseText:m.response,N={data:V,status:m.status,statusText:m.statusText,headers:R,config:d,request:m};s(v,b,N),m=null}},m.onabort=function(){!m||(b(p("Request aborted",d,"ECONNABORTED",m)),m=null)},m.onerror=function(){b(p("Network Error",d,null,m)),m=null},m.ontimeout=function(){var R="timeout of "+d.timeout+"ms exceeded";d.timeoutErrorMessage&&(R=d.timeoutErrorMessage),b(p(R,d,"ECONNABORTED",m)),m=null},i.isStandardBrowserEnv()){var M=(d.withCredentials||f(k))&&d.xsrfCookieName?a.read(d.xsrfCookieName):void 0;M&&(S[d.xsrfHeaderName]=M)}if("setRequestHeader"in m&&i.forEach(S,function(R,V){typeof g=="undefined"&&V.toLowerCase()==="content-type"?delete S[V]:m.setRequestHeader(V,R)}),i.isUndefined(d.withCredentials)||(m.withCredentials=!!d.withCredentials),d.responseType)try{m.responseType=d.responseType}catch(T){if(d.responseType!=="json")throw T}typeof d.onDownloadProgress=="function"&&m.addEventListener("progress",d.onDownloadProgress),typeof d.onUploadProgress=="function"&&m.upload&&m.upload.addEventListener("progress",d.onUploadProgress),d.cancelToken&&d.cancelToken.promise.then(function(R){!m||(m.abort(),b(R),m=null)}),g||(g=null),m.send(g)})}},function(n,r,o){var i=o(14);n.exports=function(a,l,c){var u=c.config.validateStatus;!c.status||!u||u(c.status)?a(c):l(i("Request failed with status code "+c.status,c.config,null,c.request,c))}},function(n,r,o){var i=o(15);n.exports=function(a,l,c,u,f){var p=new Error(a);return i(p,l,c,u,f)}},function(n,r){n.exports=function(i,s,a,l,c){return i.config=s,a&&(i.code=a),i.request=l,i.response=c,i.isAxiosError=!0,i.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},i}},function(n,r,o){var i=o(2);n.exports=i.isStandardBrowserEnv()?function(){return{write:function(l,c,u,f,p,h){var d=[];d.push(l+"="+encodeURIComponent(c)),i.isNumber(u)&&d.push("expires="+new Date(u).toGMTString()),i.isString(f)&&d.push("path="+f),i.isString(p)&&d.push("domain="+p),h===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(l){var c=document.cookie.match(new RegExp("(^|;\\s*)("+l+")=([^;]*)"));return c?decodeURIComponent(c[3]):null},remove:function(l){this.write(l,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(n,r,o){var i=o(18),s=o(19);n.exports=function(l,c){return l&&!i(c)?s(l,c):c}},function(n,r){n.exports=function(i){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(i)}},function(n,r){n.exports=function(i,s){return s?i.replace(/\/+$/,"")+"/"+s.replace(/^\/+/,""):i}},function(n,r,o){var i=o(2),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];n.exports=function(l){var c={},u,f,p;return l&&i.forEach(l.split(`
`),function(d){if(p=d.indexOf(":"),u=i.trim(d.substr(0,p)).toLowerCase(),f=i.trim(d.substr(p+1)),u){if(c[u]&&s.indexOf(u)>=0)return;u==="set-cookie"?c[u]=(c[u]?c[u]:[]).concat([f]):c[u]=c[u]?c[u]+", "+f:f}}),c}},function(n,r,o){var i=o(2);n.exports=i.isStandardBrowserEnv()?function(){var a=/(msie|trident)/i.test(navigator.userAgent),l=document.createElement("a"),c;function u(f){var p=f;return a&&(l.setAttribute("href",p),p=l.href),l.setAttribute("href",p),{href:l.href,protocol:l.protocol?l.protocol.replace(/:$/,""):"",host:l.host,search:l.search?l.search.replace(/^\?/,""):"",hash:l.hash?l.hash.replace(/^#/,""):"",hostname:l.hostname,port:l.port,pathname:l.pathname.charAt(0)==="/"?l.pathname:"/"+l.pathname}}return c=u(window.location.href),function(p){var h=i.isString(p)?u(p):p;return h.protocol===c.protocol&&h.host===c.host}}():function(){return function(){return!0}}()},function(n,r,o){var i=o(2);n.exports=function(a,l){l=l||{};var c={},u=["url","method","data"],f=["headers","auth","proxy","params"],p=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],h=["validateStatus"];function d(g,S){return i.isPlainObject(g)&&i.isPlainObject(S)?i.merge(g,S):i.isPlainObject(S)?i.merge({},S):i.isArray(S)?S.slice():S}function y(g){i.isUndefined(l[g])?i.isUndefined(a[g])||(c[g]=d(void 0,a[g])):c[g]=d(a[g],l[g])}i.forEach(u,function(S){i.isUndefined(l[S])||(c[S]=d(void 0,l[S]))}),i.forEach(f,y),i.forEach(p,function(S){i.isUndefined(l[S])?i.isUndefined(a[S])||(c[S]=d(void 0,a[S])):c[S]=d(void 0,l[S])}),i.forEach(h,function(S){S in l?c[S]=d(a[S],l[S]):S in a&&(c[S]=d(void 0,a[S]))});var v=u.concat(f).concat(p).concat(h),b=Object.keys(a).concat(Object.keys(l)).filter(function(S){return v.indexOf(S)===-1});return i.forEach(b,y),c}},function(n,r){function o(i){this.message=i}o.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},o.prototype.__CANCEL__=!0,n.exports=o},function(n,r,o){var i=o(23);function s(a){if(typeof a!="function")throw new TypeError("executor must be a function.");var l;this.promise=new Promise(function(f){l=f});var c=this;a(function(f){c.reason||(c.reason=new i(f),l(c.reason))})}s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.source=function(){var l,c=new s(function(f){l=f});return{token:c,cancel:l}},n.exports=s},function(n,r){n.exports=function(i){return function(a){return i.apply(null,a)}}},function(n,r){n.exports=function(i){return typeof i=="object"&&i.isAxiosError===!0}}])})});const uI=qO;/**
 * Vue 3 Loading Overlay 0.0.0
 * (c) 2020
 * @license MIT
 */var pf=jt({name:"spinner",props:{color:{type:String,default:"#000"},height:{type:Number,default:64},width:{type:Number,default:64}}});const GO=le("g",{fill:"none","fill-rule":"evenodd"},[le("g",{transform:"translate(1 1)","stroke-width":"2"},[le("circle",{"stroke-opacity":".25",cx:"18",cy:"18",r:"18"}),le("path",{d:"M36 18c0-9.94-8.06-18-18-18"},[le("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.8s",repeatCount:"indefinite"})])])],-1);function YO(t,e,n,r,o,i){return nr(),kr("svg",{viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",width:t.width,height:t.height,stroke:t.color},[GO],8,["width","height","stroke"])}pf.render=YO;pf.__file="src/loaders/Spinner.vue";var hf=jt({name:"dots",props:{color:{type:String,default:"#000"},height:{type:Number,default:240},width:{type:Number,default:60}}});const XO=le("circle",{cx:"15",cy:"15",r:"15"},[le("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),le("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})],-1),QO=le("circle",{cx:"60",cy:"15",r:"9","fill-opacity":"0.3"},[le("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),le("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})],-1),ZO=le("circle",{cx:"105",cy:"15",r:"15"},[le("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),le("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})],-1);function eM(t,e,n,r,o,i){return nr(),kr("svg",{viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:t.color,width:t.width,height:t.height},[XO,QO,ZO],8,["fill","width","height"])}hf.render=eM;hf.__file="src/loaders/Dots.vue";var df=jt({name:"bars",props:{color:{type:String,default:"#000"},height:{type:Number,default:40},width:{type:Number,default:40}}});const tM=le("rect",{x:"0",y:"13",width:"4",height:"5"},[le("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0s",dur:"0.6s",repeatCount:"indefinite"}),le("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0s",dur:"0.6s",repeatCount:"indefinite"})],-1),nM=le("rect",{x:"10",y:"13",width:"4",height:"5"},[le("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"}),le("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"})],-1),rM=le("rect",{x:"20",y:"13",width:"4",height:"5"},[le("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"}),le("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"})],-1);function oM(t,e,n,r,o,i){return nr(),kr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",height:t.height,width:t.width,fill:t.color},[tM,nM,rM],8,["height","width","fill"])}df.render=oM;df.__file="src/loaders/Bars.vue";var iM={Spinner:pf,Dots:hf,Bars:df},mg=jt({name:"vue-loading",props:{active:Boolean,programmatic:Boolean,container:[Object,Function,HTMLElement],isFullPage:{type:Boolean,default:!0},enforceFocus:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!1},transition:{type:String,default:"fade"},canCancel:Boolean,onCancel:{type:Function,default:()=>{}},color:String,backgroundColor:String,blur:{type:String,default:"2px"},opacity:Number,width:Number,height:Number,zIndex:{type:Number,default:100},loader:{type:String,default:"spinner"}},setup(t,e){const n=Zn(t.active),r=hn(()=>({background:t.backgroundColor,opacity:t.opacity,backdropFilter:`blur(${t.blur})`})),o=()=>{t.programmatic&&(n.value=!1,setTimeout(()=>{},150))},i=()=>{!t.canCancel||!n.value||(o(),t.onCancel())},s=c=>{c.keyCode===27&&i()},a=()=>{t.isFullPage&&t.lockScroll&&document.body.classList.add("vld-shown")},l=()=>{t.isFullPage&&t.lockScroll&&document.body.classList.remove("vld-shown")};return tr(()=>{t.programmatic&&(n.value=!0,document.addEventListener("keyup",s))}),Ui(()=>{document.removeEventListener("keyup",s)}),Ar(()=>t.active,()=>{n.value=t.active}),Ar(n,()=>{n.value?a():l()}),{isActive:n,bgStyle:r,hide:o,cancel:i}},components:iM});const sM={class:"vld-icon"};function aM(t,e,n,r,o,i){return nr(),kr(Xa,{ref:"root",name:t.transition},{default:_a(()=>[Td(le("div",{tabindex:"0",class:["vld-overlay is-active",{"is-full-page":t.isFullPage}],"aria-busy":t.isActive,"aria-label":"Loading",style:{zIndex:t.zIndex}},[le("div",{class:"vld-background",onClick:e[1]||(e[1]=Fm((...s)=>t.cancel&&t.cancel(...s),["prevent"])),style:t.bgStyle},null,4),le("div",sM,[ja(t.$slots,"before"),ja(t.$slots,"default",{},()=>[(nr(),kr(Fd(t.loader),{color:t.color,width:t.width,height:t.height},null,8,["color","width","height"]))]),ja(t.$slots,"after")])],14,["aria-busy"]),[[ku,t.isActive]])]),_:3},8,["name"])}mg.render=aM;mg.__file="src/main/Component.vue";function Ct(t){this.content=t}Ct.prototype={constructor:Ct,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,o=r.find(t),i=r.content.slice();return o==-1?i.push(n||t,e):(i[o+1]=e,n&&(i[o]=n)),new Ct(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Ct(n)},addToStart:function(t,e){return new Ct([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Ct(n)},addBefore:function(t,e,n){var r=this.remove(e),o=r.content.slice(),i=r.find(t);return o.splice(i==-1?o.length:i,0,e,n),new Ct(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ct.from(t),t.size?new Ct(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ct.from(t),t.size?new Ct(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ct.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}};Ct.from=function(t){if(t instanceof Ct)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Ct(e)};var vg=Ct;function gg(t,e,n){for(var r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;var o=t.child(r),i=e.child(r);if(o==i){n+=o.nodeSize;continue}if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(var s=0;o.text[s]==i.text[s];s++)n++;return n}if(o.content.size||i.content.size){var a=gg(o.content,i.content,n+1);if(a!=null)return a}n+=o.nodeSize}}function yg(t,e,n,r){for(var o=t.childCount,i=e.childCount;;){if(o==0||i==0)return o==i?null:{a:n,b:r};var s=t.child(--o),a=e.child(--i),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){for(var c=0,u=Math.min(s.text.length,a.text.length);c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){var f=yg(s.content,a.content,n-1,r-1);if(f)return f}n-=l,r-=l}}var I=function(e,n){if(this.content=e,this.size=n||0,n==null)for(var r=0;r<e.length;r++)this.size+=e[r].nodeSize},Cl={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};I.prototype.nodesBetween=function(e,n,r,o,i){o===void 0&&(o=0);for(var s=0,a=0;a<n;s++){var l=this.content[s],c=a+l.nodeSize;if(c>e&&r(l,o+a,i,s)!==!1&&l.content.size){var u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,o+u)}a=c}};I.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)};I.prototype.textBetween=function(e,n,r,o){var i="",s=!0;return this.nodesBetween(e,n,function(a,l){a.isText?(i+=a.text.slice(Math.max(e,l)-l,n-l),s=!r):a.isLeaf&&o?(i+=typeof o=="function"?o(a):o,s=!r):!s&&a.isBlock&&(i+=r,s=!0)},0),i};I.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var n=this.lastChild,r=e.firstChild,o=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)o.push(e.content[i]);return new I(o,this.size+e.size)};I.prototype.cut=function(e,n){if(n==null&&(n=this.size),e==0&&n==this.size)return this;var r=[],o=0;if(n>e)for(var i=0,s=0;s<n;i++){var a=this.content[i],l=s+a.nodeSize;l>e&&((s<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),o+=a.nodeSize),s=l}return new I(r,o)};I.prototype.cutByIndex=function(e,n){return e==n?I.empty:e==0&&n==this.content.length?this:new I(this.content.slice(e,n))};I.prototype.replaceChild=function(e,n){var r=this.content[e];if(r==n)return this;var o=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return o[e]=n,new I(o,i)};I.prototype.addToStart=function(e){return new I([e].concat(this.content),this.size+e.nodeSize)};I.prototype.addToEnd=function(e){return new I(this.content.concat(e),this.size+e.nodeSize)};I.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0};Cl.firstChild.get=function(){return this.content.length?this.content[0]:null};Cl.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null};Cl.childCount.get=function(){return this.content.length};I.prototype.child=function(e){var n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n};I.prototype.maybeChild=function(e){return this.content[e]};I.prototype.forEach=function(e){for(var n=0,r=0;n<this.content.length;n++){var o=this.content[n];e(o,r,n),r+=o.nodeSize}};I.prototype.findDiffStart=function(e,n){return n===void 0&&(n=0),gg(this,e,n)};I.prototype.findDiffEnd=function(e,n,r){return n===void 0&&(n=this.size),r===void 0&&(r=e.size),yg(this,e,n,r)};I.prototype.findIndex=function(e,n){if(n===void 0&&(n=-1),e==0)return kl(0,e);if(e==this.size)return kl(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var r=0,o=0;;r++){var i=this.child(r),s=o+i.nodeSize;if(s>=e)return s==e||n>0?kl(r+1,s):kl(r,o);o=s}};I.prototype.toString=function(){return"<"+this.toStringInner()+">"};I.prototype.toStringInner=function(){return this.content.join(", ")};I.prototype.toJSON=function(){return this.content.length?this.content.map(function(e){return e.toJSON()}):null};I.fromJSON=function(e,n){if(!n)return I.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new I(n.map(e.nodeFromJSON))};I.fromArray=function(e){if(!e.length)return I.empty;for(var n,r=0,o=0;o<e.length;o++){var i=e[o];r+=i.nodeSize,o&&i.isText&&e[o-1].sameMarkup(i)?(n||(n=e.slice(0,o)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new I(n||e,r)};I.from=function(e){if(!e)return I.empty;if(e instanceof I)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new I([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))};Object.defineProperties(I.prototype,Cl);var mf={index:0,offset:0};function kl(t,e){return mf.index=t,mf.offset=e,mf}I.empty=new I([],0);function El(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!El(t[r],e[r]))return!1}else{for(var o in t)if(!(o in e)||!El(t[o],e[o]))return!1;for(var i in e)if(!(i in t))return!1}return!0}var Ce=function(e,n){this.type=e,this.attrs=n};Ce.prototype.addToSet=function(e){for(var n,r=!1,o=0;o<e.length;o++){var i=e[o];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,o));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n};Ce.prototype.removeFromSet=function(e){for(var n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e};Ce.prototype.isInSet=function(e){for(var n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1};Ce.prototype.eq=function(e){return this==e||this.type==e.type&&El(this.attrs,e.attrs)};Ce.prototype.toJSON=function(){var e={type:this.type.name};for(var n in this.attrs){e.attrs=this.attrs;break}return e};Ce.fromJSON=function(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");var r=e.marks[n.type];if(!r)throw new RangeError("There is no mark type "+n.type+" in this schema");return r.create(n.attrs)};Ce.sameSet=function(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(var r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0};Ce.setFrom=function(e){if(!e||e.length==0)return Ce.none;if(e instanceof Ce)return[e];var n=e.slice();return n.sort(function(r,o){return r.type.rank-o.type.rank}),n};Ce.none=[];function Vn(t){var e=Error.call(this,t);return e.__proto__=Vn.prototype,e}Vn.prototype=Object.create(Error.prototype);Vn.prototype.constructor=Vn;Vn.prototype.name="ReplaceError";var q=function(e,n,r){this.content=e,this.openStart=n,this.openEnd=r},bg={size:{configurable:!0}};bg.size.get=function(){return this.content.size-this.openStart-this.openEnd};q.prototype.insertAt=function(e,n){var r=wg(this.content,e+this.openStart,n,null);return r&&new q(r,this.openStart,this.openEnd)};q.prototype.removeBetween=function(e,n){return new q(Sg(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)};q.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd};q.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"};q.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e};q.fromJSON=function(e,n){if(!n)return q.empty;var r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new q(I.fromJSON(e,n.content),r,o)};q.maxOpen=function(e,n){n===void 0&&(n=!0);for(var r=0,o=0,i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(var s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)o++;return new q(e,r,o)};Object.defineProperties(q.prototype,bg);function Sg(t,e,n){var r=t.findIndex(e),o=r.index,i=r.offset,s=t.maybeChild(o),a=t.findIndex(n),l=a.index,c=a.offset;if(i==e||s.isText){if(c!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(o!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(o,s.copy(Sg(s.content,e-i-1,n-i-1)))}function wg(t,e,n,r){var o=t.findIndex(e),i=o.index,s=o.offset,a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));var l=wg(a.content,e-s-1,n);return l&&t.replaceChild(i,a.copy(l))}q.empty=new q(I.empty,0,0);function lM(t,e,n){if(n.openStart>t.depth)throw new Vn("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Vn("Inconsistent open depths");return Cg(t,e,n,0)}function Cg(t,e,n,r){var o=t.index(r),i=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){var s=Cg(t,e,n,r+1);return i.copy(i.content.replaceChild(o,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){var a=t.parent,l=a.content;return So(a,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{var c=cM(n,t),u=c.start,f=c.end;return So(i,Eg(t,u,f,e,r))}else return So(i,Ol(t,e,r))}function kg(t,e){if(!e.type.compatibleContent(t.type))throw new Vn("Cannot join "+e.type.name+" onto "+t.type.name)}function vf(t,e,n){var r=t.node(n);return kg(r,e.node(n)),r}function bo(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Os(t,e,n,r){var o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(bo(t.nodeAfter,r),i++));for(var a=i;a<s;a++)bo(o.child(a),r);e&&e.depth==n&&e.textOffset&&bo(e.nodeBefore,r)}function So(t,e){if(!t.type.validContent(e))throw new Vn("Invalid content for node "+t.type.name);return t.copy(e)}function Eg(t,e,n,r,o){var i=t.depth>o&&vf(t,e,o+1),s=r.depth>o&&vf(n,r,o+1),a=[];return Os(null,t,o,a),i&&s&&e.index(o)==n.index(o)?(kg(i,s),bo(So(i,Eg(t,e,n,r,o+1)),a)):(i&&bo(So(i,Ol(t,e,o+1)),a),Os(e,n,o,a),s&&bo(So(s,Ol(n,r,o+1)),a)),Os(r,null,o,a),new I(a)}function Ol(t,e,n){var r=[];if(Os(null,t,n,r),t.depth>n){var o=vf(t,e,n+1);bo(So(o,Ol(t,e,n+1)),r)}return Os(e,null,n,r),new I(r)}function cM(t,e){for(var n=e.depth-t.openStart,r=e.node(n),o=r.copy(t.content),i=n-1;i>=0;i--)o=e.node(i).copy(I.from(o));return{start:o.resolveNoCache(t.openStart+n),end:o.resolveNoCache(o.content.size-t.openEnd-n)}}var He=function(e,n,r){this.pos=e,this.path=n,this.depth=n.length/3-1,this.parentOffset=r},li={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};He.prototype.resolveDepth=function(e){return e==null?this.depth:e<0?this.depth+e:e};li.parent.get=function(){return this.node(this.depth)};li.doc.get=function(){return this.node(0)};He.prototype.node=function(e){return this.path[this.resolveDepth(e)*3]};He.prototype.index=function(e){return this.path[this.resolveDepth(e)*3+1]};He.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)};He.prototype.start=function(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1};He.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size};He.prototype.before=function(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]};He.prototype.after=function(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize};li.textOffset.get=function(){return this.pos-this.path[this.path.length-1]};li.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r};li.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):t==0?null:this.parent.child(t-1)};He.prototype.posAtIndex=function(e,n){n=this.resolveDepth(n);for(var r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1,i=0;i<e;i++)o+=r.child(i).nodeSize;return o};He.prototype.marks=function(){var e=this.parent,n=this.index();if(e.content.size==0)return Ce.none;if(this.textOffset)return e.child(n).marks;var r=e.maybeChild(n-1),o=e.maybeChild(n);if(!r){var i=r;r=o,o=i}for(var s=r.marks,a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!o||!s[a].isInSet(o.marks))&&(s=s[a--].removeFromSet(s));return s};He.prototype.marksAcross=function(e){var n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;for(var r=n.marks,o=e.parent.maybeChild(e.index()),i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!o||!r[i].isInSet(o.marks))&&(r=r[i--].removeFromSet(r));return r};He.prototype.sharedDepth=function(e){for(var n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0};He.prototype.blockRange=function(e,n){if(e===void 0&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Ms(this,e,r)};He.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset};He.prototype.max=function(e){return e.pos>this.pos?e:this};He.prototype.min=function(e){return e.pos<this.pos?e:this};He.prototype.toString=function(){for(var e="",n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset};He.resolve=function(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");for(var r=[],o=0,i=n,s=e;;){var a=s.content.findIndex(i),l=a.index,c=a.offset,u=i-c;if(r.push(s,l,o+c),!u||(s=s.child(l),s.isText))break;i=u-1,o+=c+1}return new He(n,r,i)};He.resolveCached=function(e,n){for(var r=0;r<gf.length;r++){var o=gf[r];if(o.pos==n&&o.doc==e)return o}var i=gf[yf]=He.resolve(e,n);return yf=(yf+1)%uM,i};Object.defineProperties(He.prototype,li);var gf=[],yf=0,uM=12,Ms=function(e,n,r){this.$from=e,this.$to=n,this.depth=r},ci={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};ci.start.get=function(){return this.$from.before(this.depth+1)};ci.end.get=function(){return this.$to.after(this.depth+1)};ci.parent.get=function(){return this.$from.node(this.depth)};ci.startIndex.get=function(){return this.$from.index(this.depth)};ci.endIndex.get=function(){return this.$to.indexAfter(this.depth)};Object.defineProperties(Ms.prototype,ci);var fM=Object.create(null),Oe=function(e,n,r,o){this.type=e,this.attrs=n,this.content=r||I.empty,this.marks=o||Ce.none},an={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};an.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size};an.childCount.get=function(){return this.content.childCount};Oe.prototype.child=function(e){return this.content.child(e)};Oe.prototype.maybeChild=function(e){return this.content.maybeChild(e)};Oe.prototype.forEach=function(e){this.content.forEach(e)};Oe.prototype.nodesBetween=function(e,n,r,o){o===void 0&&(o=0),this.content.nodesBetween(e,n,r,o,this)};Oe.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)};an.textContent.get=function(){return this.textBetween(0,this.content.size,"")};Oe.prototype.textBetween=function(e,n,r,o){return this.content.textBetween(e,n,r,o)};an.firstChild.get=function(){return this.content.firstChild};an.lastChild.get=function(){return this.content.lastChild};Oe.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)};Oe.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)};Oe.prototype.hasMarkup=function(e,n,r){return this.type==e&&El(this.attrs,n||e.defaultAttrs||fM)&&Ce.sameSet(this.marks,r||Ce.none)};Oe.prototype.copy=function(e){return e===void 0&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)};Oe.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)};Oe.prototype.cut=function(e,n){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))};Oe.prototype.slice=function(e,n,r){if(n===void 0&&(n=this.content.size),r===void 0&&(r=!1),e==n)return q.empty;var o=this.resolve(e),i=this.resolve(n),s=r?0:o.sharedDepth(n),a=o.start(s),l=o.node(s),c=l.content.cut(o.pos-a,i.pos-a);return new q(c,o.depth-s,i.depth-s)};Oe.prototype.replace=function(e,n,r){return lM(this.resolve(e),this.resolve(n),r)};Oe.prototype.nodeAt=function(e){for(var n=this;;){var r=n.content.findIndex(e),o=r.index,i=r.offset;if(n=n.maybeChild(o),!n)return null;if(i==e||n.isText)return n;e-=i+1}};Oe.prototype.childAfter=function(e){var n=this.content.findIndex(e),r=n.index,o=n.offset;return{node:this.content.maybeChild(r),index:r,offset:o}};Oe.prototype.childBefore=function(e){if(e==0)return{node:null,index:0,offset:0};var n=this.content.findIndex(e),r=n.index,o=n.offset;if(o<e)return{node:this.content.child(r),index:r,offset:o};var i=this.content.child(r-1);return{node:i,index:r-1,offset:o-i.nodeSize}};Oe.prototype.resolve=function(e){return He.resolveCached(this,e)};Oe.prototype.resolveNoCache=function(e){return He.resolve(this,e)};Oe.prototype.rangeHasMark=function(e,n,r){var o=!1;return n>e&&this.nodesBetween(e,n,function(i){return r.isInSet(i.marks)&&(o=!0),!o}),o};an.isBlock.get=function(){return this.type.isBlock};an.isTextblock.get=function(){return this.type.isTextblock};an.inlineContent.get=function(){return this.type.inlineContent};an.isInline.get=function(){return this.type.isInline};an.isText.get=function(){return this.type.isText};an.isLeaf.get=function(){return this.type.isLeaf};an.isAtom.get=function(){return this.type.isAtom};Oe.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Og(this.marks,e)};Oe.prototype.contentMatchAt=function(e){var n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n};Oe.prototype.canReplace=function(e,n,r,o,i){r===void 0&&(r=I.empty),o===void 0&&(o=0),i===void 0&&(i=r.childCount);var s=this.contentMatchAt(e).matchFragment(r,o,i),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(var l=o;l<i;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0};Oe.prototype.canReplaceWith=function(e,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;var i=this.contentMatchAt(e).matchType(r),s=i&&i.matchFragment(this.content,n);return s?s.validEnd:!1};Oe.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)};Oe.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var e=Ce.none,n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!Ce.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map(function(r){return r.type.name}));this.content.forEach(function(r){return r.check()})};Oe.prototype.toJSON=function(){var e={type:this.type.name};for(var n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(function(r){return r.toJSON()})),e};Oe.fromJSON=function(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");var r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}var o=I.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,o,r)};Object.defineProperties(Oe.prototype,an);var pM=function(t){function e(r,o,i,s){if(t.call(this,r,o,null,s),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Og(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},e.prototype.textBetween=function(o,i){return this.text.slice(o,i)},n.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(o){return o==this.marks?this:new e(this.type,this.attrs,this.text,o)},e.prototype.withText=function(o){return o==this.text?this:new e(this.type,this.attrs,o,this.marks)},e.prototype.cut=function(o,i){return o===void 0&&(o=0),i===void 0&&(i=this.text.length),o==0&&i==this.text.length?this:this.withText(this.text.slice(o,i))},e.prototype.eq=function(o){return this.sameMarkup(o)&&this.text==o.text},e.prototype.toJSON=function(){var o=t.prototype.toJSON.call(this);return o.text=this.text,o},Object.defineProperties(e.prototype,n),e}(Oe);function Og(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var kt=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},Ml={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};kt.parse=function(e,n){var r=new xl(e,n);if(r.next==null)return kt.empty;var o=xg(r);r.next&&r.err("Unexpected trailing text");var i=bM(yM(o));return SM(i,r),i};kt.prototype.matchType=function(e){for(var n=0;n<this.next.length;n+=2)if(this.next[n]==e)return this.next[n+1];return null};kt.prototype.matchFragment=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=e.childCount);for(var o=this,i=n;o&&i<r;i++)o=o.matchType(e.child(i).type);return o};Ml.inlineContent.get=function(){var t=this.next[0];return t?t.isInline:!1};Ml.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!(e.isText||e.hasRequiredAttrs()))return e}};kt.prototype.compatible=function(e){for(var n=0;n<this.next.length;n+=2)for(var r=0;r<e.next.length;r+=2)if(this.next[n]==e.next[r])return!0;return!1};kt.prototype.fillBefore=function(e,n,r){n===void 0&&(n=!1),r===void 0&&(r=0);var o=[this];function i(s,a){var l=s.matchFragment(e,r);if(l&&(!n||l.validEnd))return I.from(a.map(function(h){return h.createAndFill()}));for(var c=0;c<s.next.length;c+=2){var u=s.next[c],f=s.next[c+1];if(!(u.isText||u.hasRequiredAttrs())&&o.indexOf(f)==-1){o.push(f);var p=i(f,a.concat(u));if(p)return p}}}return i(this,[])};kt.prototype.findWrapping=function(e){for(var n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];var r=this.computeWrapping(e);return this.wrapCache.push(e,r),r};kt.prototype.computeWrapping=function(e){for(var n=Object.create(null),r=[{match:this,type:null,via:null}];r.length;){var o=r.shift(),i=o.match;if(i.matchType(e)){for(var s=[],a=o;a.type;a=a.via)s.push(a.type);return s.reverse()}for(var l=0;l<i.next.length;l+=2){var c=i.next[l];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!o.type||i.next[l+1].validEnd)&&(r.push({match:c.contentMatch,type:c,via:o}),n[c.name]=!0)}}};Ml.edgeCount.get=function(){return this.next.length>>1};kt.prototype.edge=function(e){var n=e<<1;if(n>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[n],next:this.next[n+1]}};kt.prototype.toString=function(){var e=[];function n(r){e.push(r);for(var o=1;o<r.next.length;o+=2)e.indexOf(r.next[o])==-1&&n(r.next[o])}return n(this),e.map(function(r,o){for(var i=o+(r.validEnd?"*":" ")+" ",s=0;s<r.next.length;s+=2)i+=(s?", ":"")+r.next[s].name+"->"+e.indexOf(r.next[s+1]);return i}).join(`
`)};Object.defineProperties(kt.prototype,Ml);kt.empty=new kt(!0);var xl=function(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()},Mg={next:{configurable:!0}};Mg.next.get=function(){return this.tokens[this.pos]};xl.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)};xl.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")};Object.defineProperties(xl.prototype,Mg);function xg(t){var e=[];do e.push(hM(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function hM(t){var e=[];do e.push(dM(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function dM(t){for(var e=gM(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=mM(t,e);else break;return e}function Tg(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function mM(t,e){var n=Tg(t),r=n;return t.eat(",")&&(t.next!="}"?r=Tg(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function vM(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var o=[];for(var i in n){var s=n[i];s.groups.indexOf(e)>-1&&o.push(s)}return o.length==0&&t.err("No node type or group '"+e+"' found"),o}function gM(t){if(t.eat("(")){var e=xg(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{var n=vM(t,t.next).map(function(r){return t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}});return t.pos++,n.length==1?n[0]:{type:"choice",exprs:n}}}function yM(t){var e=[[]];return o(i(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,l){var c={term:l,to:a};return e[s].push(c),c}function o(s,a){s.forEach(function(l){return l.to=a})}function i(s,a){if(s.type=="choice")return s.exprs.reduce(function(b,g){return b.concat(i(g,a))},[]);if(s.type=="seq")for(var l=0;;l++){var c=i(s.exprs[l],a);if(l==s.exprs.length-1)return c;o(c,a=n())}else if(s.type=="star"){var u=n();return r(a,u),o(i(s.expr,u),u),[r(u)]}else if(s.type=="plus"){var f=n();return o(i(s.expr,a),f),o(i(s.expr,f),f),[r(f)]}else{if(s.type=="opt")return[r(a)].concat(i(s.expr,a));if(s.type=="range"){for(var p=a,h=0;h<s.min;h++){var d=n();o(i(s.expr,p),d),p=d}if(s.max==-1)o(i(s.expr,p),p);else for(var y=s.min;y<s.max;y++){var v=n();r(p,v),o(i(s.expr,p),v),p=v}return[r(p)]}else if(s.type=="name")return[r(a,null,s.value)]}}}function Ng(t,e){return e-t}function Ag(t,e){var n=[];return r(e),n.sort(Ng);function r(o){var i=t[o];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(o);for(var s=0;s<i.length;s++){var a=i[s],l=a.term,c=a.to;!l&&n.indexOf(c)==-1&&r(c)}}}function bM(t){var e=Object.create(null);return n(Ag(t,0));function n(r){var o=[];r.forEach(function(l){t[l].forEach(function(c){var u=c.term,f=c.to;if(!!u){var p=o.indexOf(u),h=p>-1&&o[p+1];Ag(t,f).forEach(function(d){h||o.push(u,h=[]),h.indexOf(d)==-1&&h.push(d)})}})});for(var i=e[r.join(",")]=new kt(r.indexOf(t.length-1)>-1),s=0;s<o.length;s+=2){var a=o[s+1].sort(Ng);i.next.push(o[s],e[a.join(",")]||n(a))}return i}}function SM(t,e){for(var n=0,r=[t];n<r.length;n++){for(var o=r[n],i=!o.validEnd,s=[],a=0;a<o.next.length;a+=2){var l=o.next[a],c=o.next[a+1];s.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),r.indexOf(c)==-1&&r.push(c)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Rg(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function _g(t,e){var n=Object.create(null);for(var r in t){var o=e&&e[r];if(o===void 0){var i=t[r];if(i.hasDefault)o=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function Pg(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new Ig(t[n]);return e}var Pt=function(e,n,r){this.name=e,this.schema=n,this.spec=r,this.groups=r.group?r.group.split(" "):[],this.attrs=Pg(r.attrs),this.defaultAttrs=Rg(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"},xs={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};xs.isInline.get=function(){return!this.isBlock};xs.isTextblock.get=function(){return this.isBlock&&this.inlineContent};xs.isLeaf.get=function(){return this.contentMatch==kt.empty};xs.isAtom.get=function(){return this.isLeaf||this.spec.atom};Pt.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1};Pt.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)};Pt.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:_g(this.attrs,e)};Pt.prototype.create=function(e,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Oe(this,this.computeAttrs(e),I.from(n),Ce.setFrom(r))};Pt.prototype.createChecked=function(e,n,r){if(n=I.from(n),!this.validContent(n))throw new RangeError("Invalid content for node "+this.name);return new Oe(this,this.computeAttrs(e),n,Ce.setFrom(r))};Pt.prototype.createAndFill=function(e,n,r){if(e=this.computeAttrs(e),n=I.from(n),n.size){var o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}var i=this.contentMatch.matchFragment(n).fillBefore(I.empty,!0);return i?new Oe(this,e,n.append(i),Ce.setFrom(r)):null};Pt.prototype.validContent=function(e){var n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(var r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0};Pt.prototype.allowsMarkType=function(e){return this.markSet==null||this.markSet.indexOf(e)>-1};Pt.prototype.allowsMarks=function(e){if(this.markSet==null)return!0;for(var n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0};Pt.prototype.allowedMarks=function(e){if(this.markSet==null)return e;for(var n,r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Ce.empty:e};Pt.compile=function(e,n){var r=Object.create(null);e.forEach(function(s,a){return r[s]=new Pt(s,n,a)});var o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(var i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r};Object.defineProperties(Pt.prototype,xs);var Ig=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},Dg={isRequired:{configurable:!0}};Dg.isRequired.get=function(){return!this.hasDefault};Object.defineProperties(Ig.prototype,Dg);var Fr=function(e,n,r,o){this.name=e,this.schema=r,this.spec=o,this.attrs=Pg(o.attrs),this.rank=n,this.excluded=null;var i=Rg(this.attrs);this.instance=i&&new Ce(this,i)};Fr.prototype.create=function(e){return!e&&this.instance?this.instance:new Ce(this,_g(this.attrs,e))};Fr.compile=function(e,n){var r=Object.create(null),o=0;return e.forEach(function(i,s){return r[i]=new Fr(i,o++,n,s)}),r};Fr.prototype.removeFromSet=function(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e};Fr.prototype.isInSet=function(e){for(var n=0;n<e.length;n++)if(e[n].type==this)return e[n]};Fr.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var wo=function(e){this.spec={};for(var n in e)this.spec[n]=e[n];this.spec.nodes=vg.from(e.nodes),this.spec.marks=vg.from(e.marks),this.nodes=Pt.compile(this.spec.nodes,this),this.marks=Fr.compile(this.spec.marks,this);var r=Object.create(null);for(var o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");var i=this.nodes[o],s=i.spec.content||"",a=i.spec.marks;i.contentMatch=r[s]||(r[s]=kt.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet=a=="_"?null:a?Fg(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(var l in this.marks){var c=this.marks[l],u=c.spec.excludes;c.excluded=u==null?[c]:u==""?[]:Fg(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};wo.prototype.node=function(e,n,r,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Pt){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,o)};wo.prototype.text=function(e,n){var r=this.nodes.text;return new pM(r,r.defaultAttrs,e,Ce.setFrom(n))};wo.prototype.mark=function(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)};wo.prototype.nodeFromJSON=function(e){return Oe.fromJSON(this,e)};wo.prototype.markFromJSON=function(e){return Ce.fromJSON(this,e)};wo.prototype.nodeType=function(e){var n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n};function Fg(t,e){for(var n=[],r=0;r<e.length;r++){var o=e[r],i=t.marks[o],s=i;if(i)n.push(i);else for(var a in t.marks){var l=t.marks[a];(o=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}var Nn=function(e,n){var r=this;this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(function(o){o.tag?r.tags.push(o):o.style&&r.styles.push(o)}),this.normalizeLists=!this.tags.some(function(o){if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;var i=e.nodes[o.node];return i.contentMatch.matchType(i)})};Nn.prototype.parse=function(e,n){n===void 0&&(n={});var r=new $e(this,n,!1);return r.addAll(e,null,n.from,n.to),r.finish()};Nn.prototype.parseSlice=function(e,n){n===void 0&&(n={});var r=new $e(this,n,!0);return r.addAll(e,null,n.from,n.to),q.maxOpen(r.finish())};Nn.prototype.matchTag=function(e,n,r){for(var o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){var i=this.tags[o];if(kM(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){var s=i.getAttrs(e);if(s===!1)continue;i.attrs=s}return i}}};Nn.prototype.matchStyle=function(e,n,r,o){for(var i=o?this.styles.indexOf(o)+1:0;i<this.styles.length;i++){var s=this.styles[i];if(!(s.style.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||s.style.length>e.length&&(s.style.charCodeAt(e.length)!=61||s.style.slice(e.length+1)!=n))){if(s.getAttrs){var a=s.getAttrs(n);if(a===!1)continue;s.attrs=a}return s}}};Nn.schemaRules=function(e){var n=[];function r(l){for(var c=l.priority==null?50:l.priority,u=0;u<n.length;u++){var f=n[u],p=f.priority==null?50:f.priority;if(p<c)break}n.splice(u,0,l)}var o=function(l){var c=e.marks[l].spec.parseDOM;c&&c.forEach(function(u){r(u=zg(u)),u.mark=l})};for(var i in e.marks)o(i);var s=function(l){var c=e.nodes[a].spec.parseDOM;c&&c.forEach(function(u){r(u=zg(u)),u.node=a})};for(var a in e.nodes)s();return n};Nn.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new Nn(e,Nn.schemaRules(e)))};var bf={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},wM={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Bg={ol:!0,ul:!0},Sf=1,wf=2,Ts=4;function Lg(t){return(t?Sf:0)|(t==="full"?wf:0)}var lr=function(e,n,r,o,i,s,a){this.type=e,this.attrs=n,this.solid=i,this.match=s||(a&Ts?null:e.contentMatch),this.options=a,this.content=[],this.marks=r,this.activeMarks=Ce.none,this.pendingMarks=o,this.stashMarks=[]};lr.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var n=this.type.contentMatch.fillBefore(I.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{var r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)};lr.prototype.finish=function(e){if(!(this.options&Sf)){var n=this.content[this.content.length-1],r;n&&n.isText&&(r=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-r[0].length)))}var o=I.from(this.content);return!e&&this.match&&(o=o.append(this.match.fillBefore(I.empty,!0))),this.type?this.type.create(this.attrs,o,this.marks):o};lr.prototype.popFromStashMark=function(e){for(var n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]};lr.prototype.applyPending=function(e){for(var n=0,r=this.pendingMarks;n<r.length;n++){var o=r[n];(this.type?this.type.allowsMarkType(o.type):OM(o.type,e))&&!o.isInSet(this.activeMarks)&&(this.activeMarks=o.addToSet(this.activeMarks),this.pendingMarks=o.removeFromSet(this.pendingMarks))}};lr.prototype.inlineContext=function(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!bf.hasOwnProperty(e.parentNode.nodeName.toLowerCase())};var $e=function(e,n,r){this.parser=e,this.options=n,this.isOpen=r;var o=n.topNode,i,s=Lg(n.preserveWhitespace)|(r?Ts:0);o?i=new lr(o.type,o.attrs,Ce.none,Ce.none,!0,n.topMatch||o.type.contentMatch,s):r?i=new lr(null,null,Ce.none,Ce.none,!0,null,s):i=new lr(e.schema.topNodeType,null,Ce.none,Ce.none,!0,null,s),this.nodes=[i],this.open=0,this.find=n.findPositions,this.needsBlock=!1},Cf={top:{configurable:!0},currentPos:{configurable:!0}};Cf.top.get=function(){return this.nodes[this.open]};$e.prototype.addDOM=function(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){var n=e.getAttribute("style"),r=n?this.readStyles(EM(n)):null,o=this.top;if(r!=null)for(var i=0;i<r.length;i++)this.addPendingMark(r[i]);if(this.addElement(e),r!=null)for(var s=0;s<r.length;s++)this.removePendingMark(r[s],o)}};$e.prototype.addTextNode=function(e){var n=e.nodeValue,r=this.top;if(r.options&wf||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&Sf)r.options&wf?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){var o=r.content[r.content.length-1],i=e.previousSibling;(!o||i&&i.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)};$e.prototype.addElement=function(e,n){var r=e.nodeName.toLowerCase(),o;Bg.hasOwnProperty(r)&&this.parser.normalizeLists&&CM(e);var i=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,n));if(i?i.ignore:wM.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(e=i.skip);var s,a=this.top,l=this.needsBlock;if(bf.hasOwnProperty(r))s=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),s&&this.sync(a),this.needsBlock=l}else this.addElementByRule(e,i,i.consuming===!1?o:null)};$e.prototype.leafFallback=function(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))};$e.prototype.ignoreFallback=function(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))};$e.prototype.readStyles=function(e){var n=Ce.none;e:for(var r=0;r<e.length;r+=2)for(var o=null;;){var i=this.parser.matchStyle(e[r],e[r+1],this,o);if(!i)continue e;if(i.ignore)return null;if(n=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(n),i.consuming===!1)o=i;else break}return n};$e.prototype.addElementByRule=function(e,n,r){var o=this,i,s,a,l;n.node?(s=this.parser.schema.nodes[n.node],s.isLeaf?this.insertNode(s.create(n.attrs))||this.leafFallback(e):i=this.enter(s,n.attrs,n.preserveWhitespace)):(a=this.parser.schema.marks[n.mark],l=a.create(n.attrs),this.addPendingMark(l));var c=this.top;if(s&&s.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(function(f){return o.insertNode(f)});else{var u=n.contentElement;typeof u=="string"?u=e.querySelector(u):typeof u=="function"&&(u=u(e)),u||(u=e),this.findAround(e,u,!0),this.addAll(u,i)}i&&(this.sync(c),this.open--),l&&this.removePendingMark(l,c)};$e.prototype.addAll=function(e,n,r,o){for(var i=r||0,s=r?e.childNodes[r]:e.firstChild,a=o==null?null:e.childNodes[o];s!=a;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s),n&&bf.hasOwnProperty(s.nodeName.toLowerCase())&&this.sync(n);this.findAtPoint(e,i)};$e.prototype.findPlace=function(e){for(var n,r,o=this.open;o>=0;o--){var i=this.nodes[o],s=i.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=i,!s.length)||i.solid)break}if(!n)return!1;this.sync(r);for(var a=0;a<n.length;a++)this.enterInner(n[a],null,!1);return!0};$e.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();var r=this.top;r.applyPending(e.type),r.match&&(r.match=r.match.matchType(e.type));for(var o=r.activeMarks,i=0;i<e.marks.length;i++)(!r.type||r.type.allowsMarkType(e.marks[i].type))&&(o=e.marks[i].addToSet(o));return r.content.push(e.mark(o)),!0}return!1};$e.prototype.enter=function(e,n,r){var o=this.findPlace(e.create(n));return o&&this.enterInner(e,n,!0,r),o};$e.prototype.enterInner=function(e,n,r,o){this.closeExtra();var i=this.top;i.applyPending(e),i.match=i.match&&i.match.matchType(e,n);var s=o==null?i.options&~Ts:Lg(o);i.options&Ts&&i.content.length==0&&(s|=Ts),this.nodes.push(new lr(e,n,i.activeMarks,i.pendingMarks,r,null,s)),this.open++};$e.prototype.closeExtra=function(e){var n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}};$e.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)};$e.prototype.sync=function(e){for(var n=this.open;n>=0;n--)if(this.nodes[n]==e){this.open=n;return}};Cf.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t};$e.prototype.findAtPoint=function(e,n){if(this.find)for(var r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)};$e.prototype.findInside=function(e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)};$e.prototype.findAround=function(e,n,r){if(e!=n&&this.find){for(var o=0;o<this.find.length;o++)if(this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)){var i=n.compareDocumentPosition(this.find[o].node);i&(r?2:4)&&(this.find[o].pos=this.currentPos)}}};$e.prototype.findInText=function(e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))};$e.prototype.matchesContext=function(e){var n=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var r=e.split("/"),o=this.options.context,i=!this.isOpen&&(!o||o.parent.type==this.nodes[0].type),s=-(o?o.depth+1:0)+(i?0:1),a=function(l,c){for(;l>=0;l--){var u=r[l];if(u==""){if(l==r.length-1||l==0)continue;for(;c>=s;c--)if(a(l-1,c))return!0;return!1}else{var f=c>0||c==0&&i?n.nodes[c].type:o&&c>=s?o.node(c-s).type:null;if(!f||f.name!=u&&f.groups.indexOf(u)==-1)return!1;c--}}return!0};return a(r.length-1,this.open)};$e.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var n=e.depth;n>=0;n--){var r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(var o in this.parser.schema.nodes){var i=this.parser.schema.nodes[o];if(i.isTextblock&&i.defaultAttrs)return i}};$e.prototype.addPendingMark=function(e){var n=MM(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)};$e.prototype.removePendingMark=function(e,n){for(var r=this.open;r>=0;r--){var o=this.nodes[r],i=o.pendingMarks.lastIndexOf(e);if(i>-1)o.pendingMarks=e.removeFromSet(o.pendingMarks);else{o.activeMarks=e.removeFromSet(o.activeMarks);var s=o.popFromStashMark(e);s&&o.type&&o.type.allowsMarkType(s.type)&&(o.activeMarks=s.addToSet(o.activeMarks))}if(o==n)break}};Object.defineProperties($e.prototype,Cf);function CM(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Bg.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function kM(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function EM(t){for(var e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];n=e.exec(t);)r.push(n[1],n[2].trim());return r}function zg(t){var e={};for(var n in t)e[n]=t[n];return e}function OM(t,e){var n=e.schema.nodes,r=function(s){var a=n[s];if(!!a.allowsMarkType(t)){var l=[],c=function(u){l.push(u);for(var f=0;f<u.edgeCount;f++){var p=u.edge(f),h=p.type,d=p.next;if(h==e||l.indexOf(d)<0&&c(d))return!0}};if(c(a.contentMatch))return{v:!0}}};for(var o in n){var i=r(o);if(i)return i.v}}function MM(t,e){for(var n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}var ft=function(e,n){this.nodes=e||{},this.marks=n||{}};ft.prototype.serializeFragment=function(e,n,r){var o=this;n===void 0&&(n={}),r||(r=kf(n).createDocumentFragment());var i=r,s=null;return e.forEach(function(a){if(s||a.marks.length){s||(s=[]);for(var l=0,c=0;l<s.length&&c<a.marks.length;){var u=a.marks[c];if(!o.marks[u.type.name]){c++;continue}if(!u.eq(s[l])||u.type.spec.spanning===!1)break;l+=2,c++}for(;l<s.length;)i=s.pop(),s.pop();for(;c<a.marks.length;){var f=a.marks[c++],p=o.serializeMark(f,a.isInline,n);p&&(s.push(f,i),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(o.serializeNodeInner(a,n))}),r};ft.prototype.serializeNodeInner=function(e,n){n===void 0&&(n={});var r=ft.renderSpec(kf(n),this.nodes[e.type.name](e)),o=r.dom,i=r.contentDOM;if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");n.onContent?n.onContent(e,i,n):this.serializeFragment(e.content,n,i)}return o};ft.prototype.serializeNode=function(e,n){n===void 0&&(n={});for(var r=this.serializeNodeInner(e,n),o=e.marks.length-1;o>=0;o--){var i=this.serializeMark(e.marks[o],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r};ft.prototype.serializeMark=function(e,n,r){r===void 0&&(r={});var o=this.marks[e.type.name];return o&&ft.renderSpec(kf(r),o(e,n))};ft.renderSpec=function(e,n,r){if(r===void 0&&(r=null),typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;var o=n[0],i=o.indexOf(" ");i>0&&(r=o.slice(0,i),o=o.slice(i+1));var s=null,a=r?e.createElementNS(r,o):e.createElement(o),l=n[1],c=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){c=2;for(var u in l)if(l[u]!=null){var f=u.indexOf(" ");f>0?a.setAttributeNS(u.slice(0,f),u.slice(f+1),l[u]):a.setAttribute(u,l[u])}}for(var p=c;p<n.length;p++){var h=n[p];if(h===0){if(p<n.length-1||p>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{var d=ft.renderSpec(e,h,r),y=d.dom,v=d.contentDOM;if(a.appendChild(y),v){if(s)throw new RangeError("Multiple content holes");s=v}}}return{dom:a,contentDOM:s}};ft.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new ft(this.nodesFromSchema(e),this.marksFromSchema(e)))};ft.nodesFromSchema=function(e){var n=$g(e.nodes);return n.text||(n.text=function(r){return r.text}),n};ft.marksFromSchema=function(e){return $g(e.marks)};function $g(t){var e={};for(var n in t){var r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function kf(t){return t.document||window.document}var Hg=65535,Vg=Math.pow(2,16);function xM(t,e){return t+e*Vg}function jg(t){return t&Hg}function TM(t){return(t-(t&Hg))/Vg}var Ef=function(e,n,r){n===void 0&&(n=!1),r===void 0&&(r=null),this.pos=e,this.deleted=n,this.recover=r},pt=function(e,n){n===void 0&&(n=!1),this.ranges=e,this.inverted=n};pt.prototype.recover=function(e){var n=0,r=jg(e);if(!this.inverted)for(var o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+TM(e)};pt.prototype.mapResult=function(e,n){return n===void 0&&(n=1),this._map(e,n,!1)};pt.prototype.map=function(e,n){return n===void 0&&(n=1),this._map(e,n,!0)};pt.prototype._map=function(e,n,r){for(var o=0,i=this.inverted?2:1,s=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var l=this.ranges[a]-(this.inverted?o:0);if(l>e)break;var c=this.ranges[a+i],u=this.ranges[a+s],f=l+c;if(e<=f){var p=c?e==l?-1:e==f?1:n:n,h=l+o+(p<0?0:u);if(r)return h;var d=e==(n<0?l:f)?null:xM(a/3,e-l);return new Ef(h,n<0?e!=l:e!=f,d)}o+=u-c}return r?e+o:new Ef(e+o)};pt.prototype.touches=function(e,n){for(var r=0,o=jg(n),i=this.inverted?2:1,s=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;var c=this.ranges[a+i],u=l+c;if(e<=u&&a==o*3)return!0;r+=this.ranges[a+s]-c}return!1};pt.prototype.forEach=function(e){for(var n=this.inverted?2:1,r=this.inverted?1:2,o=0,i=0;o<this.ranges.length;o+=3){var s=this.ranges[o],a=s-(this.inverted?i:0),l=s+(this.inverted?0:i),c=this.ranges[o+n],u=this.ranges[o+r];e(a,a+c,l,l+u),i+=u-c}};pt.prototype.invert=function(){return new pt(this.ranges,!this.inverted)};pt.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)};pt.offset=function(e){return e==0?pt.empty:new pt(e<0?[0,-e,0]:[0,0,e])};pt.empty=new pt([]);var Et=function(e,n,r,o){this.maps=e||[],this.from=r||0,this.to=o==null?this.maps.length:o,this.mirror=n};Et.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.maps.length),new Et(this.maps,this.mirror,e,n)};Et.prototype.copy=function(){return new Et(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)};Et.prototype.appendMap=function(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)};Et.prototype.appendMapping=function(e){for(var n=0,r=this.maps.length;n<e.maps.length;n++){var o=e.getMirror(n);this.appendMap(e.maps[n],o!=null&&o<n?r+o:null)}};Et.prototype.getMirror=function(e){if(this.mirror){for(var n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}};Et.prototype.setMirror=function(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)};Et.prototype.appendMappingInverted=function(e){for(var n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){var o=e.getMirror(n);this.appendMap(e.maps[n].invert(),o!=null&&o>n?r-o-1:null)}};Et.prototype.invert=function(){var e=new Et;return e.appendMappingInverted(this),e};Et.prototype.map=function(e,n){if(n===void 0&&(n=1),this.mirror)return this._map(e,n,!0);for(var r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e};Et.prototype.mapResult=function(e,n){return n===void 0&&(n=1),this._map(e,n,!1)};Et.prototype._map=function(e,n,r){for(var o=!1,i=this.from;i<this.to;i++){var s=this.maps[i],a=s.mapResult(e,n);if(a.recover!=null){var l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,e=this.maps[l].recover(a.recover);continue}}a.deleted&&(o=!0),e=a.pos}return r?e:new Ef(e,o)};function ui(t){var e=Error.call(this,t);return e.__proto__=ui.prototype,e}ui.prototype=Object.create(Error.prototype);ui.prototype.constructor=ui;ui.prototype.name="TransformError";var Ge=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Et},Of={before:{configurable:!0},docChanged:{configurable:!0}};Of.before.get=function(){return this.docs.length?this.docs[0]:this.doc};Ge.prototype.step=function(e){var n=this.maybeStep(e);if(n.failed)throw new ui(n.failed);return this};Ge.prototype.maybeStep=function(e){var n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n};Of.docChanged.get=function(){return this.steps.length>0};Ge.prototype.addStep=function(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n};Object.defineProperties(Ge.prototype,Of);function Tl(){throw new Error("Override me")}var Mf=Object.create(null),Ot=function(){};Ot.prototype.apply=function(e){return Tl()};Ot.prototype.getMap=function(){return pt.empty};Ot.prototype.invert=function(e){return Tl()};Ot.prototype.map=function(e){return Tl()};Ot.prototype.merge=function(e){return null};Ot.prototype.toJSON=function(){return Tl()};Ot.fromJSON=function(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");var r=Mf[n.stepType];if(!r)throw new RangeError("No step type "+n.stepType+" defined");return r.fromJSON(e,n)};Ot.jsonID=function(e,n){if(e in Mf)throw new RangeError("Duplicate use of step JSON ID "+e);return Mf[e]=n,n.prototype.jsonID=e,n};var It=function(e,n){this.doc=e,this.failed=n};It.ok=function(e){return new It(e,null)};It.fail=function(e){return new It(null,e)};It.fromReplace=function(e,n,r,o){try{return It.ok(e.replace(n,r,o))}catch(i){if(i instanceof Vn)return It.fail(i.message);throw i}};var cr=function(t){function e(n,r,o,i){t.call(this),this.from=n,this.to=r,this.slice=o,this.structure=!!i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(r){return this.structure&&xf(r,this.from,this.to)?It.fail("Structure replace would overwrite content"):It.fromReplace(r,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new pt([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(r){return new e(this.from,this.from+this.slice.size,r.slice(this.from,this.to))},e.prototype.map=function(r){var o=r.mapResult(this.from,1),i=r.mapResult(this.to,-1);return o.deleted&&i.deleted?null:new e(o.pos,Math.max(o.pos,i.pos),this.slice)},e.prototype.merge=function(r){if(!(r instanceof e)||r.structure||this.structure)return null;if(this.from+this.slice.size==r.from&&!this.slice.openEnd&&!r.slice.openStart){var o=this.slice.size+r.slice.size==0?q.empty:new q(this.slice.content.append(r.slice.content),this.slice.openStart,r.slice.openEnd);return new e(this.from,this.to+(r.to-r.from),o,this.structure)}else if(r.to==this.from&&!this.slice.openStart&&!r.slice.openEnd){var i=this.slice.size+r.slice.size==0?q.empty:new q(r.slice.content.append(this.slice.content),r.slice.openStart,this.slice.openEnd);return new e(r.from,this.to,i,this.structure)}else return null},e.prototype.toJSON=function(){var r={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(r.slice=this.slice.toJSON()),this.structure&&(r.structure=!0),r},e.fromJSON=function(r,o){if(typeof o.from!="number"||typeof o.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(o.from,o.to,q.fromJSON(r,o.slice),!!o.structure)},e}(Ot);Ot.jsonID("replace",cr);var Kt=function(t){function e(n,r,o,i,s,a,l){t.call(this),this.from=n,this.to=r,this.gapFrom=o,this.gapTo=i,this.slice=s,this.insert=a,this.structure=!!l}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(r){if(this.structure&&(xf(r,this.from,this.gapFrom)||xf(r,this.gapTo,this.to)))return It.fail("Structure gap-replace would overwrite content");var o=r.slice(this.gapFrom,this.gapTo);if(o.openStart||o.openEnd)return It.fail("Gap is not a flat range");var i=this.slice.insertAt(this.insert,o.content);return i?It.fromReplace(r,this.from,this.to,i):It.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new pt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(r){var o=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+o,this.from+this.insert,this.from+this.insert+o,r.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(r){var o=r.mapResult(this.from,1),i=r.mapResult(this.to,-1),s=r.map(this.gapFrom,-1),a=r.map(this.gapTo,1);return o.deleted&&i.deleted||s<o.pos||a>i.pos?null:new e(o.pos,i.pos,s,a,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var r={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(r.slice=this.slice.toJSON()),this.structure&&(r.structure=!0),r},e.fromJSON=function(r,o){if(typeof o.from!="number"||typeof o.to!="number"||typeof o.gapFrom!="number"||typeof o.gapTo!="number"||typeof o.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(o.from,o.to,o.gapFrom,o.gapTo,q.fromJSON(r,o.slice),o.insert,!!o.structure)},e}(Ot);Ot.jsonID("replaceAround",Kt);function xf(t,e,n){for(var r=t.resolve(e),o=n-e,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var s=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}return!1}function NM(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function fi(t){for(var e=t.parent,n=e.content.cutByIndex(t.startIndex,t.endIndex),r=t.depth;;--r){var o=t.$from.node(r),i=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&o.canReplace(i,s,n))return r;if(r==0||o.type.spec.isolating||!NM(o,i,s))break}}Ge.prototype.lift=function(t,e){for(var n=t.$from,r=t.$to,o=t.depth,i=n.before(o+1),s=r.after(o+1),a=i,l=s,c=I.empty,u=0,f=o,p=!1;f>e;f--)p||n.index(f)>0?(p=!0,c=I.from(n.node(f).copy(c)),u++):a--;for(var h=I.empty,d=0,y=o,v=!1;y>e;y--)v||r.after(y+1)<r.end(y)?(v=!0,h=I.from(r.node(y).copy(h)),d++):l++;return this.step(new Kt(a,l,i,s,new q(c.append(h),u,d),c.size-u,!0))};function Tf(t,e,n,r){r===void 0&&(r=t);var o=AM(t,e),i=o&&RM(r,e);return i?o.map(Wg).concat({type:e,attrs:n}).concat(i.map(Wg)):null}function Wg(t){return{type:t,attrs:null}}function AM(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;var s=i.length?i[0]:e;return n.canReplaceWith(r,o,s)?i:null}function RM(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.child(r),s=e.contentMatch.findWrapping(i.type);if(!s)return null;for(var a=s.length?s[s.length-1]:e,l=a.contentMatch,c=r;l&&c<o;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:s}Ge.prototype.wrap=function(t,e){for(var n=I.empty,r=e.length-1;r>=0;r--)n=I.from(e[r].type.create(e[r].attrs,n));var o=t.start,i=t.end;return this.step(new Kt(o,i,o,i,new q(n,0,0),e.length,!0))};Ge.prototype.setBlockType=function(t,e,n,r){var o=this;if(e===void 0&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=this.steps.length;return this.doc.nodesBetween(t,e,function(s,a){if(s.isTextblock&&!s.hasMarkup(n,r)&&_M(o.doc,o.mapping.slice(i).map(a),n)){o.clearIncompatible(o.mapping.slice(i).map(a,1),n);var l=o.mapping.slice(i),c=l.map(a,1),u=l.map(a+s.nodeSize,1);return o.step(new Kt(c,u,c+1,u-1,new q(I.from(n.create(r,null,s.marks)),0,0),1,!0)),!1}}),this};function _M(t,e,n){var r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}Ge.prototype.setNodeMarkup=function(t,e,n,r){var o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var i=e.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(t,t+o.nodeSize,i);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new Kt(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new q(I.from(i),0,0),1,!0))};function ur(t,e,n,r){n===void 0&&(n=1);var o=t.resolve(e),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var a=o.depth-1,l=n-2;a>i;a--,l--){var c=o.node(a),u=o.index(a);if(c.type.spec.isolating)return!1;var f=c.content.cutByIndex(u,c.childCount),p=r&&r[l]||c;if(p!=c&&(f=f.replaceChild(0,p.type.create(p.attrs))),!c.canReplace(u+1,c.childCount)||!p.type.validContent(f))return!1}var h=o.indexAfter(i),d=r&&r[0];return o.node(i).canReplaceWith(h,h,d?d.type:o.node(i+1).type)}Ge.prototype.split=function(t,e,n){e===void 0&&(e=1);for(var r=this.doc.resolve(t),o=I.empty,i=I.empty,s=r.depth,a=r.depth-e,l=e-1;s>a;s--,l--){o=I.from(r.node(s).copy(o));var c=n&&n[l];i=I.from(c?c.type.create(c.attrs,i):r.node(s).copy(i))}return this.step(new cr(t,t,new q(o.append(i),e,e),!0))};function Ns(t,e){var n=t.resolve(e),r=n.index();return PM(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function PM(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e)}Ge.prototype.join=function(t,e){e===void 0&&(e=1);var n=new cr(t-e,t+e,q.empty,!0);return this.step(n)};function IM(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}function Jg(t,e,n){var r=t.resolve(e);if(!n.content.size)return e;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(var a=r.depth;a>=0;a--){var l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,c=r.index(a)+(l>0?1:0),u=r.node(a),f=!1;if(s==1)f=u.canReplace(c,c,o);else{var p=u.contentMatchAt(c).findWrapping(o.firstChild.type);f=p&&u.canReplaceWith(c,c,p[0])}if(f)return l==0?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}function Nf(t,e,n){for(var r=[],o=0;o<t.childCount;o++){var i=t.child(o);i.content.size&&(i=i.copy(Nf(i.content,e,i))),i.isInline&&(i=e(i,n,o)),r.push(i)}return I.fromArray(r)}var Af=function(t){function e(n,r,o){t.call(this),this.from=n,this.to=r,this.mark=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(r){var o=this,i=r.slice(this.from,this.to),s=r.resolve(this.from),a=s.node(s.sharedDepth(this.to)),l=new q(Nf(i.content,function(c,u){return!c.isAtom||!u.type.allowsMarkType(o.mark.type)?c:c.mark(o.mark.addToSet(c.marks))},a),i.openStart,i.openEnd);return It.fromReplace(r,this.from,this.to,l)},e.prototype.invert=function(){return new As(this.from,this.to,this.mark)},e.prototype.map=function(r){var o=r.mapResult(this.from,1),i=r.mapResult(this.to,-1);return o.deleted&&i.deleted||o.pos>=i.pos?null:new e(o.pos,i.pos,this.mark)},e.prototype.merge=function(r){if(r instanceof e&&r.mark.eq(this.mark)&&this.from<=r.to&&this.to>=r.from)return new e(Math.min(this.from,r.from),Math.max(this.to,r.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(r,o){if(typeof o.from!="number"||typeof o.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(o.from,o.to,r.markFromJSON(o.mark))},e}(Ot);Ot.jsonID("addMark",Af);var As=function(t){function e(n,r,o){t.call(this),this.from=n,this.to=r,this.mark=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(r){var o=this,i=r.slice(this.from,this.to),s=new q(Nf(i.content,function(a){return a.mark(o.mark.removeFromSet(a.marks))}),i.openStart,i.openEnd);return It.fromReplace(r,this.from,this.to,s)},e.prototype.invert=function(){return new Af(this.from,this.to,this.mark)},e.prototype.map=function(r){var o=r.mapResult(this.from,1),i=r.mapResult(this.to,-1);return o.deleted&&i.deleted||o.pos>=i.pos?null:new e(o.pos,i.pos,this.mark)},e.prototype.merge=function(r){if(r instanceof e&&r.mark.eq(this.mark)&&this.from<=r.to&&this.to>=r.from)return new e(Math.min(this.from,r.from),Math.max(this.to,r.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(r,o){if(typeof o.from!="number"||typeof o.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(o.from,o.to,r.markFromJSON(o.mark))},e}(Ot);Ot.jsonID("removeMark",As);Ge.prototype.addMark=function(t,e,n){var r=this,o=[],i=[],s=null,a=null;return this.doc.nodesBetween(t,e,function(l,c,u){if(!!l.isInline){var f=l.marks;if(!n.isInSet(f)&&u.type.allowsMarkType(n.type)){for(var p=Math.max(c,t),h=Math.min(c+l.nodeSize,e),d=n.addToSet(f),y=0;y<f.length;y++)f[y].isInSet(d)||(s&&s.to==p&&s.mark.eq(f[y])?s.to=h:o.push(s=new As(p,h,f[y])));a&&a.to==p?a.to=h:i.push(a=new Af(p,h,n))}}}),o.forEach(function(l){return r.step(l)}),i.forEach(function(l){return r.step(l)}),this};Ge.prototype.removeMark=function(t,e,n){var r=this;n===void 0&&(n=null);var o=[],i=0;return this.doc.nodesBetween(t,e,function(s,a){if(!!s.isInline){i++;var l=null;if(n instanceof Fr)for(var c=s.marks,u;u=n.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c);else n?n.isInSet(s.marks)&&(l=[n]):l=s.marks;if(l&&l.length)for(var f=Math.min(a+s.nodeSize,e),p=0;p<l.length;p++){for(var h=l[p],d=void 0,y=0;y<o.length;y++){var v=o[y];v.step==i-1&&h.eq(o[y].style)&&(d=v)}d?(d.to=f,d.step=i):o.push({style:h,from:Math.max(a,t),to:f,step:i})}}}),o.forEach(function(s){return r.step(new As(s.from,s.to,s.style))}),this};Ge.prototype.clearIncompatible=function(t,e,n){n===void 0&&(n=e.contentMatch);for(var r=this.doc.nodeAt(t),o=[],i=t+1,s=0;s<r.childCount;s++){var a=r.child(s),l=i+a.nodeSize,c=n.matchType(a.type,a.attrs);if(!c)o.push(new cr(i,l,q.empty));else{n=c;for(var u=0;u<a.marks.length;u++)e.allowsMarkType(a.marks[u].type)||this.step(new As(i,l,a.marks[u]))}i=l}if(!n.validEnd){var f=n.fillBefore(I.empty,!0);this.replace(i,i,new q(f,0,0))}for(var p=o.length-1;p>=0;p--)this.step(o[p]);return this};function DM(t,e,n,r){if(n===void 0&&(n=e),r===void 0&&(r=q.empty),e==n&&!r.size)return null;var o=t.resolve(e),i=t.resolve(n);return Kg(o,i,r)?new cr(e,n,r):new Sn(o,i,r).fit()}Ge.prototype.replace=function(t,e,n){e===void 0&&(e=t),n===void 0&&(n=q.empty);var r=DM(this.doc,t,e,n);return r&&this.step(r),this};Ge.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new q(I.from(n),0,0))};Ge.prototype.delete=function(t,e){return this.replace(t,e,q.empty)};Ge.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};function Kg(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}var Sn=function(e,n,r){this.$to=n,this.$from=e,this.unplaced=r,this.frontier=[];for(var o=0;o<=e.depth;o++){var i=e.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(o))})}this.placed=I.empty;for(var s=e.depth;s>0;s--)this.placed=I.from(e.node(s).copy(this.placed))},Ug={depth:{configurable:!0}};Ug.depth.get=function(){return this.frontier.length-1};Sn.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var n=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,o=this.$from,i=this.close(n<0?this.$to:o.doc.resolve(n));if(!i)return null;for(var s=this.placed,a=o.depth,l=i.depth;a&&l&&s.childCount==1;)s=s.firstChild.content,a--,l--;var c=new q(s,a,l);if(n>-1)return new Kt(o.pos,n,this.$to.pos,this.$to.end(),c,r);if(c.size||o.pos!=this.$to.pos)return new cr(o.pos,i.pos,c)};Sn.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var n=this.unplaced.openStart;n>=0;n--){var r=void 0,o=void 0;n?(o=Rf(this.unplaced.content,n-1).firstChild,r=o.content):r=this.unplaced.content;for(var i=r.firstChild,s=this.depth;s>=0;s--){var a=this.frontier[s],l=a.type,c=a.match,u=void 0,f=void 0;if(e==1&&(i?c.matchType(i.type)||(f=c.fillBefore(I.from(i),!1)):l.compatibleContent(o.type)))return{sliceDepth:n,frontierDepth:s,parent:o,inject:f};if(e==2&&i&&(u=c.findWrapping(i.type)))return{sliceDepth:n,frontierDepth:s,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}};Sn.prototype.openMore=function(){var e=this.unplaced,n=e.content,r=e.openStart,o=e.openEnd,i=Rf(n,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new q(n,r+1,Math.max(o,i.size+r>=n.size-o?r+1:0)),!0)};Sn.prototype.dropNode=function(){var e=this.unplaced,n=e.content,r=e.openStart,o=e.openEnd,i=Rf(n,r);if(i.childCount<=1&&r>0){var s=n.size-r<=r+i.size;this.unplaced=new q(Rs(n,r-1,1),r-1,s?r-1:o)}else this.unplaced=new q(Rs(n,r,1),r,o)};Sn.prototype.placeNodes=function(e){for(var n=e.sliceDepth,r=e.frontierDepth,o=e.parent,i=e.inject,s=e.wrap;this.depth>r;)this.closeFrontierNode();if(s)for(var a=0;a<s.length;a++)this.openFrontierNode(s[a]);var l=this.unplaced,c=o?o.content:l.content,u=l.openStart-n,f=0,p=[],h=this.frontier[r],d=h.match,y=h.type;if(i){for(var v=0;v<i.childCount;v++)p.push(i.child(v));d=d.matchFragment(i)}for(var b=c.size+n-(l.content.size-l.openEnd);f<c.childCount;){var g=c.child(f),S=d.matchType(g.type);if(!S)break;f++,(f>1||u==0||g.content.size)&&(d=S,p.push(qg(g.mark(y.allowedMarks(g.marks)),f==1?u:0,f==c.childCount?b:-1)))}var m=f==c.childCount;m||(b=-1),this.placed=_s(this.placed,r,I.from(p)),this.frontier[r].match=d,m&&b<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var O=0,C=c;O<b;O++){var k=C.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),C=k.content}this.unplaced=m?n==0?q.empty:new q(Rs(l.content,n-1,1),n-1,b<0?l.openEnd:n-1):new q(Rs(l.content,n,f),l.openStart,l.openEnd)};Sn.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e=this.frontier[this.depth],n;if(!e.type.isTextblock||!_f(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;for(var r=this.$to,o=r.depth,i=this.$to.after(o);o>1&&i==this.$to.end(--o);)++i;return i};Sn.prototype.findCloseLevel=function(e){e:for(var n=Math.min(this.depth,e.depth);n>=0;n--){var r=this.frontier[n],o=r.match,i=r.type,s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=_f(e,n,i,o,s);if(!!a){for(var l=n-1;l>=0;l--){var c=this.frontier[l],u=c.match,f=c.type,p=_f(e,l,f,u,!0);if(!p||p.childCount)continue e}return{depth:n,fit:a,move:s?e.doc.resolve(e.after(n+1)):e}}}};Sn.prototype.close=function(e){var n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=_s(this.placed,n.depth,n.fit)),e=n.move;for(var r=n.depth+1;r<=e.depth;r++){var o=e.node(r),i=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,i)}return e};Sn.prototype.openFrontierNode=function(e,n,r){var o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=_s(this.placed,this.depth,I.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})};Sn.prototype.closeFrontierNode=function(){var e=this.frontier.pop(),n=e.match.fillBefore(I.empty,!0);n.childCount&&(this.placed=_s(this.placed,this.frontier.length,n))};Object.defineProperties(Sn.prototype,Ug);function Rs(t,e,n){return e==0?t.cutByIndex(n):t.replaceChild(0,t.firstChild.copy(Rs(t.firstChild.content,e-1,n)))}function _s(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(_s(t.lastChild.content,e-1,n)))}function Rf(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function qg(t,e,n){if(e<=0)return t;var r=t.content;return e>1&&(r=r.replaceChild(0,qg(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(I.empty,!0)))),t.copy(r)}function _f(t,e,n,r,o){var i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;var a=r.fillBefore(i.content,!0,s);return a&&!FM(n,i.content,s)?a:null}function FM(t,e,n){for(var r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}Ge.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var r=this.doc.resolve(t),o=this.doc.resolve(e);if(Kg(r,o,n))return this.step(new cr(t,e,n));var i=Yg(r,this.doc.resolve(e));i[i.length-1]==0&&i.pop();var s=-(r.depth+1);i.unshift(s);for(var a=r.depth,l=r.pos-1;a>0;a--,l--){var c=r.node(a).type.spec;if(c.defining||c.isolating)break;i.indexOf(a)>-1?s=a:r.before(a)==l&&i.splice(1,0,-a)}for(var u=i.indexOf(s),f=[],p=n.openStart,h=n.content,d=0;;d++){var y=h.firstChild;if(f.push(y),d==n.openStart)break;h=y.content}p>0&&f[p-1].type.spec.defining&&r.node(u).type!=f[p-1].type?p-=1:p>=2&&f[p-1].isTextblock&&f[p-2].type.spec.defining&&r.node(u).type!=f[p-2].type&&(p-=2);for(var v=n.openStart;v>=0;v--){var b=(v+p+1)%(n.openStart+1),g=f[b];if(!!g)for(var S=0;S<i.length;S++){var m=i[(S+u)%i.length],O=!0;m<0&&(O=!1,m=-m);var C=r.node(m-1),k=r.index(m-1);if(C.canReplaceWith(k,k,g.type,g.marks))return this.replace(r.before(m),O?o.after(m):e,new q(Gg(n.content,0,n.openStart,b),b,n.openEnd))}}for(var M=this.steps.length,T=i.length-1;T>=0&&(this.replace(t,e,n),!(this.steps.length>M));T--){var R=i[T];R<0||(t=r.before(R),e=o.after(R))}return this};function Gg(t,e,n,r,o){if(e<n){var i=t.firstChild;t=t.replaceChild(0,i.copy(Gg(i.content,e+1,n,r,i)))}if(e>r){var s=o.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(I.empty,!0))}return t}Ge.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var r=IM(this.doc,t,n.type);r!=null&&(t=e=r)}return this.replaceRange(t,e,new q(I.from(n),0,0))};Ge.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),r=this.doc.resolve(e),o=Yg(n,r),i=0;i<o.length;i++){var s=o[i],a=i==o.length-1;if(a&&s==0||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var l=1;l<=n.depth&&l<=r.depth;l++)if(t-n.start(l)==n.depth-l&&e>n.end(l)&&r.end(l)-e!=r.depth-l)return this.delete(n.before(l),e);return this.delete(t,e)};function Yg(t,e){for(var n=[],r=Math.min(t.depth,e.depth),o=r;o>=0;o--){var i=t.start(o);if(i<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(i==e.start(o)||o==t.depth&&o==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==i-1)&&n.push(o)}return n}var Pf=Object.create(null),de=function(e,n,r){this.ranges=r||[new BM(e.min(n),e.max(n))],this.$anchor=e,this.$head=n},Br={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};Br.anchor.get=function(){return this.$anchor.pos};Br.head.get=function(){return this.$head.pos};Br.from.get=function(){return this.$from.pos};Br.to.get=function(){return this.$to.pos};Br.$from.get=function(){return this.ranges[0].$from};Br.$to.get=function(){return this.ranges[0].$to};Br.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0};de.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)};de.prototype.replace=function(e,n){n===void 0&&(n=q.empty);for(var r=n.content.lastChild,o=null,i=0;i<n.openEnd;i++)o=r,r=r.lastChild;for(var s=e.steps.length,a=this.ranges,l=0;l<a.length;l++){var c=a[l],u=c.$from,f=c.$to,p=e.mapping.slice(s);e.replaceRange(p.map(u.pos),p.map(f.pos),l?q.empty:n),l==0&&Xg(e,s,(r?r.isInline:o&&o.isTextblock)?-1:1)}};de.prototype.replaceWith=function(e,n){for(var r=e.steps.length,o=this.ranges,i=0;i<o.length;i++){var s=o[i],a=s.$from,l=s.$to,c=e.mapping.slice(r),u=c.map(a.pos),f=c.map(l.pos);i?e.deleteRange(u,f):(e.replaceRangeWith(u,f,n),Xg(e,r,n.isInline?-1:1))}};de.findFrom=function(e,n,r){var o=e.parent.inlineContent?new xe(e):pi(e.node(0),e.parent,e.pos,e.index(),n,r);if(o)return o;for(var i=e.depth-1;i>=0;i--){var s=n<0?pi(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):pi(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(s)return s}};de.near=function(e,n){return n===void 0&&(n=1),this.findFrom(e,n)||this.findFrom(e,-n)||new fr(e.node(0))};de.atStart=function(e){return pi(e,e,0,0,1)||new fr(e)};de.atEnd=function(e){return pi(e,e,e.content.size,e.childCount,-1)||new fr(e)};de.fromJSON=function(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");var r=Pf[n.type];if(!r)throw new RangeError("No selection type "+n.type+" defined");return r.fromJSON(e,n)};de.jsonID=function(e,n){if(e in Pf)throw new RangeError("Duplicate use of selection JSON ID "+e);return Pf[e]=n,n.prototype.jsonID=e,n};de.prototype.getBookmark=function(){return xe.between(this.$anchor,this.$head).getBookmark()};Object.defineProperties(de.prototype,Br);de.prototype.visible=!0;var BM=function(e,n){this.$from=e,this.$to=n},xe=function(t){function e(r,o){o===void 0&&(o=r),t.call(this,r,o)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(o,i){var s=o.resolve(i.map(this.head));if(!s.parent.inlineContent)return t.near(s);var a=o.resolve(i.map(this.anchor));return new e(a.parent.inlineContent?a:s,s)},e.prototype.replace=function(o,i){if(i===void 0&&(i=q.empty),t.prototype.replace.call(this,o,i),i==q.empty){var s=this.$from.marksAcross(this.$to);s&&o.ensureMarks(s)}},e.prototype.eq=function(o){return o instanceof e&&o.anchor==this.anchor&&o.head==this.head},e.prototype.getBookmark=function(){return new Ps(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(o,i){if(typeof i.anchor!="number"||typeof i.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(o.resolve(i.anchor),o.resolve(i.head))},e.create=function(o,i,s){s===void 0&&(s=i);var a=o.resolve(i);return new this(a,s==i?a:o.resolve(s))},e.between=function(o,i,s){var a=o.pos-i.pos;if((!s||a)&&(s=a>=0?1:-1),!i.parent.inlineContent){var l=t.findFrom(i,s,!0)||t.findFrom(i,-s,!0);if(l)i=l.$head;else return t.near(i,s)}return o.parent.inlineContent||(a==0?o=i:(o=(t.findFrom(o,-s,!0)||t.findFrom(o,s,!0)).$anchor,o.pos<i.pos!=a<0&&(o=i))),new e(o,i)},Object.defineProperties(e.prototype,n),e}(de);de.jsonID("text",xe);var Ps=function(e,n){this.anchor=e,this.head=n};Ps.prototype.map=function(e){return new Ps(e.map(this.anchor),e.map(this.head))};Ps.prototype.resolve=function(e){return xe.between(e.resolve(this.anchor),e.resolve(this.head))};var me=function(t){function e(n){var r=n.nodeAfter,o=n.node(0).resolve(n.pos+r.nodeSize);t.call(this,n,o),this.node=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(r,o){var i=o.mapResult(this.anchor),s=i.deleted,a=i.pos,l=r.resolve(a);return s?t.near(l):new e(l)},e.prototype.content=function(){return new q(I.from(this.node),0,0)},e.prototype.eq=function(r){return r instanceof e&&r.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new Nl(this.anchor)},e.fromJSON=function(r,o){if(typeof o.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(r.resolve(o.anchor))},e.create=function(r,o){return new this(r.resolve(o))},e.isSelectable=function(r){return!r.isText&&r.type.spec.selectable!==!1},e}(de);me.prototype.visible=!1;de.jsonID("node",me);var Nl=function(e){this.anchor=e};Nl.prototype.map=function(e){var n=e.mapResult(this.anchor),r=n.deleted,o=n.pos;return r?new Ps(o,o):new Nl(o)};Nl.prototype.resolve=function(e){var n=e.resolve(this.anchor),r=n.nodeAfter;return r&&me.isSelectable(r)?new me(n):de.near(n)};var fr=function(t){function e(n){t.call(this,n.resolve(0),n.resolve(n.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replace=function(r,o){if(o===void 0&&(o=q.empty),o==q.empty){r.delete(0,r.doc.content.size);var i=t.atStart(r.doc);i.eq(r.selection)||r.setSelection(i)}else t.prototype.replace.call(this,r,o)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(r){return new e(r)},e.prototype.map=function(r){return new e(r)},e.prototype.eq=function(r){return r instanceof e},e.prototype.getBookmark=function(){return LM},e}(de);de.jsonID("all",fr);var LM={map:function(){return this},resolve:function(e){return new fr(e)}};function pi(t,e,n,r,o,i){if(e.inlineContent)return xe.create(t,n);for(var s=r-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){var a=e.child(s);if(a.isAtom){if(!i&&me.isSelectable(a))return me.create(t,n-(o<0?a.nodeSize:0))}else{var l=pi(t,a,n+o,o<0?a.childCount:0,o,i);if(l)return l}n+=a.nodeSize*o}}function Xg(t,e,n){var r=t.steps.length-1;if(!(r<e)){var o=t.steps[r];if(o instanceof cr||o instanceof Kt){var i=t.mapping.maps[r],s;i.forEach(function(a,l,c,u){s==null&&(s=u)}),t.setSelection(de.near(t.doc.resolve(s),n))}}}var Qg=1,Al=2,Zg=4,zM=function(t){function e(r){t.call(this,r.doc),this.time=Date.now(),this.curSelection=r.selection,this.curSelectionFor=0,this.storedMarks=r.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(o){if(o.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=o,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Qg)&~Al,this.storedMarks=null,this},n.selectionSet.get=function(){return(this.updated&Qg)>0},e.prototype.setStoredMarks=function(o){return this.storedMarks=o,this.updated|=Al,this},e.prototype.ensureMarks=function(o){return Ce.sameSet(this.storedMarks||this.selection.$from.marks(),o)||this.setStoredMarks(o),this},e.prototype.addStoredMark=function(o){return this.ensureMarks(o.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(o){return this.ensureMarks(o.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(this.updated&Al)>0},e.prototype.addStep=function(o,i){t.prototype.addStep.call(this,o,i),this.updated=this.updated&~Al,this.storedMarks=null},e.prototype.setTime=function(o){return this.time=o,this},e.prototype.replaceSelection=function(o){return this.selection.replace(this,o),this},e.prototype.replaceSelectionWith=function(o,i){var s=this.selection;return i!==!1&&(o=o.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||Ce.none))),s.replaceWith(this,o),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(o,i,s){s===void 0&&(s=i);var a=this.doc.type.schema;if(i==null)return o?this.replaceSelectionWith(a.text(o),!0):this.deleteSelection();if(!o)return this.deleteRange(i,s);var l=this.storedMarks;if(!l){var c=this.doc.resolve(i);l=s==i?c.marks():c.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(i,s,a.text(o,l)),this.selection.empty||this.setSelection(de.near(this.selection.$to)),this},e.prototype.setMeta=function(o,i){return this.meta[typeof o=="string"?o:o.key]=i,this},e.prototype.getMeta=function(o){return this.meta[typeof o=="string"?o:o.key]},n.isGeneric.get=function(){for(var r in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=Zg,this},n.scrolledIntoView.get=function(){return(this.updated&Zg)>0},Object.defineProperties(e.prototype,n),e}(Ge);function ey(t,e){return!e||!t?t:t.bind(e)}var Is=function(e,n,r){this.name=e,this.init=ey(n.init,r),this.apply=ey(n.apply,r)},$M=[new Is("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new Is("selection",{init:function(e,n){return e.selection||de.atStart(n.doc)},apply:function(e){return e.selection}}),new Is("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,n,r,o){return o.selection.$cursor?e.storedMarks:null}}),new Is("scrollToSelection",{init:function(){return 0},apply:function(e,n){return e.scrolledIntoView?n+1:n}})],If=function(e,n){var r=this;this.schema=e,this.fields=$M.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),n&&n.forEach(function(o){if(r.pluginsByKey[o.key])throw new RangeError("Adding different instances of a keyed plugin ("+o.key+")");r.plugins.push(o),r.pluginsByKey[o.key]=o,o.spec.state&&r.fields.push(new Is(o.key,o.spec.state,o))})},Mt=function(e){this.config=e},Rl={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};Rl.schema.get=function(){return this.config.schema};Rl.plugins.get=function(){return this.config.plugins};Mt.prototype.apply=function(e){return this.applyTransaction(e).state};Mt.prototype.filterTransaction=function(e,n){n===void 0&&(n=-1);for(var r=0;r<this.config.plugins.length;r++)if(r!=n){var o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0};Mt.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var n=[e],r=this.applyInner(e),o=null;;){for(var i=!1,s=0;s<this.config.plugins.length;s++){var a=this.config.plugins[s];if(a.spec.appendTransaction){var l=o?o[s].n:0,c=o?o[s].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",e),!o){o=[];for(var f=0;f<this.config.plugins.length;f++)o.push(f<s?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),i=!0}o&&(o[s]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}};Mt.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var n=new Mt(this.config),r=this.config.fields,o=0;o<r.length;o++){var i=r[o];n[i.name]=i.apply(e,this[i.name],this,n)}for(var s=0;s<Ds.length;s++)Ds[s](this,e,n);return n};Rl.tr.get=function(){return new zM(this)};Mt.create=function(e){for(var n=new If(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Mt(n),o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(e,r);return r};Mt.prototype.reconfigure=function(e){for(var n=new If(this.schema,e.plugins),r=n.fields,o=new Mt(n),i=0;i<r.length;i++){var s=r[i].name;o[s]=this.hasOwnProperty(s)?this[s]:r[i].init(e,o)}return o};Mt.prototype.toJSON=function(e){var n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(function(s){return s.toJSON()})),e&&typeof e=="object")for(var r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");var o=e[r],i=o.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(o,this[o.key]))}return n};Mt.fromJSON=function(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var o=new If(e.schema,e.plugins),i=new Mt(o);return o.fields.forEach(function(s){if(s.name=="doc")i.doc=Oe.fromJSON(e.schema,n.doc);else if(s.name=="selection")i.selection=de.fromJSON(i.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(var a in r){var l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){i[s.name]=c.fromJSON.call(l,e,n[a],i);return}}i[s.name]=s.init(e,i)}}),i};Mt.addApplyListener=function(e){Ds.push(e)};Mt.removeApplyListener=function(e){var n=Ds.indexOf(e);n>-1&&Ds.splice(n,1)};Object.defineProperties(Mt.prototype,Rl);var Ds=[];function ty(t,e,n){for(var r in t){var o=t[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=ty(o,e,{})),n[r]=o}return n}var Dt=function(e){this.props={},e.props&&ty(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:ny("plugin")};Dt.prototype.getState=function(e){return e[this.key]};var Df=Object.create(null);function ny(t){return t in Df?t+"$"+ ++Df[t]:(Df[t]=0,t+"$")}var An=function(e){e===void 0&&(e="key"),this.key=ny(e)};An.prototype.get=function(e){return e.config.pluginsByKey[this.key]};An.prototype.getState=function(e){return e[this.key]};function Ff(t,e){return t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function ry(t,e,n){var r=t.selection,o=r.$cursor;if(!o||(n?!n.endOfTextblock("backward",t):o.parentOffset>0))return!1;var i=iy(o);if(!i){var s=o.blockRange(),a=s&&fi(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}var l=i.nodeBefore;if(!l.type.spec.isolating&&hy(t,i,e))return!0;if(o.parent.content.size==0&&(hi(l,"end")||me.isSelectable(l))){if(e){var c=t.tr.deleteRange(o.before(),o.after());c.setSelection(hi(l,"end")?de.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):me.create(c.doc,i.pos-l.nodeSize)),e(c.scrollIntoView())}return!0}return l.isAtom&&i.depth==o.depth-1?(e&&e(t.tr.delete(i.pos-l.nodeSize,i.pos).scrollIntoView()),!0):!1}function hi(t,e,n){for(;t;t=e=="start"?t.firstChild:t.lastChild){if(t.isTextblock)return!0;if(n&&t.childCount!=1)return!1}return!1}function oy(t,e,n){var r=t.selection,o=r.$head,i=r.empty,s=o;if(!i)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):o.parentOffset>0)return!1;s=iy(o)}var a=s&&s.nodeBefore;return!a||!me.isSelectable(a)?!1:(e&&e(t.tr.setSelection(me.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)}function iy(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function sy(t,e,n){var r=t.selection,o=r.$cursor;if(!o||(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size))return!1;var i=ly(o);if(!i)return!1;var s=i.nodeAfter;if(hy(t,i,e))return!0;if(o.parent.content.size==0&&(hi(s,"start")||me.isSelectable(s))){if(e){var a=t.tr.deleteRange(o.before(),o.after());a.setSelection(hi(s,"start")?de.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):me.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}return s.isAtom&&i.depth==o.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1}function ay(t,e,n){var r=t.selection,o=r.$head,i=r.empty,s=o;if(!i)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size)return!1;s=ly(o)}var a=s&&s.nodeAfter;return!a||!me.isSelectable(a)?!1:(e&&e(t.tr.setSelection(me.create(t.doc,s.pos)).scrollIntoView()),!0)}function ly(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function HM(t,e){var n=t.selection,r=n.$from,o=n.$to,i=r.blockRange(o),s=i&&fi(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)}function cy(t,e){var n=t.selection,r=n.$head,o=n.$anchor;return!r.parent.type.spec.code||!r.sameParent(o)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)}function Bf(t){for(var e=0;e<t.edgeCount;e++){var n=t.edge(e),r=n.type;if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function uy(t,e){var n=t.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),s=r.indexAfter(-1),a=Bf(i.contentMatchAt(s));if(!i.canReplaceWith(s,s,a))return!1;if(e){var l=r.after(),c=t.tr.replaceWith(l,l,a.createAndFill());c.setSelection(de.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0}function fy(t,e){var n=t.selection,r=n.$from,o=n.$to;if(n instanceof fr||r.parent.inlineContent||o.parent.inlineContent)return!1;var i=Bf(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){var s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=t.tr.insert(s,i.createAndFill());a.setSelection(xe.create(a.doc,s+1)),e(a.scrollIntoView())}return!0}function py(t,e){var n=t.selection,r=n.$cursor;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){var o=r.before();if(ur(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}var i=r.blockRange(),s=i&&fi(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)}function VM(t,e){var n=t.selection,r=n.$from,o=n.$to;if(t.selection instanceof me&&t.selection.node.isBlock)return!r.parentOffset||!ur(t.doc,r.pos)?!1:(e&&e(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(e){var i=o.parentOffset==o.parent.content.size,s=t.tr;(t.selection instanceof xe||t.selection instanceof fr)&&s.deleteSelection();var a=r.depth==0?null:Bf(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=i&&a?[{type:a}]:null,c=ur(s.doc,s.mapping.map(r.pos),1,l);if(!l&&!c&&ur(s.doc,s.mapping.map(r.pos),1,a&&[{type:a}])&&(l=[{type:a}],c=!0),c&&(s.split(s.mapping.map(r.pos),1,l),!i&&!r.parentOffset&&r.parent.type!=a)){var u=s.mapping.map(r.before()),f=s.doc.resolve(u);r.node(-1).canReplaceWith(f.index(),f.index()+1,a)&&s.setNodeMarkup(s.mapping.map(r.before()),a)}e(s.scrollIntoView())}return!0}function jM(t,e){var n=t.selection,r=n.$from,o=n.to,i,s=r.sharedDepth(o);return s==0?!1:(i=r.before(s),e&&e(t.tr.setSelection(me.create(t.doc,i))),!0)}function WM(t,e){return e&&e(t.tr.setSelection(new fr(t.doc))),!0}function JM(t,e,n){var r=e.nodeBefore,o=e.nodeAfter,i=e.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(o.isTextblock||Ns(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function hy(t,e,n){var r=e.nodeBefore,o=e.nodeAfter,i,s;if(r.type.spec.isolating||o.type.spec.isolating)return!1;if(JM(t,e,n))return!0;var a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(i=(s=r.contentMatchAt(r.childCount)).findWrapping(o.type))&&s.matchType(i[0]||o.type).validEnd){if(n){for(var l=e.pos+o.nodeSize,c=I.empty,u=i.length-1;u>=0;u--)c=I.from(i[u].create(null,c));c=I.from(r.copy(c));var f=t.tr.step(new Kt(e.pos-1,l,e.pos,l,new q(c,1,0),i.length,!0)),p=l+2*i.length;Ns(f.doc,p)&&f.join(p),n(f.scrollIntoView())}return!0}var h=de.findFrom(e,1),d=h&&h.$from.blockRange(h.$to),y=d&&fi(d);if(y!=null&&y>=e.depth)return n&&n(t.tr.lift(d,y).scrollIntoView()),!0;if(a&&hi(o,"start",!0)&&hi(r,"end")){for(var v=r,b=[];b.push(v),!v.isTextblock;)v=v.lastChild;for(var g=o,S=1;!g.isTextblock;g=g.firstChild)S++;if(v.canReplace(v.childCount,v.childCount,g.content)){if(n){for(var m=I.empty,O=b.length-1;O>=0;O--)m=I.from(b[O].copy(m));var C=t.tr.step(new Kt(e.pos-b.length,e.pos+o.nodeSize,e.pos+S,e.pos+o.nodeSize-S,new q(m,b.length,0),0,!0));n(C.scrollIntoView())}return!0}}return!1}function KM(t,e){return function(n,r){var o=n.selection,i=o.$from,s=o.$to,a=i.blockRange(s),l=a&&Tf(a,t,e);return l?(r&&r(n.tr.wrap(a,l).scrollIntoView()),!0):!1}}function Lf(t,e){return function(n,r){var o=n.selection,i=o.from,s=o.to,a=!1;return n.doc.nodesBetween(i,s,function(l,c){if(a)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)a=!0;else{var u=n.doc.resolve(c),f=u.index();a=u.parent.canReplaceWith(f,f+1,t)}}),a?(r&&r(n.tr.setBlockType(i,s,t,e).scrollIntoView()),!0):!1}}function zf(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(n,r,o){for(var i=0;i<t.length;i++)if(t[i](n,r,o))return!0;return!1}}var $f=zf(Ff,ry,oy),dy=zf(Ff,sy,ay),Lr={Enter:zf(cy,fy,py,VM),"Mod-Enter":uy,Backspace:$f,"Mod-Backspace":$f,"Shift-Backspace":$f,Delete:dy,"Mod-Delete":dy,"Mod-a":WM},UM={"Ctrl-h":Lr.Backspace,"Alt-Backspace":Lr["Mod-Backspace"],"Ctrl-d":Lr.Delete,"Ctrl-Alt-Backspace":Lr["Mod-Delete"],"Alt-Delete":Lr["Mod-Delete"],"Alt-d":Lr["Mod-Delete"]};for(var my in Lr)UM[my]=Lr[my];typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform()=="darwin";function qM(t,e){return function(n,r){var o=n.selection,i=o.$from,s=o.$to,a=i.blockRange(s),l=!1,c=a;if(!a)return!1;if(a.depth>=2&&i.node(a.depth-1).type.compatibleContent(t)&&a.startIndex==0){if(i.index(a.depth-1)==0)return!1;var u=n.doc.resolve(a.start-2);c=new Ms(u,u,a.depth),a.endIndex<a.parent.childCount&&(a=new Ms(i,n.doc.resolve(s.end(a.depth)),a.depth)),l=!0}var f=Tf(c,t,e,a);return f?(r&&r(GM(n.tr,a,f,l,t).scrollIntoView()),!0):!1}}function GM(t,e,n,r,o){for(var i=I.empty,s=n.length-1;s>=0;s--)i=I.from(n[s].type.create(n[s].attrs,i));t.step(new Kt(e.start-(r?2:0),e.end,e.start,e.end,new q(i,0,0),n.length,!0));for(var a=0,l=0;l<n.length;l++)n[l].type==o&&(a=l+1);for(var c=n.length-a,u=e.start+n.length-(r?2:0),f=e.parent,p=e.startIndex,h=e.endIndex,d=!0;p<h;p++,d=!1)!d&&ur(t.doc,u,c)&&(t.split(u,c),u+=2*c),u+=f.child(p).nodeSize;return t}function YM(t){return function(e,n){var r=e.selection,o=r.$from,i=r.$to,s=o.blockRange(i,function(a){return a.childCount&&a.firstChild.type==t});return s?n?o.node(s.depth-1).type==t?XM(e,n,t,s):QM(e,n,s):!0:!1}}function XM(t,e,n,r){var o=t.tr,i=r.end,s=r.$to.end(r.depth);return i<s&&(o.step(new Kt(i-1,s,i,s,new q(I.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Ms(o.doc.resolve(r.$from.pos),o.doc.resolve(s),r.depth)),e(o.lift(r,fi(r)).scrollIntoView()),!0}function QM(t,e,n){for(var r=t.tr,o=n.parent,i=n.end,s=n.endIndex-1,a=n.startIndex;s>a;s--)i-=o.child(s).nodeSize,r.delete(i-1,i+1);var l=r.doc.resolve(n.start),c=l.nodeAfter;if(r.mapping.map(n.end)!=n.start+l.nodeAfter.nodeSize)return!1;var u=n.startIndex==0,f=n.endIndex==o.childCount,p=l.node(-1),h=l.index(-1);if(!p.canReplace(h+(u?0:1),h+1,c.content.append(f?I.empty:I.from(o))))return!1;var d=l.pos,y=d+c.nodeSize;return r.step(new Kt(d-(u?1:0),y+(f?1:0),d+1,y-1,new q((u?I.empty:I.from(o.copy(I.empty))).append(f?I.empty:I.from(o.copy(I.empty))),u?0:1,f?0:1),u?0:1)),e(r.scrollIntoView()),!0}function ZM(t){return function(e,n){var r=e.selection,o=r.$from,i=r.$to,s=o.blockRange(i,function(y){return y.childCount&&y.firstChild.type==t});if(!s)return!1;var a=s.startIndex;if(a==0)return!1;var l=s.parent,c=l.child(a-1);if(c.type!=t)return!1;if(n){var u=c.lastChild&&c.lastChild.type==l.type,f=I.from(u?t.create():null),p=new q(I.from(t.create(null,I.from(l.type.create(null,f)))),u?3:1,0),h=s.start,d=s.end;n(e.tr.step(new Kt(h-(u?3:1),d,h,d,p,1,!0)).scrollIntoView())}return!0}}var $={};if(typeof navigator!="undefined"&&typeof document!="undefined"){var Hf=/Edge\/(\d+)/.exec(navigator.userAgent),vy=/MSIE \d/.test(navigator.userAgent),Vf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),jf=$.ie=!!(vy||Vf||Hf);$.ie_version=vy?document.documentMode||6:Vf?+Vf[1]:Hf?+Hf[1]:null,$.gecko=!jf&&/gecko\/(\d+)/i.test(navigator.userAgent),$.gecko_version=$.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var Wf=!jf&&/Chrome\/(\d+)/.exec(navigator.userAgent);$.chrome=!!Wf,$.chrome_version=Wf&&+Wf[1],$.safari=!jf&&/Apple Computer/.test(navigator.vendor),$.ios=$.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),$.mac=$.ios||/Mac/.test(navigator.platform),$.android=/Android \d/.test(navigator.userAgent),$.webkit="webkitFontSmoothing"in document.documentElement.style,$.webkit_version=$.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var ln=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Jf=function(t){var e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e},gy=null,pr=function(t,e,n){var r=gy||(gy=document.createRange());return r.setEnd(t,n==null?t.nodeValue.length:n),r.setStart(t,e||0),r},_l=function(t,e,n,r){return n&&(yy(t,e,n,r,-1)||yy(t,e,n,r,1))},ex=/^(img|br|input|textarea|hr)$/i;function yy(t,e,n,r,o){for(;;){if(t==n&&e==r)return!0;if(e==(o<0?0:jn(t))){var i=t.parentNode;if(i.nodeType!=1||nx(t)||ex.test(t.nodeName)||t.contentEditable=="false")return!1;e=ln(t)+(o<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(o<0?-1:0)],t.contentEditable=="false")return!1;e=o<0?jn(t):0}else return!1}}function jn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function tx(t,e,n){for(var r=e==0,o=e==jn(t);r||o;){if(t==n)return!0;var i=ln(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,o=o&&i==jn(t)}}function nx(t){for(var e,n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var Kf=function(t){var e=t.isCollapsed;return e&&$.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function di(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function rx(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function zr(t,e){return typeof t=="number"?t:t[e]}function ox(t){var e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function by(t,e,n){for(var r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument,s=n||t.dom;s;s=Jf(s))if(s.nodeType==1){var a=s==i.body||s.nodeType!=1,l=a?rx(i):ox(s),c=0,u=0;if(e.top<l.top+zr(r,"top")?u=-(l.top-e.top+zr(o,"top")):e.bottom>l.bottom-zr(r,"bottom")&&(u=e.bottom-l.bottom+zr(o,"bottom")),e.left<l.left+zr(r,"left")?c=-(l.left-e.left+zr(o,"left")):e.right>l.right-zr(r,"right")&&(c=e.right-l.right+zr(o,"right")),c||u)if(a)i.defaultView.scrollBy(c,u);else{var f=s.scrollLeft,p=s.scrollTop;u&&(s.scrollTop+=u),c&&(s.scrollLeft+=c);var h=s.scrollLeft-f,d=s.scrollTop-p;e={left:e.left-h,top:e.top-d,right:e.right-h,bottom:e.bottom-d}}if(a)break}}function ix(t){for(var e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,o,i=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){var a=t.root.elementFromPoint(i,s);if(!(a==t.dom||!t.dom.contains(a))){var l=a.getBoundingClientRect();if(l.top>=n-20){r=a,o=l.top;break}}}return{refDOM:r,refTop:o,stack:Sy(t.dom)}}function Sy(t){for(var e=[],n=t.ownerDocument;t&&(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),t!=n);t=Jf(t));return e}function sx(t){var e=t.refDOM,n=t.refTop,r=t.stack,o=e?e.getBoundingClientRect().top:0;wy(r,o==0?0:o-n)}function wy(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=r.dom,i=r.top,s=r.left;o.scrollTop!=i+e&&(o.scrollTop=i+e),o.scrollLeft!=s&&(o.scrollLeft=s)}}var mi=null;function ax(t){if(t.setActive)return t.setActive();if(mi)return t.focus(mi);var e=Sy(t);t.focus(mi==null?{get preventScroll(){return mi={preventScroll:!0},!0}}:void 0),mi||(mi=!1,wy(e,0))}function Cy(t,e){for(var n,r=2e8,o,i=0,s=e.top,a=e.top,l=t.firstChild,c=0;l;l=l.nextSibling,c++){var u=void 0;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=pr(l).getClientRects();else continue;for(var f=0;f<u.length;f++){var p=u[f];if(p.top<=s&&p.bottom>=a){s=Math.max(p.bottom,s),a=Math.min(p.top,a);var h=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(h<r){n=l,r=h,o=h&&n.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,l.nodeType==1&&h&&(i=c+(e.left>=(p.left+p.right)/2?1:0));continue}}!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(i=c+1)}}return n&&n.nodeType==3?lx(n,o):!n||r&&n.nodeType==1?{node:t,offset:i}:Cy(n,o)}function lx(t,e){for(var n=t.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);var i=$r(r,1);if(i.top!=i.bottom&&Uf(e,i))return{node:t,offset:o+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function Uf(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function cx(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function ux(t,e,n){var r=Cy(e,n),o=r.node,i=r.offset,s=-1;if(o.nodeType==1&&!o.firstChild){var a=o.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(o,i,s)}function fx(t,e,n,r){for(var o=-1,i=e;i!=t.dom;){var s=t.docView.nearestDesc(i,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)o=s.posBefore;else if(a.right<r.left||a.bottom<r.top)o=s.posAfter;else break}i=s.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n)}function ky(t,e,n){var r=t.childNodes.length;if(r&&n.top<n.bottom)for(var o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=o;;){var s=t.childNodes[i];if(s.nodeType==1)for(var a=s.getClientRects(),l=0;l<a.length;l++){var c=a[l];if(Uf(e,c))return ky(s,e,c)}if((i=(i+1)%r)==o)break}return t}function px(t,e){var n,r,o=t.dom.ownerDocument,i,s;if(o.caretPositionFromPoint)try{var a=o.caretPositionFromPoint(e.left,e.top);a&&(n=a,i=n.offsetNode,s=n.offset)}catch{}if(!i&&o.caretRangeFromPoint){var l=o.caretRangeFromPoint(e.left,e.top);l&&(r=l,i=r.startContainer,s=r.startOffset)}var c=(t.root.elementFromPoint?t.root:o).elementFromPoint(e.left,e.top+1),u;if(!c||!t.dom.contains(c.nodeType!=1?c.parentNode:c)){var f=t.dom.getBoundingClientRect();if(!Uf(e,f)||(c=ky(t.dom,e,f),!c))return null}if($.safari)for(var p=c;i&&p;p=Jf(p))p.draggable&&(i=s=null);if(c=cx(c,e),i){if($.gecko&&i.nodeType==1&&(s=Math.min(s,i.childNodes.length),s<i.childNodes.length)){var h=i.childNodes[s],d;h.nodeName=="IMG"&&(d=h.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&s++}i==t.dom&&s==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:(s==0||i.nodeType!=1||i.childNodes[s-1].nodeName!="BR")&&(u=fx(t,i,s,e))}u==null&&(u=ux(t,c,e));var y=t.docView.nearestDesc(c,!0);return{pos:u,inside:y?y.posAtStart-y.border:-1}}function $r(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}var hx=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Ey(t,e,n){var r=t.docView.domFromPos(e,n<0?-1:1),o=r.node,i=r.offset,s=$.webkit||$.gecko;if(o.nodeType==3)if(s&&(hx.test(o.nodeValue)||(n<0?!i:i==o.nodeValue.length))){var a=$r(pr(o,i,i),n);if($.gecko&&i&&/\s/.test(o.nodeValue[i-1])&&i<o.nodeValue.length){var l=$r(pr(o,i-1,i-1),-1);if(l.top==a.top){var c=$r(pr(o,i,i+1),-1);if(c.top!=a.top)return Fs(c,c.left<l.left)}}return a}else{var u=i,f=i,p=n<0?1:-1;return n<0&&!i?(f++,p=-1):n>=0&&i==o.nodeValue.length?(u--,p=1):n<0?u--:f++,Fs($r(pr(o,u,f),p),p<0)}if(!t.state.doc.resolve(e).parent.inlineContent){if(i&&(n<0||i==jn(o))){var h=o.childNodes[i-1];if(h.nodeType==1)return qf(h.getBoundingClientRect(),!1)}if(i<jn(o)){var d=o.childNodes[i];if(d.nodeType==1)return qf(d.getBoundingClientRect(),!0)}return qf(o.getBoundingClientRect(),n>=0)}if(i&&(n<0||i==jn(o))){var y=o.childNodes[i-1],v=y.nodeType==3?pr(y,jn(y)-(s?0:1)):y.nodeType==1&&(y.nodeName!="BR"||!y.nextSibling)?y:null;if(v)return Fs($r(v,1),!1)}if(i<jn(o)){for(var b=o.childNodes[i];b.pmViewDesc&&b.pmViewDesc.ignoreForCoords;)b=b.nextSibling;var g=b?b.nodeType==3?pr(b,0,s?0:1):b.nodeType==1?b:null:null;if(g)return Fs($r(g,-1),!0)}return Fs($r(o.nodeType==3?pr(o):o,-n),n>=0)}function Fs(t,e){if(t.width==0)return t;var n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function qf(t,e){if(t.height==0)return t;var n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Oy(t,e,n){var r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o&&o.focus()}}function dx(t,e,n){var r=e.selection,o=n=="up"?r.$from:r.$to;return Oy(t,e,function(){for(var i=t.docView.domFromPos(o.pos,n=="up"?-1:1),s=i.node;;){var a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.dom;break}s=a.dom.parentNode}for(var l=Ey(t,o.pos,1),c=s.firstChild;c;c=c.nextSibling){var u=void 0;if(c.nodeType==1)u=c.getClientRects();else if(c.nodeType==3)u=pr(c,0,c.nodeValue.length).getClientRects();else continue;for(var f=0;f<u.length;f++){var p=u[f];if(p.bottom>p.top+1&&(n=="up"?l.top-p.top>(p.bottom-l.top)*2:p.bottom-l.bottom>(l.bottom-p.top)*2))return!1}}return!0})}var mx=/[\u0590-\u08ac]/;function vx(t,e,n){var r=e.selection,o=r.$head;if(!o.parent.isTextblock)return!1;var i=o.parentOffset,s=!i,a=i==o.parent.content.size,l=t.root.getSelection();return!mx.test(o.parent.textContent)||!l.modify?n=="left"||n=="backward"?s:a:Oy(t,e,function(){var c=l.getRangeAt(0),u=l.focusNode,f=l.focusOffset,p=l.caretBidiLevel;l.modify("move",n,"character");var h=o.depth?t.docView.domAfterPos(o.before()):t.dom,d=!h.contains(l.focusNode.nodeType==1?l.focusNode:l.focusNode.parentNode)||u==l.focusNode&&f==l.focusOffset;return l.removeAllRanges(),l.addRange(c),p!=null&&(l.caretBidiLevel=p),d})}var My=null,xy=null,Ty=!1;function gx(t,e,n){return My==e&&xy==n?Ty:(My=e,xy=n,Ty=n=="up"||n=="down"?dx(t,e,n):vx(t,e,n))}var Rn=0,Ny=1,Bs=2,Hr=3,ze=function(e,n,r,o){this.parent=e,this.children=n,this.dom=r,r.pmViewDesc=this,this.contentDOM=o,this.dirty=Rn},Wn={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};ze.prototype.matchesWidget=function(){return!1};ze.prototype.matchesMark=function(){return!1};ze.prototype.matchesNode=function(){return!1};ze.prototype.matchesHack=function(e){return!1};ze.prototype.parseRule=function(){return null};ze.prototype.stopEvent=function(){return!1};Wn.size.get=function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t};Wn.border.get=function(){return 0};ze.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()};ze.prototype.posBeforeChild=function(e){for(var n=0,r=this.posAtStart;n<this.children.length;n++){var o=this.children[n];if(o==e)return r;r+=o.size}};Wn.posBefore.get=function(){return this.parent.posBeforeChild(this)};Wn.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0};Wn.posAfter.get=function(){return this.posBefore+this.size};Wn.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border};ze.prototype.localPosFromDOM=function(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){var o,i;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((i=o.pmViewDesc)&&i.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(i)+i.size:this.posAtStart}else{var s,a;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}var l;if(e==this.dom&&this.contentDOM)l=n>ln(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))l=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(var c=e;;c=c.parentNode){if(c==this.dom){l=!1;break}if(c.parentNode.firstChild!=c)break}if(l==null&&n==e.childNodes.length)for(var u=e;;u=u.parentNode){if(u==this.dom){l=!0;break}if(u.parentNode.lastChild!=u)break}}return(l==null?r>0:l)?this.posAtEnd:this.posAtStart};ze.prototype.nearestDesc=function(e,n){for(var r=!0,o=e;o;o=o.parentNode){var i=this.getDesc(o);if(i&&(!n||i.node))if(r&&i.nodeDOM&&!(i.nodeDOM.nodeType==1?i.nodeDOM.contains(e.nodeType==1?e:e.parentNode):i.nodeDOM==e))r=!1;else return i}};ze.prototype.getDesc=function(e){for(var n=e.pmViewDesc,r=n;r;r=r.parent)if(r==this)return n};ze.prototype.posFromDOM=function(e,n,r){for(var o=e;o;o=o.parentNode){var i=this.getDesc(o);if(i)return i.localPosFromDOM(e,n,r)}return-1};ze.prototype.descAt=function(e){for(var n=0,r=0;n<this.children.length;n++){var o=this.children[n],i=r+o.size;if(r==e&&i!=r){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<i)return o.descAt(e-r-o.border);r=i}};ze.prototype.domFromPos=function(e,n){if(!this.contentDOM)return{node:this.dom,offset:0};for(var r=0,o=0,i=0;r<this.children.length;r++){var s=this.children[r],a=i+s.size;if(a>e||s instanceof Py){o=e-i;break}i=a}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(var l=void 0;r&&!(l=this.children[r-1]).size&&l instanceof Ay&&l.widget.type.side>=0;r--);if(n<=0){for(var c,u=!0;c=r?this.children[r-1]:null,!(!c||c.dom.parentNode==this.contentDOM);r--,u=!1);return c&&n&&u&&!c.border&&!c.domAtom?c.domFromPos(c.size,n):{node:this.contentDOM,offset:c?ln(c.dom)+1:0}}else{for(var f,p=!0;f=r<this.children.length?this.children[r]:null,!(!f||f.dom.parentNode==this.contentDOM);r++,p=!1);return f&&p&&!f.border&&!f.domAtom?f.domFromPos(0,n):{node:this.contentDOM,offset:f?ln(f.dom):this.contentDOM.childNodes.length}}};ze.prototype.parseRange=function(e,n,r){if(r===void 0&&(r=0),this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var o=-1,i=-1,s=r,a=0;;a++){var l=this.children[a],c=s+l.size;if(o==-1&&e<=c){var u=s+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=s;for(var f=a;f>0;f--){var p=this.children[f-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){o=ln(p.dom)+1;break}e-=p.size}o==-1&&(o=0)}if(o>-1&&(c>n||a==this.children.length-1)){n=c;for(var h=a+1;h<this.children.length;h++){var d=this.children[h];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){i=ln(d.dom);break}n+=d.size}i==-1&&(i=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:n,fromOffset:o,toOffset:i}};ze.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)};ze.prototype.domAfterPos=function(e){var n=this.domFromPos(e,0),r=n.node,o=n.offset;if(r.nodeType!=1||o==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[o]};ze.prototype.setSelection=function(e,n,r,o){for(var i=Math.min(e,n),s=Math.max(e,n),a=0,l=0;a<this.children.length;a++){var c=this.children[a],u=l+c.size;if(i>l&&s<u)return c.setSelection(e-l-c.border,n-l-c.border,r,o);l=u}var f=this.domFromPos(e,e?-1:1),p=n==e?f:this.domFromPos(n,n?-1:1),h=r.getSelection(),d=!1;if(($.gecko||$.safari)&&e==n){var y=f.node,v=f.offset;if(y.nodeType==3){if(d=v&&y.nodeValue[v-1]==`
`,d&&v==y.nodeValue.length)for(var b=y,g=void 0;b;b=b.parentNode){if(g=b.nextSibling){g.nodeName=="BR"&&(f=p={node:g.parentNode,offset:ln(g)+1});break}var S=b.pmViewDesc;if(S&&S.node&&S.node.isBlock)break}}else{var m=y.childNodes[v-1];d=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if($.gecko&&h.focusNode&&h.focusNode!=p.node&&h.focusNode.nodeType==1){var O=h.focusNode.childNodes[h.focusOffset];O&&O.contentEditable=="false"&&(o=!0)}if(!(!(o||d&&$.safari)&&_l(f.node,f.offset,h.anchorNode,h.anchorOffset)&&_l(p.node,p.offset,h.focusNode,h.focusOffset))){var C=!1;if((h.extend||e==n)&&!d){h.collapse(f.node,f.offset);try{e!=n&&h.extend(p.node,p.offset),C=!0}catch(T){if(!(T instanceof DOMException))throw T}}if(!C){if(e>n){var k=f;f=p,p=k}var M=document.createRange();M.setEnd(p.node,p.offset),M.setStart(f.node,f.offset),h.removeAllRanges(),h.addRange(M)}}};ze.prototype.ignoreMutation=function(e){return!this.contentDOM&&e.type!="selection"};Wn.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)};ze.prototype.markDirty=function(e,n){for(var r=0,o=0;o<this.children.length;o++){var i=this.children[o],s=r+i.size;if(r==s?e<=s&&n>=r:e<s&&n>r){var a=r+i.border,l=s-i.border;if(e>=a&&n<=l){this.dirty=e==r||n==s?Bs:Ny,e==a&&n==l&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Hr:i.markDirty(e-a,n-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM?Bs:Hr}r=s}this.dirty=Bs};ze.prototype.markParentsDirty=function(){for(var e=1,n=this.parent;n;n=n.parent,e++){var r=e==1?Bs:Ny;n.dirty<r&&(n.dirty=r)}};Wn.domAtom.get=function(){return!1};Wn.ignoreForCoords.get=function(){return!1};Object.defineProperties(ze.prototype,Wn);var Vr=[],Ay=function(t){function e(r,o,i,s){var a,l=o.type.toDOM;if(typeof l=="function"&&(l=l(i,function(){if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)})),!o.type.spec.raw){if(l.nodeType!=1){var c=document.createElement("span");c.appendChild(l),l=c}l.contentEditable=!1,l.classList.add("ProseMirror-widget")}t.call(this,r,Vr,l,null),this.widget=o,a=this}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0}};return e.prototype.matchesWidget=function(o){return this.dirty==Rn&&o.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(o){var i=this.widget.spec.stopEvent;return i?i(o):!1},e.prototype.ignoreMutation=function(o){return o.type!="selection"||this.widget.spec.ignoreSelection},e.prototype.destroy=function(){this.widget.type.destroy(this.dom),t.prototype.destroy.call(this)},n.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,n),e}(ze),yx=function(t){function e(r,o,i,s){t.call(this,r,Vr,o,null),this.textDOM=i,this.text=s}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(o,i){return o!=this.textDOM?this.posAtStart+(i?this.size:0):this.posAtStart+i},e.prototype.domFromPos=function(o){return{node:this.textDOM,offset:o}},e.prototype.ignoreMutation=function(o){return o.type==="characterData"&&o.target.nodeValue==o.oldValue},Object.defineProperties(e.prototype,n),e}(ze),Pl=function(t){function e(n,r,o,i){t.call(this,n,[],o,i),this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(r,o,i,s){var a=s.nodeViews[o.type.name],l=a&&a(o,s,i);return(!l||!l.dom)&&(l=ft.renderSpec(document,o.type.spec.toDOM(o,i))),new e(r,o,l.dom,l.contentDOM||l.dom)},e.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(r){return this.dirty!=Hr&&this.mark.eq(r)},e.prototype.markDirty=function(r,o){if(t.prototype.markDirty.call(this,r,o),this.dirty!=Rn){for(var i=this.parent;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=Rn}},e.prototype.slice=function(r,o,i){var s=e.create(this.parent,this.mark,!0,i),a=this.children,l=this.size;o<l&&(a=Xf(a,o,l,i)),r>0&&(a=Xf(a,0,r,i));for(var c=0;c<a.length;c++)a[c].parent=s;return s.children=a,s},e}(ze),Ls=function(t){function e(r,o,i,s,a,l,c,u,f){t.call(this,r,o.isLeaf?Vr:[],a,l),this.nodeDOM=c,this.node=o,this.outerDeco=i,this.innerDeco=s,l&&this.updateChildren(u,f)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return e.create=function(o,i,s,a,l,c){var u,f=l.nodeViews[i.type.name],p,h=f&&f(i,l,function(){if(!p)return c;if(p.parent)return p.parent.posBeforeChild(p)},s,a),d=h&&h.dom,y=h&&h.contentDOM;if(i.isText){if(!d)d=document.createTextNode(i.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||(u=ft.renderSpec(document,i.type.spec.toDOM(i)),d=u.dom,y=u.contentDOM);!y&&!i.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable=!1),i.type.spec.draggable&&(d.draggable=!0));var v=d;return d=Fy(d,s,i),h?p=new bx(o,i,s,a,d,y,v,h,l,c+1):i.isText?new _y(o,i,s,a,d,v,l):new e(o,i,s,a,d,y,v,l,c+1)},e.prototype.parseRule=function(){var o=this;if(this.node.type.spec.reparseInView)return null;var i={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(i.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?i.contentElement=this.contentDOM:i.getContent=function(){return o.contentDOM?I.empty:o.node.content},i},e.prototype.matchesNode=function(o,i,s){return this.dirty==Rn&&o.eq(this.node)&&Yf(i,this.outerDeco)&&s.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(o,i){var s=this,a=this.node.inlineContent,l=i,c=o.composing&&this.localCompositionInfo(o,i),u=c&&c.pos>-1?c:null,f=c&&c.pos<0,p=new wn(this,u&&u.node);kx(this.node,this.innerDeco,function(h,d,y){h.spec.marks?p.syncToMarks(h.spec.marks,a,o):h.type.side>=0&&!y&&p.syncToMarks(d==s.node.childCount?Ce.none:s.node.child(d).marks,a,o),p.placeWidget(h,o,l)},function(h,d,y,v){p.syncToMarks(h.marks,a,o);var b;p.findNodeMatch(h,d,y,v)||f&&o.state.selection.from>l&&o.state.selection.to<l+h.nodeSize&&(b=p.findIndexWithChild(c.node))>-1&&p.updateNodeAt(h,d,y,b,o)||p.updateNextNode(h,d,y,o,v)||p.addNode(h,d,y,o,l),l+=h.nodeSize}),p.syncToMarks(Vr,a,o),this.node.isTextblock&&p.addTextblockHacks(),p.destroyRest(),(p.changed||this.dirty==Bs)&&(u&&this.protectLocalComposition(o,u),Iy(this.contentDOM,this.children,o),$.ios&&Ex(this.dom))},e.prototype.localCompositionInfo=function(o,i){var s=o.state.selection,a=s.from,l=s.to;if(!(!(o.state.selection instanceof xe)||a<i||l>i+this.node.content.size)){var c=o.root.getSelection(),u=Ox(c.focusNode,c.focusOffset);if(!(!u||!this.dom.contains(u.parentNode)))if(this.node.inlineContent){var f=u.nodeValue,p=Mx(this.node.content,f,a-i,l-i);return p<0?null:{node:u,pos:p,text:f}}else return{node:u,pos:-1}}},e.prototype.protectLocalComposition=function(o,i){var s=i.node,a=i.pos,l=i.text;if(!this.getDesc(s)){for(var c=s;c.parentNode!=this.contentDOM;c=c.parentNode){for(;c.previousSibling;)c.parentNode.removeChild(c.previousSibling);for(;c.nextSibling;)c.parentNode.removeChild(c.nextSibling);c.pmViewDesc&&(c.pmViewDesc=null)}var u=new yx(this,c,s,l);o.compositionNodes.push(u),this.children=Xf(this.children,a,a+l.length,o,u)}},e.prototype.update=function(o,i,s,a){return this.dirty==Hr||!o.sameMarkup(this.node)?!1:(this.updateInner(o,i,s,a),!0)},e.prototype.updateInner=function(o,i,s,a){this.updateOuterDeco(i),this.node=o,this.innerDeco=s,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=Rn},e.prototype.updateOuterDeco=function(o){if(!Yf(o,this.outerDeco)){var i=this.nodeDOM.nodeType!=1,s=this.dom;this.dom=Dy(this.dom,this.nodeDOM,Gf(this.outerDeco,this.node,i),Gf(o,this.node,i)),this.dom!=s&&(s.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=o}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(e.prototype,n),e}(ze);function Ry(t,e,n,r,o){return Fy(r,e,t),new Ls(null,t,e,n,r,r,r,o,0)}var _y=function(t){function e(r,o,i,s,a,l,c){t.call(this,r,o,i,s,a,null,l,c)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){for(var o=this.nodeDOM.parentNode;o&&o!=this.dom&&!o.pmIsDeco;)o=o.parentNode;return{skip:o||!0}},e.prototype.update=function(o,i,s,a){return this.dirty==Hr||this.dirty!=Rn&&!this.inParent()||!o.sameMarkup(this.node)?!1:(this.updateOuterDeco(i),(this.dirty!=Rn||o.text!=this.node.text)&&o.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=o.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=o,this.dirty=Rn,!0)},e.prototype.inParent=function(){for(var o=this.parent.contentDOM,i=this.nodeDOM;i;i=i.parentNode)if(i==o)return!0;return!1},e.prototype.domFromPos=function(o){return{node:this.nodeDOM,offset:o}},e.prototype.localPosFromDOM=function(o,i,s){return o==this.nodeDOM?this.posAtStart+Math.min(i,this.node.text.length):t.prototype.localPosFromDOM.call(this,o,i,s)},e.prototype.ignoreMutation=function(o){return o.type!="characterData"&&o.type!="selection"},e.prototype.slice=function(o,i,s){var a=this.node.cut(o,i),l=document.createTextNode(a.text);return new e(this.parent,a,this.outerDeco,this.innerDeco,l,l,s)},e.prototype.markDirty=function(o,i){t.prototype.markDirty.call(this,o,i),this.dom!=this.nodeDOM&&(o==0||i==this.nodeDOM.nodeValue.length)&&(this.dirty=Hr)},n.domAtom.get=function(){return!1},Object.defineProperties(e.prototype,n),e}(Ls),Py=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(o){return this.dirty==Rn&&this.dom.nodeName==o},n.domAtom.get=function(){return!0},n.ignoreForCoords.get=function(){return this.dom.nodeName=="IMG"},Object.defineProperties(e.prototype,n),e}(ze),bx=function(t){function e(n,r,o,i,s,a,l,c,u,f){t.call(this,n,r,o,i,s,a,l,u,f),this.spec=c}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(r,o,i,s){if(this.dirty==Hr)return!1;if(this.spec.update){var a=this.spec.update(r,o,i);return a&&this.updateInner(r,o,i,s),a}else return!this.contentDOM&&!r.isLeaf?!1:t.prototype.update.call(this,r,o,i,s)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(r,o,i,s){this.spec.setSelection?this.spec.setSelection(r,o,i):t.prototype.setSelection.call(this,r,o,i,s)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(r){return this.spec.stopEvent?this.spec.stopEvent(r):!1},e.prototype.ignoreMutation=function(r){return this.spec.ignoreMutation?this.spec.ignoreMutation(r):t.prototype.ignoreMutation.call(this,r)},e}(Ls);function Iy(t,e,n){for(var r=t.firstChild,o=!1,i=0;i<e.length;i++){var s=e[i],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=By(r),o=!0;r=r.nextSibling}else o=!0,t.insertBefore(a,r);if(s instanceof Pl){var l=r?r.previousSibling:t.lastChild;Iy(s.contentDOM,s.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=By(r),o=!0;o&&n.trackWrites==t&&(n.trackWrites=null)}function zs(t){t&&(this.nodeName=t)}zs.prototype=Object.create(null);var Co=[new zs];function Gf(t,e,n){if(t.length==0)return Co;for(var r=n?Co[0]:new zs,o=[r],i=0;i<t.length;i++){var s=t[i].type.attrs;if(!!s){s.nodeName&&o.push(r=new zs(s.nodeName));for(var a in s){var l=s[a];l!=null&&(n&&o.length==1&&o.push(r=new zs(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return o}function Dy(t,e,n,r){if(n==Co&&r==Co)return e;for(var o=e,i=0;i<r.length;i++){var s=r[i],a=n[i];if(i){var l=void 0;a&&a.nodeName==s.nodeName&&o!=t&&(l=o.parentNode)&&l.tagName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(o),a=Co[0]),o=l}Sx(o,a||Co[0],s)}return o}function Sx(t,e,n){for(var r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(var o in n)o!="class"&&o!="style"&&o!="nodeName"&&n[o]!=e[o]&&t.setAttribute(o,n[o]);if(e.class!=n.class){for(var i=e.class?e.class.split(" ").filter(Boolean):Vr,s=n.class?n.class.split(" ").filter(Boolean):Vr,a=0;a<i.length;a++)s.indexOf(i[a])==-1&&t.classList.remove(i[a]);for(var l=0;l<s.length;l++)i.indexOf(s[l])==-1&&t.classList.add(s[l]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style)for(var c=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,u;u=c.exec(e.style);)t.style.removeProperty(u[1]);n.style&&(t.style.cssText+=n.style)}}function Fy(t,e,n){return Dy(t,t,Co,Gf(e,n,t.nodeType!=1))}function Yf(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function By(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var wn=function(e,n){this.top=e,this.lock=n,this.index=0,this.stack=[],this.changed=!1,this.preMatch=wx(e.node.content,e)};wn.prototype.destroyBetween=function(e,n){if(e!=n){for(var r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}};wn.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)};wn.prototype.syncToMarks=function(e,n,r){for(var o=0,i=this.stack.length>>1,s=Math.min(i,e.length);o<s&&(o==i-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<i;)this.destroyRest(),this.top.dirty=Rn,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);for(var a=-1,l=this.index;l<Math.min(this.index+3,this.top.children.length);l++)if(this.top.children[l].matchesMark(e[i])){a=l;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var c=Pl.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}};wn.prototype.findNodeMatch=function(e,n,r,o){var i=-1,s;if(o>=this.preMatch.index&&(s=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))i=this.top.children.indexOf(s,this.index);else for(var a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){var c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)};wn.prototype.updateNodeAt=function(e,n,r,o,i){var s=this.top.children[o];return s.update(e,n,r,i)?(this.destroyBetween(this.index,o),this.index=o+1,!0):!1};wn.prototype.findIndexWithChild=function(e){for(;;){var n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){var r=e.pmViewDesc;if(r){for(var o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}e=n}};wn.prototype.updateNextNode=function(e,n,r,o,i){for(var s=this.index;s<this.top.children.length;s++){var a=this.top.children[s];if(a instanceof Ls){var l=this.preMatch.matched.get(a);if(l!=null&&l!=i)return!1;var c=a.dom,u=this.lock&&(c==this.lock||c.nodeType==1&&c.contains(this.lock.parentNode))&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Hr&&Yf(n,a.outerDeco));if(!u&&a.update(e,n,r,o))return this.destroyBetween(this.index,s),a.dom!=c&&(this.changed=!0),this.index++,!0;break}}return!1};wn.prototype.addNode=function(e,n,r,o,i){this.top.children.splice(this.index++,0,Ls.create(this.top,e,n,r,o,i)),this.changed=!0};wn.prototype.placeWidget=function(e,n,r){var o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{var i=new Ay(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}};wn.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof Pl;)e=e.children[e.children.length-1];(!e||!(e instanceof _y)||/\n$/.test(e.node.text))&&(($.safari||$.chrome)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG"),this.addHackNode("BR"))};wn.prototype.addHackNode=function(e){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(e))this.index++;else{var n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator"),e=="BR"&&(n.className="ProseMirror-trailingBreak"),this.top.children.splice(this.index++,0,new Py(this.top,Vr,n,null)),this.changed=!0}};function wx(t,e){var n=e,r=n.children.length,o=t.childCount,i=new Map,s=[];e:for(;o>0;){for(var a=void 0;;)if(r){var l=n.children[r-1];if(l instanceof Pl)n=l,r=l.children.length;else{a=l,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}var c=a.node;if(!!c){if(c!=t.child(o-1))break;--o,i.set(a,o),s.push(a)}}return{index:o,matched:i,matches:s.reverse()}}function Cx(t,e){return t.type.side-e.type.side}function kx(t,e,n,r){var o=e.locals(t),i=0;if(o.length==0){for(var s=0;s<t.childCount;s++){var a=t.child(s);r(a,o,e.forChild(i,a),s),i+=a.nodeSize}return}for(var l=0,c=[],u=null,f=0;;){if(l<o.length&&o[l].to==i){for(var p=o[l++],h=void 0;l<o.length&&o[l].to==i;)(h||(h=[p])).push(o[l++]);if(h){h.sort(Cx);for(var d=0;d<h.length;d++)n(h[d],f,!!u)}else n(p,f,!!u)}var y=void 0,v=void 0;if(u)v=-1,y=u,u=null;else if(f<t.childCount)v=f,y=t.child(f++);else break;for(var b=0;b<c.length;b++)c[b].to<=i&&c.splice(b--,1);for(;l<o.length&&o[l].from<=i&&o[l].to>i;)c.push(o[l++]);var g=i+y.nodeSize;if(y.isText){var S=g;l<o.length&&o[l].from<S&&(S=o[l].from);for(var m=0;m<c.length;m++)c[m].to<S&&(S=c[m].to);S<g&&(u=y.cut(S-i),y=y.cut(0,S-i),g=S,v=-1)}var O=c.length?y.isInline&&!y.isLeaf?c.filter(function(C){return!C.inline}):c.slice():Vr;r(y,O,e.forChild(i,y),v),i=g}}function Ex(t){if(t.nodeName=="UL"||t.nodeName=="OL"){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Ox(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=jn(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function Mx(t,e,n,r){for(var o=0,i=0;o<t.childCount&&i<=r;){var s=t.child(o++),a=i;if(i+=s.nodeSize,!!s.isText){for(var l=s.text;o<t.childCount;){var c=t.child(o++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){var u=l.lastIndexOf(e,r-a);if(u>=0&&u+e.length+a>=n)return a+u}}}return-1}function Xf(t,e,n,r,o){for(var i=[],s=0,a=0;s<t.length;s++){var l=t[s],c=a,u=a+=l.size;c>=n||u<=e?i.push(l):(c<e&&i.push(l.slice(0,e-c,r)),o&&(i.push(o),o=null),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function Ly(t,e){var n=t.root.getSelection(),r=t.state.doc;if(!n.focusNode)return null;var o=t.docView.nearestDesc(n.focusNode),i=o&&o.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset);if(s<0)return null;var a=r.resolve(s),l,c;if(Kf(n)){for(l=a;o&&!o.node;)o=o.parent;if(o&&o.node.isAtom&&me.isSelectable(o.node)&&o.parent&&!(o.node.isInline&&tx(n.focusNode,n.focusOffset,o.dom))){var u=o.posBefore;c=new me(s==u?a:r.resolve(u))}}else{var f=t.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(f<0)return null;l=r.resolve(f)}if(!c){var p=e=="pointer"||t.state.selection.head<a.pos&&!i?1:-1;c=Zf(t,l,a,p)}return c}function zy(t){return t.editable?t.hasFocus():ep(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function jr(t,e){var n=t.state.selection;if(jy(t,n),!!zy(t)){if(!e&&t.mouseDown&&t.mouseDown.allowDefault){t.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Tx(t);else{var r=n.anchor,o=n.head,i,s;$y&&!(n instanceof xe)&&(n.$from.parent.inlineContent||(i=Hy(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=Hy(t,n.to))),t.docView.setSelection(r,o,t.root,e),$y&&(i&&Vy(i),s&&Vy(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&xx(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}var $y=$.safari||$.chrome&&$.chrome_version<63;function Hy(t,e){var n=t.docView.domFromPos(e,0),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,s=o?r.childNodes[o-1]:null;if($.safari&&i&&i.contentEditable=="false")return Qf(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Qf(i);if(s)return Qf(s)}}function Qf(t){return t.contentEditable="true",$.safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Vy(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function xx(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var n=t.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){(n.anchorNode!=r||n.anchorOffset!=o)&&(e.removeEventListener("selectionchange",t.hideSelectionGuard),setTimeout(function(){(!zy(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Tx(t){var e=t.root.getSelection(),n=document.createRange(),r=t.cursorWrapper.dom,o=r.nodeName=="IMG";o?n.setEnd(r.parentNode,ln(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!o&&!t.state.selection.visible&&$.ie&&$.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}function jy(t,e){if(e instanceof me){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Wy(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Wy(t)}function Wy(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function Zf(t,e,n,r){return t.someProp("createSelectionBetween",function(o){return o(t,e,n)})||xe.between(e,n,r)}function Nx(t){return t.editable&&t.root.activeElement!=t.dom?!1:ep(t)}function ep(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Ax(t){var e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.root.getSelection();return _l(e.node,e.offset,n.anchorNode,n.anchorOffset)}function tp(t,e){var n=t.selection,r=n.$anchor,o=n.$head,i=e>0?r.max(o):r.min(o),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&de.findFrom(s,e)}function ko(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Jy(t,e,n){var r=t.state.selection;if(r instanceof xe){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var o=tp(t.state,e);return o&&o instanceof me?ko(t,o):!1}else if(!($.mac&&n.indexOf("m")>-1)){var i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;var l=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=t.docView.descAt(l))&&!a.contentDOM?me.isSelectable(s)?ko(t,new me(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):$.webkit?ko(t,new xe(t.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else{if(r instanceof me&&r.node.isInline)return ko(t,new xe(e>0?r.$to:r.$from));var c=tp(t.state,e);return c?ko(t,c):!1}}function Il(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function $s(t){var e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function np(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(!!n){var o,i,s=!1;for($.gecko&&n.nodeType==1&&r<Il(n)&&$s(n.childNodes[r])&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;var a=n.childNodes[r-1];if($s(a))o=n,i=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}else{if(Ky(n))break;for(var l=n.previousSibling;l&&$s(l);)o=n.parentNode,i=ln(l),l=l.previousSibling;if(l)n=l,r=Il(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}s?op(t,e,n,r):o&&op(t,e,o,i)}}function rp(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(!!n){for(var o=Il(n),i,s;;)if(r<o){if(n.nodeType!=1)break;var a=n.childNodes[r];if($s(a))i=n,s=++r;else break}else{if(Ky(n))break;for(var l=n.nextSibling;l&&$s(l);)i=l.parentNode,s=ln(l)+1,l=l.nextSibling;if(l)n=l,r=0,o=Il(n);else{if(n=n.parentNode,n==t.dom)break;r=o=0}}i&&op(t,e,i,s)}}function Ky(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function op(t,e,n,r){if(Kf(e)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();var i=t.state;setTimeout(function(){t.state==i&&jr(t)},50)}function Uy(t,e,n){var r=t.state.selection;if(r instanceof xe&&!r.empty||n.indexOf("s")>-1||$.mac&&n.indexOf("m")>-1)return!1;var o=r.$from,i=r.$to;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var s=tp(t.state,e);if(s&&s instanceof me)return ko(t,s)}if(!o.parent.inlineContent){var a=e<0?o:i,l=r instanceof fr?de.near(a,e):de.findFrom(a,e);return l?ko(t,l):!1}return!1}function qy(t,e){if(!(t.state.selection instanceof xe))return!0;var n=t.state.selection,r=n.$head,o=n.$anchor,i=n.empty;if(!r.sameParent(o))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var s=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){var a=t.state.tr;return e<0?a.delete(r.pos-s.nodeSize,r.pos):a.delete(r.pos,r.pos+s.nodeSize),t.dispatch(a),!0}return!1}function Gy(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Rx(t){if(!(!$.safari||t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n&&n.nodeType==1&&r==0&&n.firstChild&&n.firstChild.contentEditable=="false"){var o=n.firstChild;Gy(t,o,!0),setTimeout(function(){return Gy(t,o,!1)},20)}}}function _x(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Px(t,e){var n=e.keyCode,r=_x(e);return n==8||$.mac&&n==72&&r=="c"?qy(t,-1)||np(t):n==46||$.mac&&n==68&&r=="c"?qy(t,1)||rp(t):n==13||n==27?!0:n==37?Jy(t,-1,r)||np(t):n==39?Jy(t,1,r)||rp(t):n==38?Uy(t,-1,r)||np(t):n==40?Rx(t)||Uy(t,1,r)||rp(t):r==($.mac?"m":"c")&&(n==66||n==73||n==89||n==90)}function Ix(t,e,n){var r=t.docView.parseRange(e,n),o=r.node,i=r.fromOffset,s=r.toOffset,a=r.from,l=r.to,c=t.root.getSelection(),u=null,f=c.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(u=[{node:f,offset:c.anchorOffset}],Kf(c)||u.push({node:c.focusNode,offset:c.focusOffset})),$.chrome&&t.lastKeyCode===8)for(var p=s;p>i;p--){var h=o.childNodes[p-1],d=h.pmViewDesc;if(h.nodeName=="BR"&&!d){s=p;break}if(!d||d.size)break}var y=t.state.doc,v=t.someProp("domParser")||Nn.fromSchema(t.state.schema),b=y.resolve(a),g=null,S=v.parse(o,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:i,to:s,preserveWhitespace:b.parent.type.spec.code?"full":!0,editableContent:!0,findPositions:u,ruleFromNode:Dx,context:b});if(u&&u[0].pos!=null){var m=u[0].pos,O=u[1]&&u[1].pos;O==null&&(O=m),g={anchor:m+a,head:O+a}}return{doc:S,sel:g,from:a,to:l}}function Dx(t){var e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if($.safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||$.safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0}}function Fx(t,e,n,r,o){if(e<0){var i=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,s=Ly(t,i);if(s&&!t.state.selection.eq(s)){var a=t.state.tr.setSelection(s);i=="pointer"?a.setMeta("pointer",!0):i=="key"&&a.scrollIntoView(),t.dispatch(a)}return}var l=t.state.doc.resolve(e),c=l.sharedDepth(n);e=l.before(c+1),n=t.state.doc.resolve(n).after(c+1);var u=t.state.selection,f=Ix(t,e,n);if($.chrome&&t.cursorWrapper&&f.sel&&f.sel.anchor==t.cursorWrapper.deco.from){var p=t.cursorWrapper.deco.type.toDOM.nextSibling,h=p&&p.nodeValue?p.nodeValue.length:1;f.sel={anchor:f.sel.anchor+h,head:f.sel.anchor+h}}var d=t.state.doc,y=d.slice(f.from,f.to),v,b;t.lastKeyCode===8&&Date.now()-100<t.lastKeyCodeTime?(v=t.state.selection.to,b="end"):(v=t.state.selection.from,b="start"),t.lastKeyCode=null;var g=zx(y.content,f.doc.content,f.from,v,b);if(!g)if(r&&u instanceof xe&&!u.empty&&u.$head.sameParent(u.$anchor)&&!t.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))g={start:u.from,endA:u.to,endB:u.to};else if(($.ios&&t.lastIOSEnter>Date.now()-225||$.android)&&o.some(function(Q){return Q.nodeName=="DIV"||Q.nodeName=="P"})&&t.someProp("handleKeyDown",function(Q){return Q(t,di(13,"Enter"))})){t.lastIOSEnter=0;return}else{if(f.sel){var S=Yy(t,t.state.doc,f.sel);S&&!S.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(S))}return}t.domChangeCount++,t.state.selection.from<t.state.selection.to&&g.start==g.endB&&t.state.selection instanceof xe&&(g.start>t.state.selection.from&&g.start<=t.state.selection.from+2?g.start=t.state.selection.from:g.endA<t.state.selection.to&&g.endA>=t.state.selection.to-2&&(g.endB+=t.state.selection.to-g.endA,g.endA=t.state.selection.to)),$.ie&&$.ie_version<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>f.from&&f.doc.textBetween(g.start-f.from-1,g.start-f.from+1)==" \xA0"&&(g.start--,g.endA--,g.endB--);var m=f.doc.resolveNoCache(g.start-f.from),O=f.doc.resolveNoCache(g.endB-f.from),C=m.sameParent(O)&&m.parent.inlineContent,k;if(($.ios&&t.lastIOSEnter>Date.now()-225&&(!C||o.some(function(Q){return Q.nodeName=="DIV"||Q.nodeName=="P"}))||!C&&m.pos<f.doc.content.size&&(k=de.findFrom(f.doc.resolve(m.pos+1),1,!0))&&k.head==O.pos)&&t.someProp("handleKeyDown",function(Q){return Q(t,di(13,"Enter"))})){t.lastIOSEnter=0;return}if(t.state.selection.anchor>g.start&&Lx(d,g.start,g.endA,m,O)&&t.someProp("handleKeyDown",function(Q){return Q(t,di(8,"Backspace"))})){$.android&&$.chrome&&t.domObserver.suppressSelectionUpdates();return}$.chrome&&$.android&&g.toB==g.from&&(t.lastAndroidDelete=Date.now()),$.android&&!C&&m.start()!=O.start()&&O.parentOffset==0&&m.depth==O.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==g.endA&&(g.endB-=2,O=f.doc.resolveNoCache(g.endB-f.from),setTimeout(function(){t.someProp("handleKeyDown",function(Q){return Q(t,di(13,"Enter"))})},20));var M=g.start,T=g.endA,R,V,N,x;if(C){if(m.pos==O.pos)$.ie&&$.ie_version<=11&&m.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(function(){return jr(t)},20)),R=t.state.tr.delete(M,T),V=d.resolve(g.start).marksAcross(d.resolve(g.endA));else if(g.endA==g.endB&&(x=d.resolve(g.start))&&(N=Bx(m.parent.content.cut(m.parentOffset,O.parentOffset),x.parent.content.cut(x.parentOffset,g.endA-x.start()))))R=t.state.tr,N.type=="add"?R.addMark(M,T,N.mark):R.removeMark(M,T,N.mark);else if(m.parent.child(m.index()).isText&&m.index()==O.index()-(O.textOffset?0:1)){var U=m.parent.textBetween(m.parentOffset,O.parentOffset);if(t.someProp("handleTextInput",function(Q){return Q(t,M,T,U)}))return;R=t.state.tr.insertText(U,M,T)}}if(R||(R=t.state.tr.replace(M,T,f.doc.slice(g.start-f.from,g.endB-f.from))),f.sel){var ce=Yy(t,R.doc,f.sel);ce&&!($.chrome&&$.android&&t.composing&&ce.empty&&(g.start!=g.endB||t.lastAndroidDelete<Date.now()-100)&&(ce.head==M||ce.head==R.mapping.map(T)-1)||$.ie&&ce.empty&&ce.head==M)&&R.setSelection(ce)}V&&R.ensureMarks(V),t.dispatch(R.scrollIntoView())}function Yy(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Zf(t,e.resolve(n.anchor),e.resolve(n.head))}function Bx(t,e){for(var n=t.firstChild.marks,r=e.firstChild.marks,o=n,i=r,s,a,l,c=0;c<r.length;c++)o=r[c].removeFromSet(o);for(var u=0;u<n.length;u++)i=n[u].removeFromSet(i);if(o.length==1&&i.length==0)a=o[0],s="add",l=function(h){return h.mark(a.addToSet(h.marks))};else if(o.length==0&&i.length==1)a=i[0],s="remove",l=function(h){return h.mark(a.removeFromSet(h.marks))};else return null;for(var f=[],p=0;p<e.childCount;p++)f.push(l(e.child(p)));if(I.from(f).eq(t))return{mark:a,type:s}}function Lx(t,e,n,r,o){if(!r.parent.isTextblock||n-e<=o.pos-r.pos||ip(r,!0,!1)<o.pos)return!1;var i=t.resolve(e);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var s=t.resolve(ip(i,!0,!0));return!s.parent.isTextblock||s.pos>n||ip(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function ip(t,e,n){for(var r=t.depth,o=e?t.end():t.pos;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n)for(var i=t.node(r).maybeChild(t.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function zx(t,e,n,r,o){var i=t.findDiffStart(e,n);if(i==null)return null;var s=t.findDiffEnd(e,n+t.size,n+e.size),a=s.a,l=s.b;if(o=="end"){var c=Math.max(0,i-Math.min(a,l));r-=a+c-i}if(a<i&&t.size<e.size){var u=r<=i&&r>=a?i-r:0;i-=u,l=i+(l-a),a=i}else if(l<i){var f=r<=i&&r>=l?i-r:0;i-=f,a=i+(a-l),l=i}return{start:i,endA:a,endB:l}}function Xy(t,e){for(var n=[],r=e.content,o=e.openStart,i=e.openEnd;o>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,i--;var s=r.firstChild;n.push(s.type.name,s.attrs!=s.type.defaultAttrs?s.attrs:null),r=s.content}var a=t.someProp("clipboardSerializer")||ft.fromSchema(t.state.schema),l=i0(),c=l.createElement("div");c.appendChild(a.serializeFragment(r,{document:l}));for(var u=c.firstChild,f;u&&u.nodeType==1&&(f=r0[u.nodeName.toLowerCase()]);){for(var p=f.length-1;p>=0;p--){for(var h=l.createElement(f[p]);c.firstChild;)h.appendChild(c.firstChild);c.appendChild(h),f[p]!="tbody"&&(o++,i++)}u=c.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",o+" "+i+" "+JSON.stringify(n));var d=t.someProp("clipboardTextSerializer",function(y){return y(e)})||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:d}}function Qy(t,e,n,r,o){var i,s=o.parent.type.spec.code,a;if(!n&&!e)return null;var l=e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",function(O){e=O(e,s||r)}),s)return e?new q(I.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):q.empty;var c=t.someProp("clipboardTextParser",function(O){return O(e,o,r)});if(c)a=c;else{var u=o.marks(),f=t.state,p=f.schema,h=ft.fromSchema(p);i=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(function(O){var C=i.appendChild(document.createElement("p"));O&&C.appendChild(h.serializeNode(p.text(O,u)))})}}else t.someProp("transformPastedHTML",function(O){n=O(n)}),i=Vx(n),$.webkit&&jx(i);var d=i&&i.querySelector("[data-pm-slice]"),y=d&&/^(\d+) (\d+) (.*)/.exec(d.getAttribute("data-pm-slice"));if(!a){var v=t.someProp("clipboardParser")||t.someProp("domParser")||Nn.fromSchema(t.state.schema);a=v.parseSlice(i,{preserveWhitespace:!!(l||y),context:o,ruleFromNode:function(C){if(C.nodeName=="BR"&&!C.nextSibling&&C.parentNode&&!$x.test(C.parentNode.nodeName))return{ignore:!0}}})}if(y)a=Wx(n0(a,+y[1],+y[2]),y[3]);else if(a=q.maxOpen(Hx(a.content,o),!0),a.openStart||a.openEnd){for(var b=0,g=0,S=a.content.firstChild;b<a.openStart&&!S.type.spec.isolating;b++,S=S.firstChild);for(var m=a.content.lastChild;g<a.openEnd&&!m.type.spec.isolating;g++,m=m.lastChild);a=n0(a,b,g)}return t.someProp("transformPasted",function(O){a=O(a)}),a}var $x=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Hx(t,e){if(t.childCount<2)return t;for(var n=function(i){var s=e.node(i),a=s.contentMatchAt(e.index(i)),l=void 0,c=[];if(t.forEach(function(u){if(!!c){var f=a.findWrapping(u.type),p;if(!f)return c=null;if(p=c.length&&l.length&&e0(f,l,u,c[c.length-1],0))c[c.length-1]=p;else{c.length&&(c[c.length-1]=t0(c[c.length-1],l.length));var h=Zy(u,f);c.push(h),a=a.matchType(h.type,h.attrs),l=f}}}),c)return{v:I.from(c)}},r=e.depth;r>=0;r--){var o=n(r);if(o)return o.v}return t}function Zy(t,e,n){n===void 0&&(n=0);for(var r=e.length-1;r>=n;r--)t=e[r].create(null,I.from(t));return t}function e0(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){var i=e0(t,e,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));var s=r.contentMatchAt(r.childCount);if(s.matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(I.from(Zy(n,t,o+1))))}}function t0(t,e){if(e==0)return t;var n=t.content.replaceChild(t.childCount-1,t0(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(I.empty,!0);return t.copy(n.append(r))}function sp(t,e,n,r,o,i){var s=e<0?t.firstChild:t.lastChild,a=s.content;return o<r-1&&(a=sp(a,e,n,r,o+1,i)),o>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,t.childCount>1||i<=o).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(I.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function n0(t,e,n){return e<t.openStart&&(t=new q(sp(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new q(sp(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}var r0={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},o0=null;function i0(){return o0||(o0=document.implementation.createHTMLDocument("title"))}function Vx(t){var e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n=i0().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),o;if((o=r&&r0[r[1].toLowerCase()])&&(t=o.map(function(s){return"<"+s+">"}).join("")+t+o.map(function(s){return"</"+s+">"}).reverse().join("")),n.innerHTML=t,o)for(var i=0;i<o.length;i++)n=n.querySelector(o[i])||n;return n}function jx(t){for(var e=t.querySelectorAll($.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<e.length;n++){var r=e[n];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Wx(t,e){if(!t.size)return t;var n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}for(var o=t.content,i=t.openStart,s=t.openEnd,a=r.length-2;a>=0;a-=2){var l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;o=I.from(l.create(r[a+1],o)),i++,s++}return new q(o,i,s)}var Jx={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},ap=$.ie&&$.ie_version<=11,lp=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};lp.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset};lp.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var cn=function(e,n){var r=this;this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver(function(o){for(var i=0;i<o.length;i++)r.queue.push(o[i]);$.ie&&$.ie_version<=11&&o.some(function(s){return s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length})?r.flushSoon():r.flush()}),this.currentSelection=new lp,ap&&(this.onCharData=function(o){r.queue.push({target:o.target,type:"characterData",oldValue:o.prevValue}),r.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};cn.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){e.flushingSoon=-1,e.flush()},20))};cn.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())};cn.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Jx),ap&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()};cn.prototype.stop=function(){var e=this;if(this.observer){var n=this.observer.takeRecords();if(n.length){for(var r=0;r<n.length;r++)this.queue.push(n[r]);window.setTimeout(function(){return e.flush()},20)}this.observer.disconnect()}ap&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()};cn.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)};cn.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)};cn.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return e.suppressingSelectionUpdates=!1},50)};cn.prototype.onSelectionChange=function(){if(!!Nx(this.view)){if(this.suppressingSelectionUpdates)return jr(this.view);if($.ie&&$.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&_l(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}};cn.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())};cn.prototype.ignoreSelectionChange=function(e){if(e.rangeCount==0)return!0;var n=e.getRangeAt(0).commonAncestorContainer,r=this.view.docView.nearestDesc(n);if(r&&r.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0};cn.prototype.flush=function(){if(!(!this.view.docView||this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var n=this.view.root.getSelection(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&ep(this.view)&&!this.ignoreSelectionChange(n),o=-1,i=-1,s=!1,a=[];if(this.view.editable)for(var l=0;l<e.length;l++){var c=this.registerMutation(e[l],a);c&&(o=o<0?c.from:Math.min(c.from,o),i=i<0?c.to:Math.max(c.to,i),c.typeOver&&(s=!0))}if($.gecko&&a.length>1){var u=a.filter(function(h){return h.nodeName=="BR"});if(u.length==2){var f=u[0],p=u[1];f.parentNode&&f.parentNode.parentNode==p.parentNode?p.remove():f.remove()}}(o>-1||r)&&(o>-1&&(this.view.docView.markDirty(o,i),Kx(this.view)),this.handleDOMChange(o,i,s,a),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(n)||jr(this.view),this.currentSelection.set(n))}};cn.prototype.registerMutation=function(e,n){if(n.indexOf(e.target)>-1)return null;var r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(var o=0;o<e.addedNodes.length;o++)n.push(e.addedNodes[o]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};var i=e.previousSibling,s=e.nextSibling;if($.ie&&$.ie_version<=11&&e.addedNodes.length)for(var a=0;a<e.addedNodes.length;a++){var l=e.addedNodes[a],c=l.previousSibling,u=l.nextSibling;(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(i=c),(!u||Array.prototype.indexOf.call(e.addedNodes,u)<0)&&(s=u)}var f=i&&i.parentNode==e.target?ln(i)+1:0,p=r.localPosFromDOM(e.target,f,-1),h=s&&s.parentNode==e.target?ln(s):e.target.childNodes.length,d=r.localPosFromDOM(e.target,h,1);return{from:p,to:d}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var s0=!1;function Kx(t){s0||(s0=!0,getComputedStyle(t.dom).whiteSpace=="normal"&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}var Ut={},Ft={};function Ux(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.lastIOSEnter=0,t.lastIOSEnterFallbackTimeout=null,t.lastAndroidDelete=0,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new cn(t,function(r,o,i,s){return Fx(t,r,o,i,s)}),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(r){var o=Ut[r];t.dom.addEventListener(r,t.eventHandlers[r]=function(i){Gx(t,i)&&!up(t,i)&&(t.editable||!(i.type in Ft))&&o(t,i)})};for(var n in Ut)e(n);$.safari&&t.dom.addEventListener("input",function(){return null}),cp(t)}function Eo(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now()}function qx(t){t.domObserver.stop();for(var e in t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e]);clearTimeout(t.composingTimeout),clearTimeout(t.lastIOSEnterFallbackTimeout)}function cp(t){t.someProp("handleDOMEvents",function(e){for(var n in e)t.eventHandlers[n]||t.dom.addEventListener(n,t.eventHandlers[n]=function(r){return up(t,r)})})}function up(t,e){return t.someProp("handleDOMEvents",function(n){var r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function Gx(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Yx(t,e){!up(t,e)&&Ut[e.type]&&(t.editable||!(e.type in Ft))&&Ut[e.type](t,e)}Ft.keydown=function(t,e){if(t.shiftKey=e.keyCode==16||e.shiftKey,!l0(t,e))if(e.keyCode!=229&&t.domObserver.forceFlush(),t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),$.ios&&e.keyCode==13&&!e.ctrlKey&&!e.altKey&&!e.metaKey){var n=Date.now();t.lastIOSEnter=n,t.lastIOSEnterFallbackTimeout=setTimeout(function(){t.lastIOSEnter==n&&(t.someProp("handleKeyDown",function(r){return r(t,di(13,"Enter"))}),t.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",function(r){return r(t,e)})||Px(t,e)?e.preventDefault():Eo(t,"key")};Ft.keyup=function(t,e){e.keyCode==16&&(t.shiftKey=!1)};Ft.keypress=function(t,e){if(!(l0(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||$.mac&&e.metaKey)){if(t.someProp("handleKeyPress",function(o){return o(t,e)})){e.preventDefault();return}var n=t.state.selection;if(!(n instanceof xe)||!n.$from.sameParent(n.$to)){var r=String.fromCharCode(e.charCode);t.someProp("handleTextInput",function(o){return o(t,n.$from.pos,n.$to.pos,r)})||t.dispatch(t.state.tr.insertText(r).scrollIntoView()),e.preventDefault()}}};function Dl(t){return{left:t.clientX,top:t.clientY}}function Xx(t,e){var n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function fp(t,e,n,r,o){if(r==-1)return!1;for(var i=t.state.doc.resolve(r),s=function(c){if(t.someProp(e,function(u){return c>i.depth?u(t,n,i.nodeAfter,i.before(c),o,!0):u(t,n,i.node(c),i.before(c),o,!1)}))return{v:!0}},a=i.depth+1;a>0;a--){var l=s(a);if(l)return l.v}return!1}function vi(t,e,n){t.focused||t.focus();var r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function Qx(t,e){if(e==-1)return!1;var n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&me.isSelectable(r)?(vi(t,new me(n),"pointer"),!0):!1}function Zx(t,e){if(e==-1)return!1;var n=t.state.selection,r,o;n instanceof me&&(r=n.node);for(var i=t.state.doc.resolve(e),s=i.depth+1;s>0;s--){var a=s>i.depth?i.nodeAfter:i.node(s);if(me.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?o=i.before(n.$from.depth):o=i.before(s);break}}return o!=null?(vi(t,me.create(t.state.doc,o),"pointer"),!0):!1}function eT(t,e,n,r,o){return fp(t,"handleClickOn",e,n,r)||t.someProp("handleClick",function(i){return i(t,e,r)})||(o?Zx(t,n):Qx(t,n))}function tT(t,e,n,r){return fp(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",function(o){return o(t,e,r)})}function nT(t,e,n,r){return fp(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",function(o){return o(t,e,r)})||rT(t,n,r)}function rT(t,e,n){if(n.button!=0)return!1;var r=t.state.doc;if(e==-1)return r.inlineContent?(vi(t,xe.create(r,0,r.content.size),"pointer"),!0):!1;for(var o=r.resolve(e),i=o.depth+1;i>0;i--){var s=i>o.depth?o.nodeAfter:o.node(i),a=o.before(i);if(s.inlineContent)vi(t,xe.create(r,a+1,a+1+s.content.size),"pointer");else if(me.isSelectable(s))vi(t,me.create(r,a),"pointer");else continue;return!0}}function pp(t){return Bl(t)}var a0=$.mac?"metaKey":"ctrlKey";Ut.mousedown=function(t,e){t.shiftKey=e.shiftKey;var n=pp(t),r=Date.now(),o="singleClick";r-t.lastClick.time<500&&Xx(e,t.lastClick)&&!e[a0]&&(t.lastClick.type=="singleClick"?o="doubleClick":t.lastClick.type=="doubleClick"&&(o="tripleClick")),t.lastClick={time:r,x:e.clientX,y:e.clientY,type:o};var i=t.posAtCoords(Dl(e));!i||(o=="singleClick"?(t.mouseDown&&t.mouseDown.done(),t.mouseDown=new Fl(t,i,e,n)):(o=="doubleClick"?tT:nT)(t,i.pos,i.inside,e)?e.preventDefault():Eo(t,"pointer"))};var Fl=function(e,n,r,o){var i=this;this.view=e,this.startDoc=e.state.doc,this.pos=n,this.event=r,this.flushed=o,this.selectNode=r[a0],this.allowDefault=r.shiftKey,this.delayedSelectionSync=!1;var s,a;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),a=n.inside;else{var l=e.state.doc.resolve(n.pos);s=l.parent,a=l.depth?l.before():0}this.mightDrag=null;var c=o?null:r.target,u=c?e.docView.nearestDesc(c,!0):null;this.target=u?u.dom:null;var f=e.state,p=f.selection;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||p instanceof me&&p.from<=a&&p.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&$.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){i.view.mouseDown==i&&i.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Eo(e,"pointer")};Fl.prototype.done=function(){var e=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(function(){return jr(e.view)}),this.view.mouseDown=null};Fl.prototype.up=function(e){if(this.done(),!!this.view.dom.contains(e.target.nodeType==3?e.target.parentNode:e.target)){var n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Dl(e))),this.allowDefault||!n?Eo(this.view,"pointer"):eT(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||$.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||$.chrome&&!(this.view.state.selection instanceof xe)&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(vi(this.view,de.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Eo(this.view,"pointer")}};Fl.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Eo(this.view,"pointer"),e.buttons==0&&this.done()};Ut.touchdown=function(t){pp(t),Eo(t,"pointer")};Ut.contextmenu=function(t){return pp(t)};function l0(t,e){return t.composing?!0:$.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500?(t.compositionEndedAt=-2e8,!0):!1}var oT=$.android?5e3:-1;Ft.compositionstart=Ft.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(function(a){return a.type.spec.inclusive===!1})))t.markCursor=t.state.storedMarks||n.marks(),Bl(t,!0),t.markCursor=null;else if(Bl(t),$.gecko&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=t.root.getSelection(),o=r.focusNode,i=r.focusOffset;o&&o.nodeType==1&&i!=0;){var s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(s.nodeType==3){r.collapse(s,s.nodeValue.length);break}else o=s,i=-1}t.composing=!0}c0(t,oT)};Ft.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,c0(t,20))};function c0(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout(function(){return Bl(t)},e))}function u0(t){for(t.composing&&(t.composing=!1,t.compositionEndedAt=iT());t.compositionNodes.length>0;)t.compositionNodes.pop().markParentsDirty()}function iT(){var t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Bl(t,e){if(t.domObserver.forceFlush(),u0(t),e||t.docView.dirty){var n=Ly(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}function sT(t,e){if(!!t.dom.parentNode){var n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(function(){n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}}var gi=$.ie&&$.ie_version<15||$.ios&&$.webkit_version<604;Ut.copy=Ft.cut=function(t,e){var n=t.state.selection,r=e.type=="cut";if(!n.empty){var o=gi?null:e.clipboardData,i=n.content(),s=Xy(t,i),a=s.dom,l=s.text;o?(e.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):sT(t,a),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}};function aT(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function lT(t,e){if(!!t.dom.parentNode){var n=t.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(function(){t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?hp(t,r.value,null,e):hp(t,r.textContent,r.innerHTML,e)},50)}}function hp(t,e,n,r){var o=Qy(t,e,n,t.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",function(a){return a(t,r,o||q.empty)}))return!0;if(!o)return!1;var i=aT(o),s=i?t.state.tr.replaceSelectionWith(i,t.shiftKey):t.state.tr.replaceSelection(o);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Ft.paste=function(t,e){var n=gi?null:e.clipboardData;n&&hp(t,n.getData("text/plain"),n.getData("text/html"),e)?e.preventDefault():lT(t,e)};var cT=function(e,n){this.slice=e,this.move=n},f0=$.mac?"altKey":"ctrlKey";Ut.dragstart=function(t,e){var n=t.mouseDown;if(n&&n.done(),!!e.dataTransfer){var r=t.state.selection,o=r.empty?null:t.posAtCoords(Dl(e));if(!(o&&o.pos>=r.from&&o.pos<=(r instanceof me?r.to-1:r.to))){if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(me.create(t.state.doc,n.mightDrag.pos)));else if(e.target&&e.target.nodeType==1){var i=t.docView.nearestDesc(e.target,!0);i&&i.node.type.spec.draggable&&i!=t.docView&&t.dispatch(t.state.tr.setSelection(me.create(t.state.doc,i.posBefore)))}}var s=t.state.selection.content(),a=Xy(t,s),l=a.dom,c=a.text;e.dataTransfer.clearData(),e.dataTransfer.setData(gi?"Text":"text/html",l.innerHTML),e.dataTransfer.effectAllowed="copyMove",gi||e.dataTransfer.setData("text/plain",c),t.dragging=new cT(s,!e[f0])}};Ut.dragend=function(t){var e=t.dragging;window.setTimeout(function(){t.dragging==e&&(t.dragging=null)},50)};Ft.dragover=Ft.dragenter=function(t,e){return e.preventDefault()};Ft.drop=function(t,e){var n=t.dragging;if(t.dragging=null,!!e.dataTransfer){var r=t.posAtCoords(Dl(e));if(!!r){var o=t.state.doc.resolve(r.pos);if(!!o){var i=n&&n.slice;i?t.someProp("transformPasted",function(d){i=d(i)}):i=Qy(t,e.dataTransfer.getData(gi?"Text":"text/plain"),gi?null:e.dataTransfer.getData("text/html"),!1,o);var s=n&&!e[f0];if(t.someProp("handleDrop",function(d){return d(t,e,i||q.empty,s)})){e.preventDefault();return}if(!!i){e.preventDefault();var a=i?Jg(t.state.doc,o.pos,i):o.pos;a==null&&(a=o.pos);var l=t.state.tr;s&&l.deleteSelection();var c=l.mapping.map(a),u=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,f=l.doc;if(u?l.replaceRangeWith(c,c,i.content.firstChild):l.replaceRange(c,c,i),!l.doc.eq(f)){var p=l.doc.resolve(c);if(u&&me.isSelectable(i.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(i.content.firstChild))l.setSelection(new me(p));else{var h=l.mapping.map(a);l.mapping.maps[l.mapping.maps.length-1].forEach(function(d,y,v,b){return h=b}),l.setSelection(Zf(t,p,l.doc.resolve(h)))}t.focus(),t.dispatch(l.setMeta("uiEvent","drop"))}}}}}};Ut.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.root.getSelection())&&jr(t)},20))};Ut.blur=function(t,e){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),e.relatedTarget&&t.dom.contains(e.relatedTarget)&&t.domObserver.currentSelection.set({}),t.focused=!1)};Ut.beforeinput=function(t,e){if($.chrome&&$.android&&e.inputType=="deleteContentBackward"){var n=t.domChangeCount;setTimeout(function(){if(t.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",function(i){return i(t,di(8,"Backspace"))}))){var r=t.state.selection,o=r.$cursor;o&&o.pos>0&&t.dispatch(t.state.tr.delete(o.pos-1,o.pos).scrollIntoView())}},50)}};for(var p0 in Ft)Ut[p0]=Ft[p0];function Hs(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var r in e)if(!(r in t))return!1;return!0}var yi=function(e,n){this.spec=n||Oo,this.side=this.spec.side||0,this.toDOM=e};yi.prototype.map=function(e,n,r,o){var i=e.mapResult(n.from+o,this.side<0?-1:1),s=i.pos,a=i.deleted;return a?null:new rt(s-r,s-r,this)};yi.prototype.valid=function(){return!0};yi.prototype.eq=function(e){return this==e||e instanceof yi&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Hs(this.spec,e.spec))};yi.prototype.destroy=function(e){this.spec.destroy&&this.spec.destroy(e)};var _n=function(e,n){this.spec=n||Oo,this.attrs=e};_n.prototype.map=function(e,n,r,o){var i=e.map(n.from+o,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+o,this.spec.inclusiveEnd?1:-1)-r;return i>=s?null:new rt(i,s,this)};_n.prototype.valid=function(e,n){return n.from<n.to};_n.prototype.eq=function(e){return this==e||e instanceof _n&&Hs(this.attrs,e.attrs)&&Hs(this.spec,e.spec)};_n.is=function(e){return e.type instanceof _n};var Vs=function(e,n){this.spec=n||Oo,this.attrs=e};Vs.prototype.map=function(e,n,r,o){var i=e.mapResult(n.from+o,1);if(i.deleted)return null;var s=e.mapResult(n.to+o,-1);return s.deleted||s.pos<=i.pos?null:new rt(i.pos-r,s.pos-r,this)};Vs.prototype.valid=function(e,n){var r=e.content.findIndex(n.from),o=r.index,i=r.offset,s;return i==n.from&&!(s=e.child(o)).isText&&i+s.nodeSize==n.to};Vs.prototype.eq=function(e){return this==e||e instanceof Vs&&Hs(this.attrs,e.attrs)&&Hs(this.spec,e.spec)};var rt=function(e,n,r){this.from=e,this.to=n,this.type=r},dp={spec:{configurable:!0},inline:{configurable:!0}};rt.prototype.copy=function(e,n){return new rt(e,n,this.type)};rt.prototype.eq=function(e,n){return n===void 0&&(n=0),this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to};rt.prototype.map=function(e,n,r){return this.type.map(e,this,n,r)};rt.widget=function(e,n,r){return new rt(e,e,new yi(n,r))};rt.inline=function(e,n,r,o){return new rt(e,n,new _n(r,o))};rt.node=function(e,n,r,o){return new rt(e,n,new Vs(r,o))};dp.spec.get=function(){return this.type.spec};dp.inline.get=function(){return this.type instanceof _n};Object.defineProperties(rt.prototype,dp);var Ll=[],Oo={},Fe=function(e,n){this.local=e&&e.length?e:Ll,this.children=n&&n.length?n:Ll};Fe.create=function(e,n){return n.length?zl(n,e,0,Oo):ht};Fe.prototype.find=function(e,n,r){var o=[];return this.findInner(e==null?0:e,n==null?1e9:n,o,0,r),o};Fe.prototype.findInner=function(e,n,r,o,i){for(var s=0;s<this.local.length;s++){var a=this.local[s];a.from<=n&&a.to>=e&&(!i||i(a.spec))&&r.push(a.copy(a.from+o,a.to+o))}for(var l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){var c=this.children[l]+1;this.children[l+2].findInner(e-c,n-c,r,o+c,i)}};Fe.prototype.map=function(e,n,r){return this==ht||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Oo)};Fe.prototype.mapInner=function(e,n,r,o,i){for(var s,a=0;a<this.local.length;a++){var l=this.local[a].map(e,r,o);l&&l.type.valid(n,l)?(s||(s=[])).push(l):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?uT(this.children,s,e,n,r,o,i):s?new Fe(s.sort(Mo)):ht};Fe.prototype.add=function(e,n){return n.length?this==ht?Fe.create(e,n):this.addInner(e,n,0):this};Fe.prototype.addInner=function(e,n,r){var o=this,i,s=0;e.forEach(function(c,u){var f=u+r,p;if(!!(p=d0(n,c,f))){for(i||(i=o.children.slice());s<i.length&&i[s]<u;)s+=3;i[s]==u?i[s+2]=i[s+2].addInner(c,p,f+1):i.splice(s,0,u,u+c.nodeSize,zl(p,c,f+1,Oo)),s+=3}});for(var a=h0(s?m0(n):n,-r),l=0;l<a.length;l++)a[l].type.valid(e,a[l])||a.splice(l--,1);return new Fe(a.length?this.local.concat(a).sort(Mo):this.local,i||this.children)};Fe.prototype.remove=function(e){return e.length==0||this==ht?this:this.removeInner(e,0)};Fe.prototype.removeInner=function(e,n){for(var r=this.children,o=this.local,i=0;i<r.length;i+=3){for(var s=void 0,a=r[i]+n,l=r[i+1]+n,c=0,u=void 0;c<e.length;c++)(u=e[c])&&u.from>a&&u.to<l&&(e[c]=null,(s||(s=[])).push(u));if(!!s){r==this.children&&(r=this.children.slice());var f=r[i+2].removeInner(s,a+1);f!=ht?r[i+2]=f:(r.splice(i,3),i-=3)}}if(o.length){for(var p=0,h=void 0;p<e.length;p++)if(h=e[p])for(var d=0;d<o.length;d++)o[d].eq(h,n)&&(o==this.local&&(o=this.local.slice()),o.splice(d--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new Fe(o,r):ht};Fe.prototype.forChild=function(e,n){if(this==ht)return this;if(n.isLeaf)return Fe.empty;for(var r,o,i=0;i<this.children.length;i+=3)if(this.children[i]>=e){this.children[i]==e&&(r=this.children[i+2]);break}for(var s=e+1,a=s+n.content.size,l=0;l<this.local.length;l++){var c=this.local[l];if(c.from<a&&c.to>s&&c.type instanceof _n){var u=Math.max(s,c.from)-s,f=Math.min(a,c.to)-s;u<f&&(o||(o=[])).push(c.copy(u,f))}}if(o){var p=new Fe(o.sort(Mo));return r?new Cn([p,r]):p}return r||ht};Fe.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof Fe)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(var r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0};Fe.prototype.locals=function(e){return mp(this.localsInner(e))};Fe.prototype.localsInner=function(e){if(this==ht)return Ll;if(e.inlineContent||!this.local.some(_n.is))return this.local;for(var n=[],r=0;r<this.local.length;r++)this.local[r].type instanceof _n||n.push(this.local[r]);return n};var ht=new Fe;Fe.empty=ht;Fe.removeOverlap=mp;var Cn=function(e){this.members=e};Cn.prototype.map=function(e,n){var r=this.members.map(function(o){return o.map(e,n,Oo)});return Cn.from(r)};Cn.prototype.forChild=function(e,n){if(n.isLeaf)return Fe.empty;for(var r=[],o=0;o<this.members.length;o++){var i=this.members[o].forChild(e,n);i!=ht&&(i instanceof Cn?r=r.concat(i.members):r.push(i))}return Cn.from(r)};Cn.prototype.eq=function(e){if(!(e instanceof Cn)||e.members.length!=this.members.length)return!1;for(var n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0};Cn.prototype.locals=function(e){for(var n,r=!0,o=0;o<this.members.length;o++){var i=this.members[o].localsInner(e);if(!!i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(var s=0;s<i.length;s++)n.push(i[s])}}return n?mp(r?n:n.sort(Mo)):Ll};Cn.from=function(e){switch(e.length){case 0:return ht;case 1:return e[0];default:return new Cn(e)}};function uT(t,e,n,r,o,i,s){for(var a=t.slice(),l=function(V,N,x,U){for(var ce=0;ce<a.length;ce+=3){var Q=a[ce+1],Z=void 0;Q==-1||V>Q+i||(N>=a[ce]+i?a[ce+1]=-1:x>=o&&(Z=U-x-(N-V))&&(a[ce]+=Z,a[ce+1]+=Z))}},c=0;c<n.maps.length;c++)n.maps[c].forEach(l);for(var u=!1,f=0;f<a.length;f+=3)if(a[f+1]==-1){var p=n.map(t[f]+i),h=p-o;if(h<0||h>=r.content.size){u=!0;continue}var d=n.map(t[f+1]+i,-1),y=d-o,v=r.content.findIndex(h),b=v.index,g=v.offset,S=r.maybeChild(b);if(S&&g==h&&g+S.nodeSize==y){var m=a[f+2].mapInner(n,S,p+1,t[f]+i+1,s);m!=ht?(a[f]=h,a[f+1]=y,a[f+2]=m):(a[f+1]=-2,u=!0)}else u=!0}if(u){var O=fT(a,t,e||[],n,o,i,s),C=zl(O,r,0,s);e=C.local;for(var k=0;k<a.length;k+=3)a[k+1]<0&&(a.splice(k,3),k-=3);for(var M=0,T=0;M<C.children.length;M+=3){for(var R=C.children[M];T<a.length&&a[T]<R;)T+=3;a.splice(T,0,C.children[M],C.children[M+1],C.children[M+2])}}return new Fe(e&&e.sort(Mo),a)}function h0(t,e){if(!e||!t.length)return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];n.push(new rt(o.from+e,o.to+e,o.type))}return n}function fT(t,e,n,r,o,i,s){function a(c,u){for(var f=0;f<c.local.length;f++){var p=c.local[f].map(r,o,u);p?n.push(p):s.onRemove&&s.onRemove(c.local[f].spec)}for(var h=0;h<c.children.length;h+=3)a(c.children[h+2],c.children[h]+u+1)}for(var l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+i+1);return n}function d0(t,e,n){if(e.isLeaf)return null;for(var r=n+e.nodeSize,o=null,i=0,s=void 0;i<t.length;i++)(s=t[i])&&s.from>n&&s.to<r&&((o||(o=[])).push(s),t[i]=null);return o}function m0(t){for(var e=[],n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function zl(t,e,n,r){var o=[],i=!1;e.forEach(function(l,c){var u=d0(t,l,c+n);if(u){i=!0;var f=zl(u,l,n+c+1,r);f!=ht&&o.push(c,c+l.nodeSize,f)}});for(var s=h0(i?m0(t):t,-n).sort(Mo),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new Fe(s,o):ht}function Mo(t,e){return t.from-e.from||t.to-e.to}function mp(t){for(var e=t,n=0;n<e.length-1;n++){var r=e[n];if(r.from!=r.to)for(var o=n+1;o<e.length;o++){var i=e[o];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[o]=i.copy(i.from,r.to),v0(e,o+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),v0(e,o,r.copy(i.from,r.to)));break}}}return e}function v0(t,e,n){for(;e<t.length&&Mo(n,t[e])>0;)e++;t.splice(e,0,n)}function vp(t){var e=[];return t.someProp("decorations",function(n){var r=n(t.state);r&&r!=ht&&e.push(r)}),t.cursorWrapper&&e.push(Fe.create(t.state.doc,[t.cursorWrapper.deco])),Cn.from(e)}var et=function(e,n){this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(w0),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=b0(this),this.markCursor=null,this.cursorWrapper=null,y0(this),this.nodeViews=S0(this),this.docView=Ry(this.state.doc,g0(this),vp(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,Ux(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},$l={props:{configurable:!0},root:{configurable:!0},isDestroyed:{configurable:!0}};$l.props.get=function(){if(this._props.state!=this.state){var t=this._props;this._props={};for(var e in t)this._props[e]=t[e];this._props.state=this.state}return this._props};et.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&cp(this),this._props=e,e.plugins&&(e.plugins.forEach(w0),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)};et.prototype.setProps=function(e){var n={};for(var r in this._props)n[r]=this._props[r];n.state=this.state;for(var o in e)n[o]=e[o];this.update(n)};et.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)};et.prototype.updateStateInner=function(e,n){var r=this,o=this.state,i=!1,s=!1;if(e.storedMarks&&this.composing&&(u0(this),s=!0),this.state=e,n){var a=S0(this);hT(a,this.nodeViews)&&(this.nodeViews=a,i=!0),cp(this)}this.editable=b0(this),y0(this);var l=vp(this),c=g0(this),u=n?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",f=i||!this.docView.matchesNode(e.doc,c,l);(f||!e.selection.eq(o.selection))&&(s=!0);var p=u=="preserve"&&s&&this.dom.style.overflowAnchor==null&&ix(this);if(s){this.domObserver.stop();var h=f&&($.ie||$.chrome)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&pT(o.selection,e.selection);if(f){var d=$.chrome?this.trackWrites=this.root.getSelection().focusNode:null;(i||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Ry(e.doc,c,l,this.dom,this)),d&&!this.trackWrites&&(h=!0)}h||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&Ax(this))?jr(this,h):(jy(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(o),u=="reset")this.dom.scrollTop=0;else if(u=="to selection"){var y=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",function(v){return v(r)})||(e.selection instanceof me?by(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),y):by(this,this.coordsAtPos(e.selection.head,1),y))}else p&&sx(p)};et.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()};et.prototype.updatePluginViews=function(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var n=0;n<this.directPlugins.length;n++){var r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(var o=0;o<this.state.plugins.length;o++){var i=this.state.plugins[o];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(var s=0;s<this.pluginViews.length;s++){var a=this.pluginViews[s];a.update&&a.update(this,e)}};et.prototype.someProp=function(e,n){var r=this._props&&this._props[e],o;if(r!=null&&(o=n?n(r):r))return o;for(var i=0;i<this.directPlugins.length;i++){var s=this.directPlugins[i].props[e];if(s!=null&&(o=n?n(s):s))return o}var a=this.state.plugins;if(a)for(var l=0;l<a.length;l++){var c=a[l].props[e];if(c!=null&&(o=n?n(c):c))return o}};et.prototype.hasFocus=function(){return this.root.activeElement==this.dom};et.prototype.focus=function(){this.domObserver.stop(),this.editable&&ax(this.dom),jr(this),this.domObserver.start()};$l.root.get=function(){var t=this._root;if(t==null){for(var e=this.dom.parentNode;e;e=e.parentNode)if(e.nodeType==9||e.nodeType==11&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e}return t||document};et.prototype.posAtCoords=function(e){return px(this,e)};et.prototype.coordsAtPos=function(e,n){return n===void 0&&(n=1),Ey(this,e,n)};et.prototype.domAtPos=function(e,n){return n===void 0&&(n=0),this.docView.domFromPos(e,n)};et.prototype.nodeDOM=function(e){var n=this.docView.descAt(e);return n?n.nodeDOM:null};et.prototype.posAtDOM=function(e,n,r){r===void 0&&(r=-1);var o=this.docView.posFromDOM(e,n,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o};et.prototype.endOfTextblock=function(e,n){return gx(this,n||this.state,e)};et.prototype.destroy=function(){!this.docView||(qx(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],vp(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)};$l.isDestroyed.get=function(){return this.docView==null};et.prototype.dispatchEvent=function(e){return Yx(this,e)};et.prototype.dispatch=function(e){var n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))};Object.defineProperties(et.prototype,$l);function g0(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",function(n){if(typeof n=="function"&&(n=n(t.state)),n)for(var r in n)r=="class"&&(e.class+=" "+n[r]),r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),[rt.node(0,t.state.doc.content.size,e)]}function y0(t){if(t.markCursor){var e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),t.cursorWrapper={dom:e,deco:rt.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function b0(t){return!t.someProp("editable",function(e){return e(t.state)===!1})}function pT(t,e){var n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function S0(t){var e={};return t.someProp("nodeViews",function(n){for(var r in n)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=n[r])}),e}function hT(t,e){var n=0,r=0;for(var o in t){if(t[o]!=e[o])return!0;n++}for(var i in e)r++;return n!=r}function w0(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Wr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Hl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},C0=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),dT=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),mT=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),k0=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),vT=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),gT=C0&&(k0||+C0[1]<57)||mT&&k0;for(var dt=0;dt<10;dt++)Wr[48+dt]=Wr[96+dt]=String(dt);for(var dt=1;dt<=24;dt++)Wr[dt+111]="F"+dt;for(var dt=65;dt<=90;dt++)Wr[dt]=String.fromCharCode(dt+32),Hl[dt]=String.fromCharCode(dt);for(var gp in Wr)Hl.hasOwnProperty(gp)||(Hl[gp]=Wr[gp]);function yT(t){var e=gT&&(t.ctrlKey||t.altKey||t.metaKey)||(dT||vT)&&t.shiftKey&&t.key&&t.key.length==1,n=!e&&t.key||(t.shiftKey?Hl:Wr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}var bT=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function ST(t){var e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");for(var r,o,i,s,a=0;a<e.length-1;a++){var l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))bT?s=!0:o=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),s&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function wT(t){var e=Object.create(null);for(var n in t)e[ST(n)]=t[n];return e}function yp(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}function CT(t){return new Dt({props:{handleKeyDown:E0(t)}})}function E0(t){var e=wT(t);return function(n,r){var o=yT(r),i=o.length==1&&o!=" ",s,a=e[yp(o,r,!i)];if(a&&a(n.state,n.dispatch,n))return!0;if(i&&(r.shiftKey||r.altKey||r.metaKey||o.charCodeAt(0)>127)&&(s=Wr[r.keyCode])&&s!=o){var l=e[yp(s,r,!0)];if(l&&l(n.state,n.dispatch,n))return!0}else if(i&&r.shiftKey){var c=e[yp(o,r,!0)];if(c&&c(n.state,n.dispatch,n))return!0}return!1}}function kT(t){return Object.prototype.toString.call(t).slice(8,-1)}function bp(t){return kT(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Vl(t,e){const n=B({},t);return bp(t)&&bp(e)&&Object.keys(e).forEach(r=>{bp(e[r])?r in t?n[r]=Vl(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}function O0(t){return typeof t=="function"}function ye(t,e=void 0,...n){return O0(t)?e?t.bind(e)(...n):t(...n):t}function ne(t,e,n){return t.config[e]===void 0&&t.parent?ne(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind(Vt(B({},n),{parent:t.parent?ne(t.parent,e,n):null})):t.config[e]}class ot{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=B(B({},this.config),e),this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ye(ne(this,"addOptions",{name:this.name}))),this.storage=ye(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ot(e)}configure(e={}){const n=this.extend();return n.options=Vl(this.options,e),n.storage=ye(ne(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new ot(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ye(ne(n,"addOptions",{name:n.name})),n.storage=ye(ne(n,"addStorage",{name:n.name,options:n.options})),n}}function M0(t,e,n){const{from:r,to:o}=e,{blockSeparator:i=`

`,textSerializers:s={}}=n||{};let a="",l=!0;return t.nodesBetween(r,o,(c,u,f,p)=>{var h;const d=s==null?void 0:s[c.type.name];d?(c.isBlock&&!l&&(a+=i,l=!0),a+=d({node:c,pos:u,parent:f,index:p})):c.isText?(a+=(h=c==null?void 0:c.text)===null||h===void 0?void 0:h.slice(Math.max(r,u)-u,o-u),l=!1):c.isBlock&&!l&&(a+=i,l=!0)}),a}function x0(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const ET=ot.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Dt({key:new An("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:o}=e,{ranges:i}=o,s=Math.min(...i.map(u=>u.$from.pos)),a=Math.max(...i.map(u=>u.$to.pos)),l=x0(n);return M0(r,{from:s,to:a},{textSerializers:l})}}})]}}),OT=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{t.isDestroyed||e.dom.blur()}),!0);var MT=Object.freeze({__proto__:null,blur:OT});const xT=(t=!1)=>({commands:e})=>e.setContent("",t);var TT=Object.freeze({__proto__:null,clearContent:xT});const NT=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:o}=r;return o.forEach(i=>{t.doc.nodesBetween(i.$from.pos,i.$to.pos,(s,a)=>{if(s.type.isText)return;const l=e.doc.resolve(e.mapping.map(a)),c=e.doc.resolve(e.mapping.map(a+s.nodeSize)),u=l.blockRange(c);if(!u)return;const f=fi(u);if(s.type.isTextblock&&n){const{defaultType:p}=l.parent.contentMatchAt(l.index());e.setNodeMarkup(u.start,p)}(f||f===0)&&n&&e.lift(u,f)})}),!0};var AT=Object.freeze({__proto__:null,clearNodes:NT});const RT=t=>e=>t(e);var _T=Object.freeze({__proto__:null,command:RT});const PT=()=>({state:t,dispatch:e})=>fy(t,e);var IT=Object.freeze({__proto__:null,createParagraphNear:PT});function st(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}const DT=t=>({tr:e,state:n,dispatch:r})=>{const o=st(t,n.schema),i=e.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===o){if(r){const l=i.before(s),c=i.after(s);e.delete(l,c).scrollIntoView()}return!0}return!1};var FT=Object.freeze({__proto__:null,deleteNode:DT});const BT=t=>({tr:e,dispatch:n})=>{const{from:r,to:o}=t;return n&&e.delete(r,o),!0};var LT=Object.freeze({__proto__:null,deleteRange:BT});const zT=()=>({state:t,dispatch:e})=>Ff(t,e);var $T=Object.freeze({__proto__:null,deleteSelection:zT});const HT=()=>({commands:t})=>t.keyboardShortcut("Enter");var VT=Object.freeze({__proto__:null,enter:HT});const jT=()=>({state:t,dispatch:e})=>uy(t,e);var WT=Object.freeze({__proto__:null,exitCode:jT});function Jr(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function Sp(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function jl(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(o=>n.strict?e[o]===t[o]:Sp(e[o])?e[o].test(t[o]):e[o]===t[o]):!0}function wp(t,e,n={}){return t.find(r=>r.type===e&&jl(r.attrs,n))}function JT(t,e,n={}){return!!wp(t,e,n)}function Cp(t,e,n={}){if(!t||!e)return;const r=t.parent.childAfter(t.parentOffset);if(!r.node)return;const o=wp(r.node.marks,e,n);if(!o)return;let i=t.index(),s=t.start()+r.offset,a=i+1,l=s+r.node.nodeSize;for(wp(r.node.marks,e,n);i>0&&o.isInSet(t.parent.child(i-1).marks);)i-=1,s-=t.parent.child(i).nodeSize;for(;a<t.parent.childCount&&JT(t.parent.child(a).marks,e,n);)l+=t.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}const KT=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const i=Jr(t,r.schema),{doc:s,selection:a}=n,{$from:l,from:c,to:u}=a;if(o){const f=Cp(l,i,e);if(f&&f.from<=c&&f.to>=u){const p=xe.create(s,f.from,f.to);n.setSelection(p)}}return!0};var UT=Object.freeze({__proto__:null,extendMarkRange:KT});const qT=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};var GT=Object.freeze({__proto__:null,first:qT});function YT(t){var e;return((e=t.constructor)===null||e===void 0?void 0:e.toString().substring(0,5))==="class"}function kp(t){return t&&typeof t=="object"&&!Array.isArray(t)&&!YT(t)}function T0(t){return kp(t)&&t instanceof xe}function XT(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function xo(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function N0(t,e=null){if(!e)return null;if(e==="start"||e===!0)return de.atStart(t);if(e==="end")return de.atEnd(t);if(e==="all")return xe.create(t,0,t.content.size);const n=de.atStart(t).from,r=de.atEnd(t).to,o=xo(e,n,r),i=xo(e,n,r);return xe.create(t,o,i)}const QT=(t=null,e)=>({editor:n,view:r,tr:o,dispatch:i})=>{e=B({scrollIntoView:!0},e);const s=()=>{XT()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),(e==null?void 0:e.scrollIntoView)&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!T0(n.state.selection))return s(),!0;const a=N0(n.state.doc,t)||n.state.selection,l=n.state.selection.eq(a);return i&&(l||o.setSelection(a),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),s()),!0};var ZT=Object.freeze({__proto__:null,focus:QT});const eN=(t,e)=>n=>t.every((r,o)=>e(r,Vt(B({},n),{index:o})));var tN=Object.freeze({__proto__:null,forEach:eN});const nN=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e);var rN=Object.freeze({__proto__:null,insertContent:nN});function A0(t){const e=`<body>${t}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function Wl(t,e,n){if(n=B({slice:!0,parseOptions:{}},n),typeof t=="object"&&t!==null)try{return Array.isArray(t)?I.fromArray(t.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),Wl("",e,n)}if(typeof t=="string"){const r=Nn.fromSchema(e);return n.slice?r.parseSlice(A0(t),n.parseOptions).content:r.parse(A0(t),n.parseOptions)}return Wl("",e,n)}function oN(t,e,n){const r=t.steps.length-1;if(r<e)return;const o=t.steps[r];if(!(o instanceof cr||o instanceof Kt))return;const i=t.mapping.maps[r];let s=0;i.forEach((a,l,c,u)=>{s===0&&(s=u)}),t.setSelection(de.near(t.doc.resolve(s),n))}const iN=t=>t.toString().startsWith("<"),sN=(t,e,n)=>({tr:r,dispatch:o,editor:i})=>{if(o){n=B({parseOptions:{},updateSelection:!0},n);const s=Wl(e,i.schema,{parseOptions:B({preserveWhitespace:"full"},n.parseOptions)});if(s.toString()==="<>")return!0;let{from:a,to:l}=typeof t=="number"?{from:t,to:t}:t,c=!0;if((iN(s)?s:[s]).forEach(f=>{f.check(),c=c?f.isBlock:!1}),a===l&&c){const{parent:f}=r.doc.resolve(a);f.isTextblock&&!f.type.spec.code&&!f.childCount&&(a-=1,l+=1)}r.replaceWith(a,l,s),n.updateSelection&&oN(r,r.steps.length-1,-1)}return!0};var aN=Object.freeze({__proto__:null,insertContentAt:sN});const lN=()=>({state:t,dispatch:e})=>ry(t,e);var cN=Object.freeze({__proto__:null,joinBackward:lN});const uN=()=>({state:t,dispatch:e})=>sy(t,e);var fN=Object.freeze({__proto__:null,joinForward:uN});const pN=typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1;function hN(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,o,i,s;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))pN?s=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const dN=t=>({editor:e,view:n,tr:r,dispatch:o})=>{const i=hN(t).split(/-(?!$)/),s=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0};var mN=Object.freeze({__proto__:null,keyboardShortcut:dN});function js(t,e,n={}){const{from:r,to:o,empty:i}=t.selection,s=e?st(e,t.schema):null,a=[];t.doc.nodesBetween(r,o,(f,p)=>{if(f.isText)return;const h=Math.max(r,p),d=Math.min(o,p+f.nodeSize);a.push({node:f,from:h,to:d})});const l=o-r,c=a.filter(f=>s?s.name===f.node.type.name:!0).filter(f=>jl(f.node.attrs,n,{strict:!1}));return i?!!c.length:c.reduce((f,p)=>f+p.to-p.from,0)>=l}const vN=(t,e={})=>({state:n,dispatch:r})=>{const o=st(t,n.schema);return js(n,o,e)?HM(n,r):!1};var gN=Object.freeze({__proto__:null,lift:vN});const yN=()=>({state:t,dispatch:e})=>py(t,e);var bN=Object.freeze({__proto__:null,liftEmptyBlock:yN});const SN=t=>({state:e,dispatch:n})=>{const r=st(t,e.schema);return YM(r)(e,n)};var wN=Object.freeze({__proto__:null,liftListItem:SN});const CN=()=>({state:t,dispatch:e})=>cy(t,e);var kN=Object.freeze({__proto__:null,newlineInCode:CN});function Jl(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function R0(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,o)=>(n.includes(o)||(r[o]=t[o]),r),{})}const EN=(t,e)=>({tr:n,state:r,dispatch:o})=>{let i=null,s=null;const a=Jl(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(i=st(t,r.schema)),a==="mark"&&(s=Jr(t,r.schema)),o&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{i&&i===c.type&&n.setNodeMarkup(u,void 0,R0(c.attrs,e)),s&&c.marks.length&&c.marks.forEach(f=>{s===f.type&&n.addMark(u,u+c.nodeSize,s.create(R0(f.attrs,e)))})})}),!0):!1};var ON=Object.freeze({__proto__:null,resetAttributes:EN});const MN=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0);var xN=Object.freeze({__proto__:null,scrollIntoView:MN});const TN=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size});var NN=Object.freeze({__proto__:null,selectAll:TN});const AN=()=>({state:t,dispatch:e})=>oy(t,e);var RN=Object.freeze({__proto__:null,selectNodeBackward:AN});const _N=()=>({state:t,dispatch:e})=>ay(t,e);var PN=Object.freeze({__proto__:null,selectNodeForward:_N});const IN=()=>({state:t,dispatch:e})=>jM(t,e);var DN=Object.freeze({__proto__:null,selectParentNode:IN});function _0(t,e,n={}){return Wl(t,e,{slice:!1,parseOptions:n})}const FN=(t,e=!1,n={})=>({tr:r,editor:o,dispatch:i})=>{const{doc:s}=r,a=_0(t,o.schema,n),l=xe.create(s,0,s.content.size);return i&&r.setSelection(l).replaceSelectionWith(a,!1).setMeta("preventUpdate",!e),!0};var BN=Object.freeze({__proto__:null,setContent:FN});function Ep(t,e){const n=Jr(e,t.schema),{from:r,to:o,empty:i}=t.selection,s=[];i?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,o,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===n.name);return a?B({},a.attrs):{}}const LN=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const{selection:i}=n,{empty:s,ranges:a}=i,l=Jr(t,r.schema);if(o)if(s){const c=Ep(r,l);n.addStoredMark(l.create(B(B({},c),e)))}else a.forEach(c=>{const u=c.$from.pos,f=c.$to.pos;r.doc.nodesBetween(u,f,(p,h)=>{const d=Math.max(h,u),y=Math.min(h+p.nodeSize,f);p.marks.find(b=>b.type===l)?p.marks.forEach(b=>{l===b.type&&n.addMark(d,y,l.create(B(B({},b.attrs),e)))}):n.addMark(d,y,l.create(e))})});return!0};var zN=Object.freeze({__proto__:null,setMark:LN});const $N=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0);var HN=Object.freeze({__proto__:null,setMeta:$N});const VN=(t,e={})=>({state:n,dispatch:r,chain:o})=>{const i=st(t,n.schema);return i.isTextblock?Lf(i,e)(n)?Lf(i,e)(n,r):o().clearNodes().command(({state:a})=>Lf(i,e)(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)};var jN=Object.freeze({__proto__:null,setNode:VN});const WN=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,o=de.atStart(r).from,i=de.atEnd(r).to,s=xo(t,o,i),a=me.create(r,s);e.setSelection(a)}return!0};var JN=Object.freeze({__proto__:null,setNodeSelection:WN});const KN=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:o,to:i}=typeof t=="number"?{from:t,to:t}:t,s=de.atStart(r).from,a=de.atEnd(r).to,l=xo(o,s,a),c=xo(i,s,a),u=xe.create(r,l,c);e.setSelection(u)}return!0};var UN=Object.freeze({__proto__:null,setTextSelection:KN});const qN=t=>({state:e,dispatch:n})=>{const r=st(t,e.schema);return ZM(r)(e,n)};var GN=Object.freeze({__proto__:null,sinkListItem:qN});function Kl(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=t.find(i=>i.type===e&&i.name===r);return o?o.attribute.keepOnSplit:!1}))}function YN(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function P0(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(o=>e==null?void 0:e.includes(o.type.name));t.tr.ensureMarks(r)}}const XN=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:o})=>{const{selection:i,doc:s}=e,{$from:a,$to:l}=i,c=o.extensionManager.attributes,u=Kl(c,a.node().type.name,a.node().attrs);if(i instanceof me&&i.node.isBlock)return!a.parentOffset||!ur(s,a.pos)?!1:(r&&(t&&P0(n,o.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(r){const f=l.parentOffset===l.parent.content.size;i instanceof xe&&e.deleteSelection();const p=a.depth===0?void 0:YN(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=f&&p?[{type:p,attrs:u}]:void 0,d=ur(e.doc,e.mapping.map(a.pos),1,h);if(!h&&!d&&ur(e.doc,e.mapping.map(a.pos),1,p?[{type:p}]:void 0)&&(d=!0,h=p?[{type:p,attrs:u}]:void 0),d&&(e.split(e.mapping.map(a.pos),1,h),p&&!f&&!a.parentOffset&&a.parent.type!==p)){const y=e.mapping.map(a.before()),v=e.doc.resolve(y);a.node(-1).canReplaceWith(v.index(),v.index()+1,p)&&e.setNodeMarkup(e.mapping.map(a.before()),p)}t&&P0(n,o.extensionManager.splittableMarks),e.scrollIntoView()}return!0};var QN=Object.freeze({__proto__:null,splitBlock:XN});const ZN=t=>({tr:e,state:n,dispatch:r,editor:o})=>{var i;const s=st(t,n.schema),{$from:a,$to:l}=n.selection,c=n.selection.node;if(c&&c.isBlock||a.depth<2||!a.sameParent(l))return!1;const u=a.node(-1);if(u.type!==s)return!1;const f=o.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==s||a.index(-2)!==a.node(-2).childCount-1)return!1;if(r){let v=I.empty;const b=a.index(-1)?1:a.index(-2)?2:3;for(let k=a.depth-b;k>=a.depth-3;k-=1)v=I.from(a.node(k).copy(v));const g=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,S=Kl(f,a.node().type.name,a.node().attrs),m=((i=s.contentMatch.defaultType)===null||i===void 0?void 0:i.createAndFill(S))||void 0;v=v.append(I.from(s.createAndFill(null,m)||void 0));const O=a.before(a.depth-(b-1));e.replace(O,a.after(-g),new q(v,4-b,0));let C=-1;e.doc.nodesBetween(O,e.doc.content.size,(k,M)=>{if(C>-1)return!1;k.isTextblock&&k.content.size===0&&(C=M+1)}),C>-1&&e.setSelection(xe.near(e.doc.resolve(C))),e.scrollIntoView()}return!0}const p=l.pos===a.end()?u.contentMatchAt(0).defaultType:null,h=Kl(f,u.type.name,u.attrs),d=Kl(f,a.node().type.name,a.node().attrs);e.delete(a.pos,l.pos);const y=p?[{type:s,attrs:h},{type:p,attrs:d}]:[{type:s,attrs:h}];return ur(e.doc,a.pos,2)?(r&&e.split(a.pos,2,y).scrollIntoView(),!0):!1};var eA=Object.freeze({__proto__:null,splitListItem:ZN});function tA(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Op(t){return e=>tA(e.$from,t)}function Ul(t){const e=t.filter(o=>o.type==="extension"),n=t.filter(o=>o.type==="node"),r=t.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function I0(t,e){const{nodeExtensions:n}=Ul(e),r=n.find(s=>s.name===t);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},i=ye(ne(r,"group",o));return typeof i!="string"?!1:i.split(" ").includes("list")}const D0=(t,e)=>{const n=Op(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth),o=t.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&Ns(t.doc,n.pos)&&t.join(n.pos),!0},F0=(t,e)=>{const n=Op(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth),o=t.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&Ns(t.doc,r)&&t.join(r),!0},nA=(t,e)=>({editor:n,tr:r,state:o,dispatch:i,chain:s,commands:a,can:l})=>{const{extensions:c}=n.extensionManager,u=st(t,o.schema),f=st(e,o.schema),{selection:p}=o,{$from:h,$to:d}=p,y=h.blockRange(d);if(!y)return!1;const v=Op(b=>I0(b.type.name,c))(p);if(y.depth>=1&&v&&y.depth-v.depth<=1){if(v.node.type===u)return a.liftListItem(f);if(I0(v.node.type.name,c)&&u.validContent(v.node.content)&&i)return s().command(()=>(r.setNodeMarkup(v.pos,u),!0)).command(()=>D0(r,u)).command(()=>F0(r,u)).run()}return s().command(()=>l().wrapInList(u)?!0:a.clearNodes()).wrapInList(u).command(()=>D0(r,u)).command(()=>F0(r,u)).run()};var rA=Object.freeze({__proto__:null,toggleList:nA});function Mp(t,e,n={}){const{empty:r,ranges:o}=t.selection,i=e?Jr(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>i?i.name===f.type.name:!0).find(f=>jl(f.attrs,n,{strict:!1}));let s=0;const a=[];if(o.forEach(({$from:f,$to:p})=>{const h=f.pos,d=p.pos;t.doc.nodesBetween(h,d,(y,v)=>{if(!y.isText&&!y.marks.length)return;const b=Math.max(h,v),g=Math.min(d,v+y.nodeSize);s+=g-b,a.push(...y.marks.map(m=>({mark:m,from:b,to:g})))})}),s===0)return!1;const l=a.filter(f=>i?i.name===f.mark.type.name:!0).filter(f=>jl(f.mark.attrs,n,{strict:!1})).reduce((f,p)=>f+p.to-p.from,0),c=a.filter(f=>i?f.mark.type!==i&&f.mark.type.excludes(i):!0).reduce((f,p)=>f+p.to-p.from,0);return(l>0?l+c:l)>=s}const oA=(t,e={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:i=!1}=n,s=Jr(t,r.schema);return Mp(r,s,e)?o.unsetMark(s,{extendEmptyMarkRange:i}):o.setMark(s,e)};var iA=Object.freeze({__proto__:null,toggleMark:oA});const sA=(t,e,n={})=>({state:r,commands:o})=>{const i=st(t,r.schema),s=st(e,r.schema);return js(r,i,n)?o.setNode(s):o.setNode(i,n)};var aA=Object.freeze({__proto__:null,toggleNode:sA});const lA=(t,e={})=>({state:n,commands:r})=>{const o=st(t,n.schema);return js(n,o,e)?r.lift(o):r.wrapIn(o,e)};var cA=Object.freeze({__proto__:null,toggleWrap:lA});const uA=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let i;if(o.spec.isInputRules&&(i=o.getState(t))){if(e){const s=t.tr,a=i.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(i.text){const l=s.doc.resolve(i.from).marks();s.replaceWith(i.from,i.to,t.schema.text(i.text,l))}else s.delete(i.from,i.to)}return!0}}return!1};var fA=Object.freeze({__proto__:null,undoInputRule:uA});const pA=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:o}=n;return r||e&&o.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0};var hA=Object.freeze({__proto__:null,unsetAllMarks:pA});const dA=(t,e={})=>({tr:n,state:r,dispatch:o})=>{var i;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=n,l=Jr(t,r.schema),{$from:c,empty:u,ranges:f}=a;if(!o)return!0;if(u&&s){let{from:p,to:h}=a;const d=(i=c.marks().find(v=>v.type===l))===null||i===void 0?void 0:i.attrs,y=Cp(c,l,d);y&&(p=y.from,h=y.to),n.removeMark(p,h,l)}else f.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,l)});return n.removeStoredMark(l),!0};var mA=Object.freeze({__proto__:null,unsetMark:dA});const vA=(t,e={})=>({tr:n,state:r,dispatch:o})=>{let i=null,s=null;const a=Jl(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(i=st(t,r.schema)),a==="mark"&&(s=Jr(t,r.schema)),o&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;r.doc.nodesBetween(c,u,(f,p)=>{i&&i===f.type&&n.setNodeMarkup(p,void 0,B(B({},f.attrs),e)),s&&f.marks.length&&f.marks.forEach(h=>{if(s===h.type){const d=Math.max(p,c),y=Math.min(p+f.nodeSize,u);n.addMark(d,y,s.create(B(B({},h.attrs),e)))}})})}),!0):!1};var gA=Object.freeze({__proto__:null,updateAttributes:vA});const yA=(t,e={})=>({state:n,dispatch:r})=>{const o=st(t,n.schema);return KM(o,e)(n,r)};var bA=Object.freeze({__proto__:null,wrapIn:yA});const SA=(t,e={})=>({state:n,dispatch:r})=>{const o=st(t,n.schema);return qM(o,e)(n,r)};var wA=Object.freeze({__proto__:null,wrapInList:SA});const CA=ot.create({name:"commands",addCommands(){return B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B(B({},MT),TT),AT),_T),IT),FT),LT),$T),VT),WT),UT),GT),ZT),tN),rN),aN),cN),fN),mN),gN),bN),wN),kN),ON),xN),NN),RN),PN),DN),BN),zN),HN),jN),JN),UN),GN),QN),eA),rA),iA),aA),cA),fA),hA),mA),gA),bA),wA)}}),kA=ot.create({name:"editable",addProseMirrorPlugins(){return[new Dt({key:new An("editable"),props:{editable:()=>this.editor.options.editable}})]}}),EA=ot.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Dt({key:new An("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),OA=ot.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:n})=>[()=>n.undoInputRule(),()=>n.deleteSelection(),()=>n.joinBackward(),()=>n.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:n})=>[()=>n.deleteSelection(),()=>n.joinForward(),()=>n.selectNodeForward()]);return{Enter:()=>this.editor.commands.first(({commands:n})=>[()=>n.newlineInCode(),()=>n.createParagraphNear(),()=>n.liftEmptyBlock(),()=>n.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()}}}),MA=ot.create({name:"tabindex",addProseMirrorPlugins(){return[new Dt({key:new An("tabindex"),props:{attributes:{tabindex:"0"}}})]}});var xA=Object.freeze({__proto__:null,ClipboardTextSerializer:ET,Commands:CA,Editable:kA,FocusEvents:EA,Keymap:OA,Tabindex:MA});function TA(t,e){const n=st(e,t.schema),{from:r,to:o}=t.selection,i=[];t.doc.nodesBetween(r,o,a=>{i.push(a)});const s=i.reverse().find(a=>a.type.name===n.name);return s?B({},s.attrs):{}}function NA(t,e){const n=Jl(typeof e=="string"?e:e.name,t.schema);return n==="node"?TA(t,e):n==="mark"?Ep(t,e):{}}function AA(t,e,n={}){if(!e)return js(t,null,n)||Mp(t,null,n);const r=Jl(e,t.schema);return r==="node"?js(t,e,n):r==="mark"?Mp(t,e,n):!1}function RA(t,e){const n=ft.fromSchema(e).serializeFragment(t),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(n),o.innerHTML}function _A(t,e){const n={from:0,to:t.content.size};return M0(t,n,e)}function PA(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function IA(t){const e=document.querySelector("style[data-tiptap-style]");if(e!==null)return e;const n=document.createElement("style");return n.setAttribute("data-tiptap-style",""),n.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(n),n}function xp(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:o}=n,{storedMarks:i}=n;return Vt(B({},e),{schema:e.schema,plugins:e.plugins,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,i=n.storedMarks,n}})}class Tp{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:o}=n,{tr:i}=r,s=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const f=l(...u)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(i),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:o,state:i}=this,{view:s}=o,a=[],l=!!e,c=e||i.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),a.every(p=>p===!0)),f=Vt(B({},Object.fromEntries(Object.entries(r).map(([p,h])=>[p,(...y)=>{const v=this.buildProps(c,n),b=h(...y)(v);return a.push(b),f}]))),{run:u});return f}createCan(e){const{rawCommands:n,state:r}=this,o=void 0,i=e||r.tr,s=this.buildProps(i,o),a=Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)(Vt(B({},s),{dispatch:o}))]));return Vt(B({},a),{chain:()=>this.createChain(i,o)})}buildProps(e,n=!0){const{rawCommands:r,editor:o,state:i}=this,{view:s}=o;i.storedMarks&&e.setStoredMarks(i.storedMarks);const a={tr:e,editor:o,view:s,state:xp({state:i,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class ql{constructor(e){this.find=e.find,this.handler=e.handler}}const DA=(t,e)=>{if(Sp(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[];return r.push(n.text),r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Np(t){var e;const{editor:n,from:r,to:o,text:i,rules:s,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0?void 0:e.marks.find(h=>h.type.spec.code)))return!1;let u=!1;const f=500,p=c.parent.textBetween(Math.max(0,c.parentOffset-f),c.parentOffset,void 0,"\uFFFC")+i;return s.forEach(h=>{if(u)return;const d=DA(p,h.find);if(!d)return;const y=l.state.tr,v=xp({state:l.state,transaction:y}),b={from:r-(d[0].length-i.length),to:o},{commands:g,chain:S,can:m}=new Tp({editor:n,state:v});h.handler({state:v,range:b,match:d,commands:g,chain:S,can:m}),!!y.steps.length&&(y.setMeta(a,{transform:y,from:r,to:o,text:i}),l.dispatch(y),u=!0)}),u}function FA(t){const{editor:e,rules:n}=t,r=new Dt({state:{init(){return null},apply(o,i){const s=o.getMeta(this);return s||(o.selectionSet||o.docChanged?null:i)}},props:{handleTextInput(o,i,s,a){return Np({editor:e,from:i,to:s,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:i}=o.state.selection;i&&Np({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(o,i){if(i.key!=="Enter")return!1;const{$cursor:s}=o.state.selection;return s?Np({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function BA(t){return typeof t=="number"}class LA{constructor(e){this.find=e.find,this.handler=e.handler}}const zA=(t,e)=>{if(Sp(e))return[...t.matchAll(e)];const n=e(t);return n?n.map(r=>{const o=[];return o.push(r.text),o.index=r.index,o.input=t,o.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(r.replaceWith)),o}):[]};function $A(t){const{editor:e,state:n,from:r,to:o,rules:i}=t,{commands:s,chain:a,can:l}=new Tp({editor:e,state:n});n.doc.nodesBetween(r,o,(c,u)=>{if(!c.isTextblock||c.type.spec.code)return;const f=Math.max(r,u),p=Math.min(o,u+c.content.size),h=c.textBetween(f-u,p-u,void 0,"\uFFFC");i.forEach(d=>{zA(h,d.find).forEach(v=>{if(v.index===void 0)return;const b=f+v.index+1,g=b+v[0].length,S={from:n.tr.mapping.map(b),to:n.tr.mapping.map(g)};d.handler({state:n,range:S,match:v,commands:s,chain:a,can:l})})})})}function HA(t){const{editor:e,rules:n}=t;let r=!1;const o=new Dt({props:{handlePaste:(i,s)=>{var a;const l=(a=s.clipboardData)===null||a===void 0?void 0:a.getData("text/html");return r=!!(l==null?void 0:l.includes("data-pm-slice")),!1}},appendTransaction:(i,s,a)=>{const l=i[0];if(!l.getMeta("paste")||r)return;const{doc:c,before:u}=l,f=u.content.findDiffStart(c.content),p=u.content.findDiffEnd(c.content);if(!BA(f)||!p||f===p.b)return;const h=a.tr,d=xp({state:a,transaction:h});if($A({editor:e,state:d,from:Math.max(f-1,0),to:p.b,rules:n,plugin:o}),!!h.steps.length)return h},isPasteRules:!0});return o}function B0(t){const e=[],{nodeExtensions:n,markExtensions:r}=Ul(t),o=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0};return t.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=ne(s,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(f=>{Object.entries(u.attributes).forEach(([p,h])=>{e.push({type:f,name:p,attribute:B(B({},i),h)})})})})}),o.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=ne(s,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,f])=>{e.push({type:s.name,name:u,attribute:B(B({},i),f)})})}),e}function xt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r=B({},e);return Object.entries(n).forEach(([o,i])=>{if(!r[o]){r[o]=i;return}o==="class"?r[o]=[r[o],i].join(" "):o==="style"?r[o]=[r[o],i].join("; "):r[o]=i}),r},{})}function Ap(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>xt(n,r),{})}function VA(t={}){return Object.keys(t).length===0&&t.constructor===Object}function jA(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function L0(t,e){return t.style?t:Vt(B({},t),{getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const o=e.filter(i=>i.attribute.rendered).reduce((i,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(n):jA(n.getAttribute(s.name));return kp(a)&&console.warn(`[tiptap warn]: BREAKING CHANGE: "parseHTML" for your attribute "${s.name}" returns an object but should return the value itself. If this is expected you can ignore this message. This warning will be removed in one of the next releases. Further information: https://github.com/ueberdosis/tiptap/issues/1863`),a==null?i:Vt(B({},i),{[s.name]:a})},{});return B(B({},r),o)}})}function z0(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&VA(n)?!1:n!=null))}function WA(t){var e;const n=B0(t),{nodeExtensions:r,markExtensions:o}=Ul(t),i=(e=r.find(l=>ne(l,"topNode")))===null||e===void 0?void 0:e.name,s=Object.fromEntries(r.map(l=>{const c=n.filter(v=>v.type===l.name),u={name:l.name,options:l.options,storage:l.storage},f=t.reduce((v,b)=>{const g=ne(b,"extendNodeSchema",u);return B(B({},v),g?g(l):{})},{}),p=z0(Vt(B({},f),{content:ye(ne(l,"content",u)),marks:ye(ne(l,"marks",u)),group:ye(ne(l,"group",u)),inline:ye(ne(l,"inline",u)),atom:ye(ne(l,"atom",u)),selectable:ye(ne(l,"selectable",u)),draggable:ye(ne(l,"draggable",u)),code:ye(ne(l,"code",u)),defining:ye(ne(l,"defining",u)),isolating:ye(ne(l,"isolating",u)),attrs:Object.fromEntries(c.map(v=>{var b;return[v.name,{default:(b=v==null?void 0:v.attribute)===null||b===void 0?void 0:b.default}]}))})),h=ye(ne(l,"parseHTML",u));h&&(p.parseDOM=h.map(v=>L0(v,c)));const d=ne(l,"renderHTML",u);d&&(p.toDOM=v=>d({node:v,HTMLAttributes:Ap(v,c)}));const y=ne(l,"renderText",u);return y&&(p.toText=y),[l.name,p]})),a=Object.fromEntries(o.map(l=>{const c=n.filter(y=>y.type===l.name),u={name:l.name,options:l.options,storage:l.storage},f=t.reduce((y,v)=>{const b=ne(v,"extendMarkSchema",u);return B(B({},y),b?b(l):{})},{}),p=z0(Vt(B({},f),{inclusive:ye(ne(l,"inclusive",u)),excludes:ye(ne(l,"excludes",u)),group:ye(ne(l,"group",u)),spanning:ye(ne(l,"spanning",u)),code:ye(ne(l,"code",u)),attrs:Object.fromEntries(c.map(y=>{var v;return[y.name,{default:(v=y==null?void 0:y.attribute)===null||v===void 0?void 0:v.default}]}))})),h=ye(ne(l,"parseHTML",u));h&&(p.parseDOM=h.map(y=>L0(y,c)));const d=ne(l,"renderHTML",u);return d&&(p.toDOM=y=>d({mark:y,HTMLAttributes:Ap(y,c)})),[l.name,p]}));return new wo({topNode:i,nodes:s,marks:a})}function Rp(t,e){return e.nodes[t]||e.marks[t]||null}function $0(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function JA(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class bi{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=bi.resolve(e),this.schema=WA(this.extensions),this.extensions.forEach(r=>{var o;this.editor.extensionStorage[r.name]=r.storage;const i={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:Rp(r.name,this.schema)};r.type==="mark"&&((o=ye(ne(r,"keepOnSplit",i)))!==null&&o!==void 0?o:!0)&&this.splittableMarks.push(r.name);const s=ne(r,"onBeforeCreate",i);s&&this.editor.on("beforeCreate",s);const a=ne(r,"onCreate",i);a&&this.editor.on("create",a);const l=ne(r,"onUpdate",i);l&&this.editor.on("update",l);const c=ne(r,"onSelectionUpdate",i);c&&this.editor.on("selectionUpdate",c);const u=ne(r,"onTransaction",i);u&&this.editor.on("transaction",u);const f=ne(r,"onFocus",i);f&&this.editor.on("focus",f);const p=ne(r,"onBlur",i);p&&this.editor.on("blur",p);const h=ne(r,"onDestroy",i);h&&this.editor.on("destroy",h)})}static resolve(e){const n=bi.sort(bi.flatten(e)),r=JA(n.map(o=>o.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},o=ne(n,"addExtensions",r);return o?[n,...this.flatten(o())]:n}).flat(10)}static sort(e){const n=100;return e.sort((r,o)=>{const i=ne(r,"priority")||n,s=ne(o,"priority")||n;return i>s?-1:i<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Rp(n.name,this.schema)},o=ne(n,"addCommands",r);return o?B(B({},e),o()):e},{})}get plugins(){const{editor:e}=this,n=bi.sort([...this.extensions].reverse()),r=[],o=[],i=n.map(s=>{const a={name:s.name,options:s.options,storage:s.storage,editor:e,type:Rp(s.name,this.schema)},l=[],c=ne(s,"addKeyboardShortcuts",a);if(c){const h=Object.fromEntries(Object.entries(c()).map(([y,v])=>[y,()=>v({editor:e})])),d=CT(h);l.push(d)}const u=ne(s,"addInputRules",a);$0(s,e.options.enableInputRules)&&u&&r.push(...u());const f=ne(s,"addPasteRules",a);$0(s,e.options.enablePasteRules)&&f&&o.push(...f());const p=ne(s,"addProseMirrorPlugins",a);if(p){const h=p();l.push(...h)}return l}).flat();return[FA({editor:e,rules:r}),HA({editor:e,rules:o}),...i]}get attributes(){return B0(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Ul(this.extensions);return Object.fromEntries(n.filter(r=>!!ne(r,"addNodeView")).map(r=>{const o=this.attributes.filter(l=>l.type===r.name),i={name:r.name,options:r.options,storage:r.storage,editor:e,type:st(r.name,this.schema)},s=ne(r,"addNodeView",i);if(!s)return[];const a=(l,c,u,f)=>{const p=Ap(l,o);return s()({editor:e,node:l,getPos:u,decorations:f,HTMLAttributes:p,extension:r})};return[r.name,a]}))}}class KA{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(o=>o.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(o=>o!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}const UA=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;class qA extends KA{constructor(e={}){super();this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=IA(UA))}setOptions(e={}){this.options=B(B({},this.options),e),!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){this.setOptions({editable:e})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=O0(n)?n(e,this.state.plugins):[...this.state.plugins,e],o=this.state.reconfigure({plugins:r});this.view.updateState(o)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(o=>!o.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(xA):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new bi(n,this)}createCommandManager(){this.commandManager=new Tp({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=_0(this.options.content,this.schema,this.options.parseOptions),n=N0(e,this.options.autofocus);this.view=new et(this.options.element,Vt(B({},this.options.editorProps),{dispatchTransaction:this.dispatchTransaction.bind(this),state:Mt.create({doc:e,selection:n})}));const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(s)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=e.getMeta("focus"),i=e.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return NA(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,o=typeof e=="string"?n:e;return AA(this.state,r,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return RA(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return _A(this.state.doc,{blockSeparator:n,textSerializers:B(B({},r),x0(this.schema))})}get isEmpty(){return PA(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!((e=this.view)===null||e===void 0?void 0:e.docView)}}class Bt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=B(B({},this.config),e),this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ye(ne(this,"addOptions",{name:this.name}))),this.storage=ye(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Bt(e)}configure(e={}){const n=this.extend();return n.options=Vl(this.options,e),n.storage=ye(ne(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Bt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ye(ne(n,"addOptions",{name:n.name})),n.storage=ye(ne(n,"addStorage",{name:n.name,options:n.options})),n}}class Kr{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=B(B({},this.config),e),this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ye(ne(this,"addOptions",{name:this.name}))),this.storage=ye(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Kr(e)}configure(e={}){const n=this.extend();return n.options=Vl(this.options,e),n.storage=ye(ne(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Kr(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ye(ne(n,"addOptions",{name:n.name})),n.storage=ye(ne(n,"addStorage",{name:n.name,options:n.options})),n}}function H0(t){return new ql({find:t.find,handler:({state:e,range:n,match:r})=>{const o=ye(t.getAttributes,void 0,r)||{},{tr:i}=e,s=n.from;let a=n.to;if(r[1]){const l=r[0].lastIndexOf(r[1]);let c=s+l;c>a?c=a:a=c+r[1].length;const u=r[0][r[0].length-1];i.insertText(u,s+r[0].length-1),i.replaceWith(c,a,t.type.create(o))}else r[0]&&i.replaceWith(s,a,t.type.create(o))}})}function V0(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(o=>{const i=n.resolve(t-1),s=Cp(i,o.type);!s||r.push(B({mark:o},s))}):n.nodesBetween(t,e,(o,i)=>{r.push(...o.marks.map(s=>({from:i,to:i+o.nodeSize,mark:s})))}),r}function Si(t){return new ql({find:t.find,handler:({state:e,range:n,match:r})=>{const o=ye(t.getAttributes,void 0,r);if(o===!1||o===null)return;const{tr:i}=e,s=r[r.length-1],a=r[0];let l=n.to;if(s){const c=a.search(/\S/),u=n.from+a.indexOf(s),f=u+s.length;if(V0(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(y=>y===t.type&&y!==h.mark.type)).filter(h=>h.to>u).length)return null;f<n.to&&i.delete(f,n.to),u>n.from&&i.delete(n.from+c,u),l=n.from+c+s.length,i.addMark(n.from+c,l,t.type.create(o||{})),i.removeStoredMark(t.type)}}})}function _p(t){return new ql({find:t.find,handler:({state:e,range:n,match:r})=>{const o=e.doc.resolve(n.from),i=ye(t.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)}})}function Pp(t){return new ql({find:t.find,handler:({state:e,range:n,match:r})=>{const o=ye(t.getAttributes,void 0,r)||{},i=e.tr.delete(n.from,n.to),a=i.doc.resolve(n.from).blockRange(),l=a&&Tf(a,t.type,o);if(!l)return null;i.wrap(a,l);const c=i.doc.resolve(n.from-1).nodeBefore;c&&c.type===t.type&&Ns(i.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,c))&&i.join(n.from-1)}})}function wi(t){return new LA({find:t.find,handler:({state:e,range:n,match:r})=>{const o=ye(t.getAttributes,void 0,r);if(o===!1||o===null)return;const{tr:i}=e,s=r[r.length-1],a=r[0];let l=n.to;if(s){const c=a.search(/\S/),u=n.from+a.indexOf(s),f=u+s.length;if(V0(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(y=>y===t.type&&y!==h.mark.type)).filter(h=>h.to>u).length)return null;f<n.to&&i.delete(f,n.to),u>n.from&&i.delete(n.from+c,u),l=n.from+c+s.length,i.addMark(n.from+c,l,t.type.create(o||{})),i.removeStoredMark(t.type)}}})}function GA(t){return kp(t)&&t instanceof me}function j0(t,e,n){const r=0,o=t.state.doc.content.size,i=xo(e,r,o),s=xo(n,r,o),a=t.coordsAtPos(i),l=t.coordsAtPos(s,-1),c=Math.min(a.top,l.top),u=Math.max(a.bottom,l.bottom),f=Math.min(a.left,l.left),p=Math.max(a.right,l.right),h=p-f,d=u-c,b={top:c,bottom:u,left:f,right:p,width:h,height:d,x:f,y:c};return Vt(B({},b),{toJSON:()=>b})}var qt="top",kn="bottom",En="right",Gt="left",Ip="auto",Ws=[qt,kn,En,Gt],Ci="start",Js="end",YA="clippingParents",W0="viewport",Ks="popper",XA="reference",J0=Ws.reduce(function(t,e){return t.concat([e+"-"+Ci,e+"-"+Js])},[]),K0=[].concat(Ws,[Ip]).reduce(function(t,e){return t.concat([e,e+"-"+Ci,e+"-"+Js])},[]),QA="beforeRead",ZA="read",eR="afterRead",tR="beforeMain",nR="main",rR="afterMain",oR="beforeWrite",iR="write",sR="afterWrite",aR=[QA,ZA,eR,tR,nR,rR,oR,iR,sR];function Jn(t){return t?(t.nodeName||"").toLowerCase():null}function Pn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ki(t){var e=Pn(t).Element;return t instanceof e||t instanceof Element}function On(t){var e=Pn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function U0(t){if(typeof ShadowRoot=="undefined")return!1;var e=Pn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function lR(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},o=e.attributes[n]||{},i=e.elements[n];!On(i)||!Jn(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(s){var a=o[s];a===!1?i.removeAttribute(s):i.setAttribute(s,a===!0?"":a)}))})}function cR(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var o=e.elements[r],i=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,c){return l[c]="",l},{});!On(o)||!Jn(o)||(Object.assign(o.style,a),Object.keys(i).forEach(function(l){o.removeAttribute(l)}))})}}var q0={name:"applyStyles",enabled:!0,phase:"write",fn:lR,effect:cR,requires:["computeStyles"]};function Kn(t){return t.split("-")[0]}var To=Math.max,Gl=Math.min,Ei=Math.round;function Oi(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,o=1;if(On(t)&&e){var i=t.offsetHeight,s=t.offsetWidth;s>0&&(r=Ei(n.width)/s||1),i>0&&(o=Ei(n.height)/i||1)}return{width:n.width/r,height:n.height/o,top:n.top/o,right:n.right/r,bottom:n.bottom/o,left:n.left/r,x:n.left/r,y:n.top/o}}function Dp(t){var e=Oi(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function G0(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&U0(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Un(t){return Pn(t).getComputedStyle(t)}function uR(t){return["table","td","th"].indexOf(Jn(t))>=0}function Ur(t){return((ki(t)?t.ownerDocument:t.document)||window.document).documentElement}function Yl(t){return Jn(t)==="html"?t:t.assignedSlot||t.parentNode||(U0(t)?t.host:null)||Ur(t)}function Y0(t){return!On(t)||Un(t).position==="fixed"?null:t.offsetParent}function fR(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&On(t)){var r=Un(t);if(r.position==="fixed")return null}for(var o=Yl(t);On(o)&&["html","body"].indexOf(Jn(o))<0;){var i=Un(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function Us(t){for(var e=Pn(t),n=Y0(t);n&&uR(n)&&Un(n).position==="static";)n=Y0(n);return n&&(Jn(n)==="html"||Jn(n)==="body"&&Un(n).position==="static")?e:n||fR(t)||e}function Fp(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function qs(t,e,n){return To(t,Gl(e,n))}function pR(t,e,n){var r=qs(t,e,n);return r>n?n:r}function X0(){return{top:0,right:0,bottom:0,left:0}}function Q0(t){return Object.assign({},X0(),t)}function Z0(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var hR=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Q0(typeof e!="number"?e:Z0(e,Ws))};function dR(t){var e,n=t.state,r=t.name,o=t.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Kn(n.placement),l=Fp(a),c=[Gt,En].indexOf(a)>=0,u=c?"height":"width";if(!(!i||!s)){var f=hR(o.padding,n),p=Dp(i),h=l==="y"?qt:Gt,d=l==="y"?kn:En,y=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],v=s[l]-n.rects.reference[l],b=Us(i),g=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,S=y/2-v/2,m=f[h],O=g-p[u]-f[d],C=g/2-p[u]/2+S,k=qs(m,C,O),M=l;n.modifiersData[r]=(e={},e[M]=k,e.centerOffset=k-C,e)}}function mR(t){var e=t.state,n=t.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||!G0(e.elements.popper,o)||(e.elements.arrow=o))}var vR={name:"arrow",enabled:!0,phase:"main",fn:dR,effect:mR,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Mi(t){return t.split("-")[1]}var gR={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yR(t){var e=t.x,n=t.y,r=window,o=r.devicePixelRatio||1;return{x:Ei(e*o)/o||0,y:Ei(n*o)/o||0}}function eb(t){var e,n=t.popper,r=t.popperRect,o=t.placement,i=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,f=t.isFixed,p=u===!0?yR(s):typeof u=="function"?u(s):s,h=p.x,d=h===void 0?0:h,y=p.y,v=y===void 0?0:y,b=s.hasOwnProperty("x"),g=s.hasOwnProperty("y"),S=Gt,m=qt,O=window;if(c){var C=Us(n),k="clientHeight",M="clientWidth";if(C===Pn(n)&&(C=Ur(n),Un(C).position!=="static"&&a==="absolute"&&(k="scrollHeight",M="scrollWidth")),C=C,o===qt||(o===Gt||o===En)&&i===Js){m=kn;var T=f&&O.visualViewport?O.visualViewport.height:C[k];v-=T-r.height,v*=l?1:-1}if(o===Gt||(o===qt||o===kn)&&i===Js){S=En;var R=f&&O.visualViewport?O.visualViewport.width:C[M];d-=R-r.width,d*=l?1:-1}}var V=Object.assign({position:a},c&&gR);if(l){var N;return Object.assign({},V,(N={},N[m]=g?"0":"",N[S]=b?"0":"",N.transform=(O.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",N))}return Object.assign({},V,(e={},e[m]=g?v+"px":"",e[S]=b?d+"px":"",e.transform="",e))}function bR(t){var e=t.state,n=t.options,r=n.gpuAcceleration,o=r===void 0?!0:r,i=n.adaptive,s=i===void 0?!0:i,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Kn(e.placement),variation:Mi(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,eb(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,eb(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var SR={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:bR,data:{}},Xl={passive:!0};function wR(t){var e=t.state,n=t.instance,r=t.options,o=r.scroll,i=o===void 0?!0:o,s=r.resize,a=s===void 0?!0:s,l=Pn(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&c.forEach(function(u){u.addEventListener("scroll",n.update,Xl)}),a&&l.addEventListener("resize",n.update,Xl),function(){i&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Xl)}),a&&l.removeEventListener("resize",n.update,Xl)}}var CR={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:wR,data:{}},kR={left:"right",right:"left",bottom:"top",top:"bottom"};function Ql(t){return t.replace(/left|right|bottom|top/g,function(e){return kR[e]})}var ER={start:"end",end:"start"};function tb(t){return t.replace(/start|end/g,function(e){return ER[e]})}function Bp(t){var e=Pn(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Lp(t){return Oi(Ur(t)).left+Bp(t).scrollLeft}function OR(t){var e=Pn(t),n=Ur(t),r=e.visualViewport,o=n.clientWidth,i=n.clientHeight,s=0,a=0;return r&&(o=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,a=r.offsetTop)),{width:o,height:i,x:s+Lp(t),y:a}}function MR(t){var e,n=Ur(t),r=Bp(t),o=(e=t.ownerDocument)==null?void 0:e.body,i=To(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=To(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+Lp(t),l=-r.scrollTop;return Un(o||n).direction==="rtl"&&(a+=To(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:l}}function zp(t){var e=Un(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function nb(t){return["html","body","#document"].indexOf(Jn(t))>=0?t.ownerDocument.body:On(t)&&zp(t)?t:nb(Yl(t))}function Gs(t,e){var n;e===void 0&&(e=[]);var r=nb(t),o=r===((n=t.ownerDocument)==null?void 0:n.body),i=Pn(r),s=o?[i].concat(i.visualViewport||[],zp(r)?r:[]):r,a=e.concat(s);return o?a:a.concat(Gs(Yl(s)))}function $p(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function xR(t){var e=Oi(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function rb(t,e){return e===W0?$p(OR(t)):ki(e)?xR(e):$p(MR(Ur(t)))}function TR(t){var e=Gs(Yl(t)),n=["absolute","fixed"].indexOf(Un(t).position)>=0,r=n&&On(t)?Us(t):t;return ki(r)?e.filter(function(o){return ki(o)&&G0(o,r)&&Jn(o)!=="body"&&(n?Un(o).position!=="static":!0)}):[]}function NR(t,e,n){var r=e==="clippingParents"?TR(t):[].concat(e),o=[].concat(r,[n]),i=o[0],s=o.reduce(function(a,l){var c=rb(t,l);return a.top=To(c.top,a.top),a.right=Gl(c.right,a.right),a.bottom=Gl(c.bottom,a.bottom),a.left=To(c.left,a.left),a},rb(t,i));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function ob(t){var e=t.reference,n=t.element,r=t.placement,o=r?Kn(r):null,i=r?Mi(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(o){case qt:l={x:s,y:e.y-n.height};break;case kn:l={x:s,y:e.y+e.height};break;case En:l={x:e.x+e.width,y:a};break;case Gt:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=o?Fp(o):null;if(c!=null){var u=c==="y"?"height":"width";switch(i){case Ci:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Js:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Ys(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=r===void 0?t.placement:r,i=n.boundary,s=i===void 0?YA:i,a=n.rootBoundary,l=a===void 0?W0:a,c=n.elementContext,u=c===void 0?Ks:c,f=n.altBoundary,p=f===void 0?!1:f,h=n.padding,d=h===void 0?0:h,y=Q0(typeof d!="number"?d:Z0(d,Ws)),v=u===Ks?XA:Ks,b=t.rects.popper,g=t.elements[p?v:u],S=NR(ki(g)?g:g.contextElement||Ur(t.elements.popper),s,l),m=Oi(t.elements.reference),O=ob({reference:m,element:b,strategy:"absolute",placement:o}),C=$p(Object.assign({},b,O)),k=u===Ks?C:m,M={top:S.top-k.top+y.top,bottom:k.bottom-S.bottom+y.bottom,left:S.left-k.left+y.left,right:k.right-S.right+y.right},T=t.modifiersData.offset;if(u===Ks&&T){var R=T[o];Object.keys(M).forEach(function(V){var N=[En,kn].indexOf(V)>=0?1:-1,x=[qt,kn].indexOf(V)>=0?"y":"x";M[V]+=R[x]*N})}return M}function AR(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?K0:l,u=Mi(r),f=u?a?J0:J0.filter(function(d){return Mi(d)===u}):Ws,p=f.filter(function(d){return c.indexOf(d)>=0});p.length===0&&(p=f);var h=p.reduce(function(d,y){return d[y]=Ys(t,{placement:y,boundary:o,rootBoundary:i,padding:s})[Kn(y)],d},{});return Object.keys(h).sort(function(d,y){return h[d]-h[y]})}function RR(t){if(Kn(t)===Ip)return[];var e=Ql(t);return[tb(t),e,tb(e)]}function _R(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,f=n.rootBoundary,p=n.altBoundary,h=n.flipVariations,d=h===void 0?!0:h,y=n.allowedAutoPlacements,v=e.options.placement,b=Kn(v),g=b===v,S=l||(g||!d?[Ql(v)]:RR(v)),m=[v].concat(S).reduce(function(Yt,P){return Yt.concat(Kn(P)===Ip?AR(e,{placement:P,boundary:u,rootBoundary:f,padding:c,flipVariations:d,allowedAutoPlacements:y}):P)},[]),O=e.rects.reference,C=e.rects.popper,k=new Map,M=!0,T=m[0],R=0;R<m.length;R++){var V=m[R],N=Kn(V),x=Mi(V)===Ci,U=[qt,kn].indexOf(N)>=0,ce=U?"width":"height",Q=Ys(e,{placement:V,boundary:u,rootBoundary:f,altBoundary:p,padding:c}),Z=U?x?En:Gt:x?kn:qt;O[ce]>C[ce]&&(Z=Ql(Z));var se=Ql(Z),We=[];if(i&&We.push(Q[N]<=0),a&&We.push(Q[Z]<=0,Q[se]<=0),We.every(function(Yt){return Yt})){T=V,M=!1;break}k.set(V,We)}if(M)for(var at=d?3:1,lt=function(P){var G=m.find(function(W){var X=k.get(W);if(X)return X.slice(0,P).every(function(Me){return Me})});if(G)return T=G,"break"},qe=at;qe>0;qe--){var Xe=lt(qe);if(Xe==="break")break}e.placement!==T&&(e.modifiersData[r]._skip=!0,e.placement=T,e.reset=!0)}}var PR={name:"flip",enabled:!0,phase:"main",fn:_R,requiresIfExists:["offset"],data:{_skip:!1}};function ib(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function sb(t){return[qt,En,kn,Gt].some(function(e){return t[e]>=0})}function IR(t){var e=t.state,n=t.name,r=e.rects.reference,o=e.rects.popper,i=e.modifiersData.preventOverflow,s=Ys(e,{elementContext:"reference"}),a=Ys(e,{altBoundary:!0}),l=ib(s,r),c=ib(a,o,i),u=sb(l),f=sb(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}var DR={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:IR};function FR(t,e,n){var r=Kn(t),o=[Gt,qt].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[Gt,En].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function BR(t){var e=t.state,n=t.options,r=t.name,o=n.offset,i=o===void 0?[0,0]:o,s=K0.reduce(function(u,f){return u[f]=FR(f,e.rects,i),u},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}var LR={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:BR};function zR(t){var e=t.state,n=t.name;e.modifiersData[n]=ob({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var $R={name:"popperOffsets",enabled:!0,phase:"read",fn:zR,data:{}};function HR(t){return t==="x"?"y":"x"}function VR(t){var e=t.state,n=t.options,r=t.name,o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,p=n.tether,h=p===void 0?!0:p,d=n.tetherOffset,y=d===void 0?0:d,v=Ys(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),b=Kn(e.placement),g=Mi(e.placement),S=!g,m=Fp(b),O=HR(m),C=e.modifiersData.popperOffsets,k=e.rects.reference,M=e.rects.popper,T=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,R=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),V=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,N={x:0,y:0};if(!!C){if(i){var x,U=m==="y"?qt:Gt,ce=m==="y"?kn:En,Q=m==="y"?"height":"width",Z=C[m],se=Z+v[U],We=Z-v[ce],at=h?-M[Q]/2:0,lt=g===Ci?k[Q]:M[Q],qe=g===Ci?-M[Q]:-k[Q],Xe=e.elements.arrow,Yt=h&&Xe?Dp(Xe):{width:0,height:0},P=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:X0(),G=P[U],W=P[ce],X=qs(0,k[Q],Yt[Q]),Me=S?k[Q]/2-at-X-G-R.mainAxis:lt-X-G-R.mainAxis,ke=S?-k[Q]/2+at+X+W+R.mainAxis:qe+X+W+R.mainAxis,he=e.elements.arrow&&Us(e.elements.arrow),fe=he?m==="y"?he.clientTop||0:he.clientLeft||0:0,w=(x=V==null?void 0:V[m])!=null?x:0,E=Z+Me-w-fe,A=Z+ke-w,F=qs(h?Gl(se,E):se,Z,h?To(We,A):We);C[m]=F,N[m]=F-Z}if(a){var D,j=m==="x"?qt:Gt,K=m==="x"?kn:En,z=C[O],H=O==="y"?"height":"width",L=z+v[j],re=z-v[K],Y=[qt,Gt].indexOf(b)!==-1,ie=(D=V==null?void 0:V[O])!=null?D:0,ue=Y?L:z-k[H]-M[H]-ie+R.altAxis,be=Y?z+k[H]+M[H]-ie-R.altAxis:re,Pe=h&&Y?pR(ue,z,be):qs(h?ue:L,z,h?be:re);C[O]=Pe,N[O]=Pe-z}e.modifiersData[r]=N}}var jR={name:"preventOverflow",enabled:!0,phase:"main",fn:VR,requiresIfExists:["offset"]};function WR(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function JR(t){return t===Pn(t)||!On(t)?Bp(t):WR(t)}function KR(t){var e=t.getBoundingClientRect(),n=Ei(e.width)/t.offsetWidth||1,r=Ei(e.height)/t.offsetHeight||1;return n!==1||r!==1}function UR(t,e,n){n===void 0&&(n=!1);var r=On(e),o=On(e)&&KR(e),i=Ur(e),s=Oi(t,o),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Jn(e)!=="body"||zp(i))&&(a=JR(e)),On(e)?(l=Oi(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=Lp(i))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function qR(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function o(i){n.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&o(l)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||o(i)}),r}function GR(t){var e=qR(t);return aR.reduce(function(n,r){return n.concat(e.filter(function(o){return o.phase===r}))},[])}function YR(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function XR(t){var e=t.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var ab={placement:"bottom",modifiers:[],strategy:"absolute"};function lb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function QR(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,o=e.defaultOptions,i=o===void 0?ab:o;return function(a,l,c){c===void 0&&(c=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},ab,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],p=!1,h={state:u,setOptions:function(b){var g=typeof b=="function"?b(u.options):b;y(),u.options=Object.assign({},i,u.options,g),u.scrollParents={reference:ki(a)?Gs(a):a.contextElement?Gs(a.contextElement):[],popper:Gs(l)};var S=GR(XR([].concat(r,u.options.modifiers)));return u.orderedModifiers=S.filter(function(m){return m.enabled}),d(),h.update()},forceUpdate:function(){if(!p){var b=u.elements,g=b.reference,S=b.popper;if(!!lb(g,S)){u.rects={reference:UR(g,Us(S),u.options.strategy==="fixed"),popper:Dp(S)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(R){return u.modifiersData[R.name]=Object.assign({},R.data)});for(var m=0;m<u.orderedModifiers.length;m++){if(u.reset===!0){u.reset=!1,m=-1;continue}var O=u.orderedModifiers[m],C=O.fn,k=O.options,M=k===void 0?{}:k,T=O.name;typeof C=="function"&&(u=C({state:u,options:M,name:T,instance:h})||u)}}}},update:YR(function(){return new Promise(function(v){h.forceUpdate(),v(u)})}),destroy:function(){y(),p=!0}};if(!lb(a,l))return h;h.setOptions(c).then(function(v){!p&&c.onFirstUpdate&&c.onFirstUpdate(v)});function d(){u.orderedModifiers.forEach(function(v){var b=v.name,g=v.options,S=g===void 0?{}:g,m=v.effect;if(typeof m=="function"){var O=m({state:u,name:b,instance:h,options:S}),C=function(){};f.push(O||C)}})}function y(){f.forEach(function(v){return v()}),f=[]}return h}}var ZR=[CR,$R,SR,q0,LR,PR,jR,vR,DR],e_=QR({defaultModifiers:ZR}),t_="tippy-box",cb="tippy-content",n_="tippy-backdrop",ub="tippy-arrow",fb="tippy-svg-arrow",No={passive:!0,capture:!0},pb=function(){return document.body};function Hp(t,e,n){if(Array.isArray(t)){var r=t[e];return r==null?Array.isArray(n)?n[e]:n:r}return t}function Vp(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function hb(t,e){return typeof t=="function"?t.apply(void 0,e):t}function db(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function r_(t){return t.split(/\s+/).filter(Boolean)}function xi(t){return[].concat(t)}function mb(t,e){t.indexOf(e)===-1&&t.push(e)}function o_(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function i_(t){return t.split("-")[0]}function Zl(t){return[].slice.call(t)}function vb(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Xs(){return document.createElement("div")}function ec(t){return["Element","Fragment"].some(function(e){return Vp(t,e)})}function s_(t){return Vp(t,"NodeList")}function a_(t){return Vp(t,"MouseEvent")}function l_(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function c_(t){return ec(t)?[t]:s_(t)?Zl(t):Array.isArray(t)?t:Zl(document.querySelectorAll(t))}function jp(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function gb(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function u_(t){var e,n=xi(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function f_(t,e){var n=e.clientX,r=e.clientY;return t.every(function(o){var i=o.popperRect,s=o.popperState,a=o.props,l=a.interactiveBorder,c=i_(s.placement),u=s.modifiersData.offset;if(!u)return!0;var f=c==="bottom"?u.top.y:0,p=c==="top"?u.bottom.y:0,h=c==="right"?u.left.x:0,d=c==="left"?u.right.x:0,y=i.top-r+f>l,v=r-i.bottom-p>l,b=i.left-n+h>l,g=n-i.right-d>l;return y||v||b||g})}function Wp(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(o){t[r](o,n)})}function yb(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var qn={isTouch:!1},bb=0;function p_(){qn.isTouch||(qn.isTouch=!0,window.performance&&document.addEventListener("mousemove",Sb))}function Sb(){var t=performance.now();t-bb<20&&(qn.isTouch=!1,document.removeEventListener("mousemove",Sb)),bb=t}function h_(){var t=document.activeElement;if(l_(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function d_(){document.addEventListener("touchstart",p_,No),window.addEventListener("blur",h_)}var m_=typeof window!="undefined"&&typeof document!="undefined",v_=m_?!!window.msCrypto:!1,g_={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},y_={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},In=Object.assign({appendTo:pb,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},g_,y_),b_=Object.keys(In),S_=function(e){var n=Object.keys(e);n.forEach(function(r){In[r]=e[r]})};function wb(t){var e=t.plugins||[],n=e.reduce(function(r,o){var i=o.name,s=o.defaultValue;if(i){var a;r[i]=t[i]!==void 0?t[i]:(a=In[i])!=null?a:s}return r},{});return Object.assign({},t,n)}function w_(t,e){var n=e?Object.keys(wb(Object.assign({},In,{plugins:e}))):b_,r=n.reduce(function(o,i){var s=(t.getAttribute("data-tippy-"+i)||"").trim();if(!s)return o;if(i==="content")o[i]=s;else try{o[i]=JSON.parse(s)}catch{o[i]=s}return o},{});return r}function Cb(t,e){var n=Object.assign({},e,{content:hb(e.content,[t])},e.ignoreAttributes?{}:w_(t,e.plugins));return n.aria=Object.assign({},In.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var C_=function(){return"innerHTML"};function Jp(t,e){t[C_()]=e}function kb(t){var e=Xs();return t===!0?e.className=ub:(e.className=fb,ec(t)?e.appendChild(t):Jp(e,t)),e}function Eb(t,e){ec(e.content)?(Jp(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Jp(t,e.content):t.textContent=e.content)}function Kp(t){var e=t.firstElementChild,n=Zl(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(cb)}),arrow:n.find(function(r){return r.classList.contains(ub)||r.classList.contains(fb)}),backdrop:n.find(function(r){return r.classList.contains(n_)})}}function Ob(t){var e=Xs(),n=Xs();n.className=t_,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Xs();r.className=cb,r.setAttribute("data-state","hidden"),Eb(r,t.props),e.appendChild(n),n.appendChild(r),o(t.props,t.props);function o(i,s){var a=Kp(e),l=a.box,c=a.content,u=a.arrow;s.theme?l.setAttribute("data-theme",s.theme):l.removeAttribute("data-theme"),typeof s.animation=="string"?l.setAttribute("data-animation",s.animation):l.removeAttribute("data-animation"),s.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?l.setAttribute("role",s.role):l.removeAttribute("role"),(i.content!==s.content||i.allowHTML!==s.allowHTML)&&Eb(c,t.props),s.arrow?u?i.arrow!==s.arrow&&(l.removeChild(u),l.appendChild(kb(s.arrow))):l.appendChild(kb(s.arrow)):u&&l.removeChild(u)}return{popper:e,onUpdate:o}}Ob.$$tippy=!0;var k_=1,tc=[],Up=[];function E_(t,e){var n=Cb(t,Object.assign({},In,wb(vb(e)))),r,o,i,s=!1,a=!1,l=!1,c=!1,u,f,p,h=[],d=db(E,n.interactiveDebounce),y,v=k_++,b=null,g=o_(n.plugins),S={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},m={id:v,reference:t,popper:Xs(),popperInstance:b,props:n,state:S,plugins:g,clearDelayTimeouts:ue,setProps:be,setContent:Pe,show:Ie,hide:Be,hideWithInteractivity:Xt,enable:Y,disable:ie,unmount:dr,destroy:ca};if(!n.render)return m;var O=n.render(m),C=O.popper,k=O.onUpdate;C.setAttribute("data-tippy-root",""),C.id="tippy-"+m.id,m.popper=C,t._tippy=m,C._tippy=m;var M=g.map(function(_){return _.fn(m)}),T=t.hasAttribute("aria-expanded");return he(),at(),Z(),se("onCreate",[m]),n.showOnCreate&&L(),C.addEventListener("mouseenter",function(){m.props.interactive&&m.state.isVisible&&m.clearDelayTimeouts()}),C.addEventListener("mouseleave",function(){m.props.interactive&&m.props.trigger.indexOf("mouseenter")>=0&&U().addEventListener("mousemove",d)}),m;function R(){var _=m.props.touch;return Array.isArray(_)?_:[_,0]}function V(){return R()[0]==="hold"}function N(){var _;return!!((_=m.props.render)!=null&&_.$$tippy)}function x(){return y||t}function U(){var _=x().parentNode;return _?u_(_):document}function ce(){return Kp(C)}function Q(_){return m.state.isMounted&&!m.state.isVisible||qn.isTouch||u&&u.type==="focus"?0:Hp(m.props.delay,_?0:1,In.delay)}function Z(_){_===void 0&&(_=!1),C.style.pointerEvents=m.props.interactive&&!_?"":"none",C.style.zIndex=""+m.props.zIndex}function se(_,ee,oe){if(oe===void 0&&(oe=!0),M.forEach(function(Se){Se[_]&&Se[_].apply(Se,ee)}),oe){var ve;(ve=m.props)[_].apply(ve,ee)}}function We(){var _=m.props.aria;if(!!_.content){var ee="aria-"+_.content,oe=C.id,ve=xi(m.props.triggerTarget||t);ve.forEach(function(Se){var Nt=Se.getAttribute(ee);if(m.state.isVisible)Se.setAttribute(ee,Nt?Nt+" "+oe:oe);else{var pn=Nt&&Nt.replace(oe,"").trim();pn?Se.setAttribute(ee,pn):Se.removeAttribute(ee)}})}}function at(){if(!(T||!m.props.aria.expanded)){var _=xi(m.props.triggerTarget||t);_.forEach(function(ee){m.props.interactive?ee.setAttribute("aria-expanded",m.state.isVisible&&ee===x()?"true":"false"):ee.removeAttribute("aria-expanded")})}}function lt(){U().removeEventListener("mousemove",d),tc=tc.filter(function(_){return _!==d})}function qe(_){if(!(qn.isTouch&&(l||_.type==="mousedown"))){var ee=_.composedPath&&_.composedPath()[0]||_.target;if(!(m.props.interactive&&yb(C,ee))){if(xi(m.props.triggerTarget||t).some(function(oe){return yb(oe,ee)})){if(qn.isTouch||m.state.isVisible&&m.props.trigger.indexOf("click")>=0)return}else se("onClickOutside",[m,_]);m.props.hideOnClick===!0&&(m.clearDelayTimeouts(),m.hide(),a=!0,setTimeout(function(){a=!1}),m.state.isMounted||G())}}}function Xe(){l=!0}function Yt(){l=!1}function P(){var _=U();_.addEventListener("mousedown",qe,!0),_.addEventListener("touchend",qe,No),_.addEventListener("touchstart",Yt,No),_.addEventListener("touchmove",Xe,No)}function G(){var _=U();_.removeEventListener("mousedown",qe,!0),_.removeEventListener("touchend",qe,No),_.removeEventListener("touchstart",Yt,No),_.removeEventListener("touchmove",Xe,No)}function W(_,ee){Me(_,function(){!m.state.isVisible&&C.parentNode&&C.parentNode.contains(C)&&ee()})}function X(_,ee){Me(_,ee)}function Me(_,ee){var oe=ce().box;function ve(Se){Se.target===oe&&(Wp(oe,"remove",ve),ee())}if(_===0)return ee();Wp(oe,"remove",f),Wp(oe,"add",ve),f=ve}function ke(_,ee,oe){oe===void 0&&(oe=!1);var ve=xi(m.props.triggerTarget||t);ve.forEach(function(Se){Se.addEventListener(_,ee,oe),h.push({node:Se,eventType:_,handler:ee,options:oe})})}function he(){V()&&(ke("touchstart",w,{passive:!0}),ke("touchend",A,{passive:!0})),r_(m.props.trigger).forEach(function(_){if(_!=="manual")switch(ke(_,w),_){case"mouseenter":ke("mouseleave",A);break;case"focus":ke(v_?"focusout":"blur",F);break;case"focusin":ke("focusout",F);break}})}function fe(){h.forEach(function(_){var ee=_.node,oe=_.eventType,ve=_.handler,Se=_.options;ee.removeEventListener(oe,ve,Se)}),h=[]}function w(_){var ee,oe=!1;if(!(!m.state.isEnabled||D(_)||a)){var ve=((ee=u)==null?void 0:ee.type)==="focus";u=_,y=_.currentTarget,at(),!m.state.isVisible&&a_(_)&&tc.forEach(function(Se){return Se(_)}),_.type==="click"&&(m.props.trigger.indexOf("mouseenter")<0||s)&&m.props.hideOnClick!==!1&&m.state.isVisible?oe=!0:L(_),_.type==="click"&&(s=!oe),oe&&!ve&&re(_)}}function E(_){var ee=_.target,oe=x().contains(ee)||C.contains(ee);if(!(_.type==="mousemove"&&oe)){var ve=H().concat(C).map(function(Se){var Nt,pn=Se._tippy,Io=(Nt=pn.popperInstance)==null?void 0:Nt.state;return Io?{popperRect:Se.getBoundingClientRect(),popperState:Io,props:n}:null}).filter(Boolean);f_(ve,_)&&(lt(),re(_))}}function A(_){var ee=D(_)||m.props.trigger.indexOf("click")>=0&&s;if(!ee){if(m.props.interactive){m.hideWithInteractivity(_);return}re(_)}}function F(_){m.props.trigger.indexOf("focusin")<0&&_.target!==x()||m.props.interactive&&_.relatedTarget&&C.contains(_.relatedTarget)||re(_)}function D(_){return qn.isTouch?V()!==_.type.indexOf("touch")>=0:!1}function j(){K();var _=m.props,ee=_.popperOptions,oe=_.placement,ve=_.offset,Se=_.getReferenceClientRect,Nt=_.moveTransition,pn=N()?Kp(C).arrow:null,Io=Se?{getBoundingClientRect:Se,contextElement:Se.contextElement||x()}:t,gh={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(ua){var Do=ua.state;if(N()){var yS=ce(),yc=yS.box;["placement","reference-hidden","escaped"].forEach(function(fa){fa==="placement"?yc.setAttribute("data-placement",Do.placement):Do.attributes.popper["data-popper-"+fa]?yc.setAttribute("data-"+fa,""):yc.removeAttribute("data-"+fa)}),Do.attributes.popper={}}}},Qr=[{name:"offset",options:{offset:ve}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Nt}},gh];N()&&pn&&Qr.push({name:"arrow",options:{element:pn,padding:3}}),Qr.push.apply(Qr,(ee==null?void 0:ee.modifiers)||[]),m.popperInstance=e_(Io,C,Object.assign({},ee,{placement:oe,onFirstUpdate:p,modifiers:Qr}))}function K(){m.popperInstance&&(m.popperInstance.destroy(),m.popperInstance=null)}function z(){var _=m.props.appendTo,ee,oe=x();m.props.interactive&&_===pb||_==="parent"?ee=oe.parentNode:ee=hb(_,[oe]),ee.contains(C)||ee.appendChild(C),m.state.isMounted=!0,j()}function H(){return Zl(C.querySelectorAll("[data-tippy-root]"))}function L(_){m.clearDelayTimeouts(),_&&se("onTrigger",[m,_]),P();var ee=Q(!0),oe=R(),ve=oe[0],Se=oe[1];qn.isTouch&&ve==="hold"&&Se&&(ee=Se),ee?r=setTimeout(function(){m.show()},ee):m.show()}function re(_){if(m.clearDelayTimeouts(),se("onUntrigger",[m,_]),!m.state.isVisible){G();return}if(!(m.props.trigger.indexOf("mouseenter")>=0&&m.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(_.type)>=0&&s)){var ee=Q(!1);ee?o=setTimeout(function(){m.state.isVisible&&m.hide()},ee):i=requestAnimationFrame(function(){m.hide()})}}function Y(){m.state.isEnabled=!0}function ie(){m.hide(),m.state.isEnabled=!1}function ue(){clearTimeout(r),clearTimeout(o),cancelAnimationFrame(i)}function be(_){if(!m.state.isDestroyed){se("onBeforeUpdate",[m,_]),fe();var ee=m.props,oe=Cb(t,Object.assign({},ee,vb(_),{ignoreAttributes:!0}));m.props=oe,he(),ee.interactiveDebounce!==oe.interactiveDebounce&&(lt(),d=db(E,oe.interactiveDebounce)),ee.triggerTarget&&!oe.triggerTarget?xi(ee.triggerTarget).forEach(function(ve){ve.removeAttribute("aria-expanded")}):oe.triggerTarget&&t.removeAttribute("aria-expanded"),at(),Z(),k&&k(ee,oe),m.popperInstance&&(j(),H().forEach(function(ve){requestAnimationFrame(ve._tippy.popperInstance.forceUpdate)})),se("onAfterUpdate",[m,_])}}function Pe(_){m.setProps({content:_})}function Ie(){var _=m.state.isVisible,ee=m.state.isDestroyed,oe=!m.state.isEnabled,ve=qn.isTouch&&!m.props.touch,Se=Hp(m.props.duration,0,In.duration);if(!(_||ee||oe||ve)&&!x().hasAttribute("disabled")&&(se("onShow",[m],!1),m.props.onShow(m)!==!1)){if(m.state.isVisible=!0,N()&&(C.style.visibility="visible"),Z(),P(),m.state.isMounted||(C.style.transition="none"),N()){var Nt=ce(),pn=Nt.box,Io=Nt.content;jp([pn,Io],0)}p=function(){var Qr;if(!(!m.state.isVisible||c)){if(c=!0,C.offsetHeight,C.style.transition=m.props.moveTransition,N()&&m.props.animation){var gc=ce(),ua=gc.box,Do=gc.content;jp([ua,Do],Se),gb([ua,Do],"visible")}We(),at(),mb(Up,m),(Qr=m.popperInstance)==null||Qr.forceUpdate(),se("onMount",[m]),m.props.animation&&N()&&X(Se,function(){m.state.isShown=!0,se("onShown",[m])})}},z()}}function Be(){var _=!m.state.isVisible,ee=m.state.isDestroyed,oe=!m.state.isEnabled,ve=Hp(m.props.duration,1,In.duration);if(!(_||ee||oe)&&(se("onHide",[m],!1),m.props.onHide(m)!==!1)){if(m.state.isVisible=!1,m.state.isShown=!1,c=!1,s=!1,N()&&(C.style.visibility="hidden"),lt(),G(),Z(!0),N()){var Se=ce(),Nt=Se.box,pn=Se.content;m.props.animation&&(jp([Nt,pn],ve),gb([Nt,pn],"hidden"))}We(),at(),m.props.animation?N()&&W(ve,m.unmount):m.unmount()}}function Xt(_){U().addEventListener("mousemove",d),mb(tc,d),d(_)}function dr(){m.state.isVisible&&m.hide(),!!m.state.isMounted&&(K(),H().forEach(function(_){_._tippy.unmount()}),C.parentNode&&C.parentNode.removeChild(C),Up=Up.filter(function(_){return _!==m}),m.state.isMounted=!1,se("onHidden",[m]))}function ca(){m.state.isDestroyed||(m.clearDelayTimeouts(),m.unmount(),fe(),delete t._tippy,m.state.isDestroyed=!0,se("onDestroy",[m]))}}function Ti(t,e){e===void 0&&(e={});var n=In.plugins.concat(e.plugins||[]);d_();var r=Object.assign({},e,{plugins:n}),o=c_(t),i=o.reduce(function(s,a){var l=a&&E_(a,r);return l&&s.push(l),s},[]);return ec(t)?i[0]:i}Ti.defaultProps=In;Ti.setDefaultProps=S_;Ti.currentInput=qn;Object.assign({},q0,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Ti.setDefaultProps({render:Ob});class O_{constructor({editor:e,element:n,view:r,tippyOptions:o={},shouldShow:i}){this.preventHide=!1,this.shouldShow=({state:s,from:a,to:l})=>{const{doc:c,selection:u}=s,{empty:f}=u,p=!c.textBetween(a,l).length&&T0(s.selection);return!(f||p)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:s})=>{var a;if(this.preventHide){this.preventHide=!1;return}(s==null?void 0:s.relatedTarget)&&((a=this.element.parentNode)===null||a===void 0?void 0:a.contains(s.relatedTarget))||this.hide()},this.editor=e,this.element=n,this.view=r,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=o,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=Ti(e,B({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle"},this.tippyOptions)))}update(e,n){var r,o;const{state:i,composing:s}=e,{doc:a,selection:l}=i,c=n&&n.doc.eq(a)&&n.selection.eq(l);if(s||c)return;this.createTooltip();const{ranges:u}=l,f=Math.min(...u.map(d=>d.$from.pos)),p=Math.max(...u.map(d=>d.$to.pos));if(!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:e,state:i,oldState:n,from:f,to:p}))){this.hide();return}(o=this.tippy)===null||o===void 0||o.setProps({getReferenceClientRect:()=>{if(GA(i.selection)){const d=e.nodeDOM(f);if(d)return d.getBoundingClientRect()}return j0(e,f,p)}}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e;(e=this.tippy)===null||e===void 0||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Mb=t=>new Dt({key:typeof t.pluginKey=="string"?new An(t.pluginKey):t.pluginKey,view:e=>new O_(B({view:e},t))});ot.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Mb({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});class M_{constructor({editor:e,element:n,view:r,tippyOptions:o={},shouldShow:i}){this.preventHide=!1,this.shouldShow=({state:s})=>{const{selection:a}=s,{$anchor:l,empty:c}=a,u=l.depth===1,f=l.parent.isTextblock&&!l.parent.type.spec.code&&!l.parent.textContent;return!(!c||!u||!f)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:s})=>{var a;if(this.preventHide){this.preventHide=!1;return}(s==null?void 0:s.relatedTarget)&&((a=this.element.parentNode)===null||a===void 0?void 0:a.contains(s.relatedTarget))||this.hide()},this.editor=e,this.element=n,this.view=r,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=o,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=Ti(e,B({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle"},this.tippyOptions)))}update(e,n){var r,o;const{state:i}=e,{doc:s,selection:a}=i,{from:l,to:c}=a;if(n&&n.doc.eq(s)&&n.selection.eq(a))return;if(this.createTooltip(),!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:e,state:i,oldState:n}))){this.hide();return}(o=this.tippy)===null||o===void 0||o.setProps({getReferenceClientRect:()=>j0(e,l,c)}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e;(e=this.tippy)===null||e===void 0||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const xb=t=>new Dt({key:typeof t.pluginKey=="string"?new An(t.pluginKey):t.pluginKey,view:e=>new M_(B({view:e},t))});ot.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[xb({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});jt({name:"BubbleMenu",props:{pluginKey:{type:null,default:"bubbleMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(t,{slots:e}){const n=Zn(null);return tr(()=>{const{pluginKey:r,editor:o,tippyOptions:i,shouldShow:s}=t;o.registerPlugin(Mb({pluginKey:r,editor:o,element:n.value,tippyOptions:i,shouldShow:s}))}),wr(()=>{const{pluginKey:r,editor:o}=t;o.unregisterPlugin(r)}),()=>{var r;return Tn("div",{ref:n},(r=e.default)===null||r===void 0?void 0:r.call(e))}}});function Tb(t){return Xh((e,n)=>({get(){return e(),t},set(r){t=r,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class x_ extends qA{constructor(e={}){super(e);return this.vueRenderers=Sr(new Map),this.contentComponent=null,this.reactiveState=Tb(this.view.state),this.reactiveExtensionStorage=Tb(this.extensionStorage),this.on("transaction",()=>{this.reactiveState.value=this.view.state,this.reactiveExtensionStorage.value=this.extensionStorage}),Ta(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,n){super.registerPlugin(e,n),this.reactiveState.value=this.view.state}unregisterPlugin(e){super.unregisterPlugin(e),this.reactiveState.value=this.view.state}}const fI=jt({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(t){const e=Zn(),n=rr();return rm(()=>{const r=t.editor;r&&r.options.element&&e.value&&ts(()=>{if(!e.value||!r.options.element.firstChild)return;const o=ao(e.value);e.value.append(...r.options.element.childNodes),r.contentComponent=n.ctx._,r.setOptions({element:o}),r.createNodeViews()})}),wr(()=>{const r=t.editor;if(!r||(r.isDestroyed||r.view.setProps({nodeViews:{}}),r.contentComponent=null,!r.options.element.firstChild))return;const o=document.createElement("div");o.append(...r.options.element.childNodes),r.setOptions({element:o})}),{rootEl:e}},render(){const t=[];return this.editor&&this.editor.vueRenderers.forEach(e=>{const n=Tn(Id,{to:e.teleportElement,key:e.id},Tn(e.component,B({ref:e.id},e.props)));t.push(n)}),Tn("div",{ref:e=>{this.rootEl=e}},...t)}});jt({name:"FloatingMenu",props:{pluginKey:{type:null,default:"floatingMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(t,{slots:e}){const n=Zn(null);return tr(()=>{const{pluginKey:r,editor:o,tippyOptions:i,shouldShow:s}=t;o.registerPlugin(xb({pluginKey:r,editor:o,element:n.value,tippyOptions:i,shouldShow:s}))}),wr(()=>{const{pluginKey:r,editor:o}=t;o.unregisterPlugin(r)}),()=>{var r;return Tn("div",{ref:n},(r=e.default)===null||r===void 0?void 0:r.call(e))}}});const pI=(t={})=>{const e=Dc();return tr(()=>{e.value=new x_(t)}),wr(()=>{var n;(n=e.value)===null||n===void 0||n.destroy()}),e};jt({props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var t,e;return Tn(this.as,{class:this.decorationClasses.value,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t))}});jt({props:{as:{type:String,default:"div"}},render(){return Tn(this.as,{style:{whiteSpace:"pre-wrap"},"data-node-view-content":""})}});const T_=/^\s*>\s$/,N_=Bt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",xt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Pp({find:T_,type:this.type})]}}),A_=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,R_=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,__=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,P_=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,I_=Kr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",xt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Si({find:A_,type:this.type}),Si({find:__,type:this.type})]},addPasteRules(){return[wi({find:R_,type:this.type}),wi({find:P_,type:this.type})]}}),D_=/^\s*([-+*])\s$/,F_=Bt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",xt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[Pp({find:D_,type:this.type})]}}),B_=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,L_=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,z_=Kr.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",xt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Si({find:B_,type:this.type})]},addPasteRules(){return[wi({find:L_,type:this.type})]}}),$_=/^```(?<language>[a-z]*)?[\s\n]$/,H_=/^~~~(?<language>[a-z]*)?[\s\n]$/,V_=Bt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,i=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return i||null},renderHTML:t=>t.language?{class:this.options.languageClassPrefix+t.language}:null}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({HTMLAttributes:t}){return["pre",this.options.HTMLAttributes,["code",t,0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{const{state:e}=t,{selection:n}=e,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!i||!s?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()}}},addInputRules(){return[_p({find:$_,type:this.type,getAttributes:({groups:t})=>t}),_p({find:H_,type:this.type,getAttributes:({groups:t})=>t})]},addProseMirrorPlugins(){return[new Dt({key:new An("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,i=o==null?void 0:o.mode;if(!n||!i)return!1;const{tr:s}=t.state;return s.replaceSelectionWith(this.type.create({language:i})),s.setSelection(xe.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(n.replace(/\r\n?/g,`
`)),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),j_=Bt.create({name:"doc",topNode:!0,content:"block+"});function W_(t){return t===void 0&&(t={}),new Dt({view:function(n){return new Gn(n,t)}})}var Gn=function(e,n){var r=this;this.editorView=e,this.width=n.width||1,this.color=n.color||"black",this.class=n.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map(function(o){var i=function(s){return r[o](s)};return e.dom.addEventListener(o,i),{name:o,handler:i}})};Gn.prototype.destroy=function(){var e=this;this.handlers.forEach(function(n){var r=n.name,o=n.handler;return e.editorView.dom.removeEventListener(r,o)})};Gn.prototype.update=function(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())};Gn.prototype.setCursor=function(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())};Gn.prototype.updateOverlay=function(){var e=this.editorView.state.doc.resolve(this.cursorPos),n;if(!e.parent.inlineContent){var r=e.nodeBefore,o=e.nodeAfter;if(r||o){var i=this.editorView.nodeDOM(this.cursorPos-(r?r.nodeSize:0)).getBoundingClientRect(),s=r?i.bottom:i.top;r&&o&&(s=(s+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:i.left,right:i.right,top:s-this.width/2,bottom:s+this.width/2}}}if(!n){var a=this.editorView.coordsAtPos(this.cursorPos);n={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}var l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);var c,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,u=-pageYOffset;else{var f=l.getBoundingClientRect();c=f.left-l.scrollLeft,u=f.top-l.scrollTop}this.element.style.left=n.left-c+"px",this.element.style.top=n.top-u+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"};Gn.prototype.scheduleRemoval=function(e){var n=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){return n.setCursor(null)},e)};Gn.prototype.dragover=function(e){if(!!this.editorView.editable){var n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),o=r&&r.type.spec.disableDropCursor,i=typeof o=="function"?o(this.editorView,n):o;if(n&&!i){var s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(s=Jg(this.editorView.state.doc,s,this.editorView.dragging.slice),s==null))return this.setCursor(null);this.setCursor(s),this.scheduleRemoval(5e3)}}};Gn.prototype.dragend=function(){this.scheduleRemoval(20)};Gn.prototype.drop=function(){this.scheduleRemoval(20)};Gn.prototype.dragleave=function(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)};const J_=ot.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:null}},addProseMirrorPlugins(){return[W_(this.options)]}});var Dn=function(t){function e(n){t.call(this,n,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(r,o){var i=r.resolve(o.map(this.head));return e.valid(i)?new e(i):t.near(i)},e.prototype.content=function(){return q.empty},e.prototype.eq=function(r){return r instanceof e&&r.head==this.head},e.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},e.fromJSON=function(r,o){if(typeof o.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new e(r.resolve(o.pos))},e.prototype.getBookmark=function(){return new nc(this.anchor)},e.valid=function(r){var o=r.parent;if(o.isTextblock||!K_(r)||!U_(r))return!1;var i=o.type.spec.allowGapCursor;if(i!=null)return i;var s=o.contentMatchAt(r.index()).defaultType;return s&&s.isTextblock},e.findFrom=function(r,o,i){e:for(;;){if(!i&&e.valid(r))return r;for(var s=r.pos,a=null,l=r.depth;;l--){var c=r.node(l);if(o>0?r.indexAfter(l)<c.childCount:r.index(l)>0){a=c.child(o>0?r.indexAfter(l):r.index(l)-1);break}else if(l==0)return null;s+=o;var u=r.doc.resolve(s);if(e.valid(u))return u}for(;;){var f=o>0?a.firstChild:a.lastChild;if(!f){if(a.isAtom&&!a.isText&&!me.isSelectable(a)){r=r.doc.resolve(s+a.nodeSize*o),i=!1;continue e}break}a=f,s+=o;var p=r.doc.resolve(s);if(e.valid(p))return p}return null}},e}(de);Dn.prototype.visible=!1;de.jsonID("gapcursor",Dn);var nc=function(e){this.pos=e};nc.prototype.map=function(e){return new nc(e.map(this.pos))};nc.prototype.resolve=function(e){var n=e.resolve(this.pos);return Dn.valid(n)?new Dn(n):de.near(n)};function K_(t){for(var e=t.depth;e>=0;e--){var n=t.index(e);if(n!=0)for(var r=t.node(e).child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function U_(t){for(var e=t.depth;e>=0;e--){var n=t.indexAfter(e),r=t.node(e);if(n!=r.childCount)for(var o=r.child(n);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}var q_=function(){return new Dt({props:{decorations:X_,createSelectionBetween:function(e,n,r){if(n.pos==r.pos&&Dn.valid(r))return new Dn(r)},handleClick:Y_,handleKeyDown:G_}})},G_=E0({ArrowLeft:rc("horiz",-1),ArrowRight:rc("horiz",1),ArrowUp:rc("vert",-1),ArrowDown:rc("vert",1)});function rc(t,e){var n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,o,i){var s=r.selection,a=e>0?s.$to:s.$from,l=s.empty;if(s instanceof xe){if(!i.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}var c=Dn.findFrom(a,e,l);return c?(o&&o(r.tr.setSelection(new Dn(c))),!0):!1}}function Y_(t,e,n){if(!t.editable)return!1;var r=t.state.doc.resolve(e);if(!Dn.valid(r))return!1;var o=t.posAtCoords({left:n.clientX,top:n.clientY}),i=o.inside;return i>-1&&me.isSelectable(t.state.doc.nodeAt(i))?!1:(t.dispatch(t.state.tr.setSelection(new Dn(r))),!0)}function X_(t){if(!(t.selection instanceof Dn))return null;var e=document.createElement("div");return e.className="ProseMirror-gapcursor",Fe.create(t.doc,[rt.widget(t.selection.head,e,{key:"gapcursor"})])}const Q_=ot.create({name:"gapCursor",addProseMirrorPlugins(){return[q_()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=ye(ne(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),Z_=Bt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",xt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:o,storedMarks:i}=n;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,l=i||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&s){const f=l.filter(p=>a.includes(p.type.name));c.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),eP=Bt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,xt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>Vt(B({},t),{[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>_p({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var oc=200,mt=function(){};mt.prototype.append=function(e){return e.length?(e=mt.from(e),!this.length&&e||e.length<oc&&this.leafAppend(e)||this.length<oc&&e.leafPrepend(this)||this.appendInner(e)):this};mt.prototype.prepend=function(e){return e.length?mt.from(e).append(this):this};mt.prototype.appendInner=function(e){return new tP(this,e)};mt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?mt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};mt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};mt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};mt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(i,s){return o.push(e(i,s))},n,r),o};mt.from=function(e){return e instanceof mt?e:e&&e.length?new Nb(e):mt.empty};var Nb=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,i){return o==0&&i==this.length?this:new e(this.values.slice(o,i))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,i,s,a){for(var l=i;l<s;l++)if(o(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(o,i,s,a){for(var l=i-1;l>=s;l--)if(o(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=oc)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=oc)return new e(o.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(mt);mt.empty=new Nb([]);var tP=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,o,i,s){var a=this.left.length;if(o<a&&this.left.forEachInner(r,o,Math.min(i,a),s)===!1||i>a&&this.right.forEachInner(r,Math.max(o-a,0),Math.min(this.length,i)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,i,s){var a=this.left.length;if(o>a&&this.right.forEachInvertedInner(r,o-a,Math.max(i,a)-a,s+a)===!1||i<a&&this.left.forEachInvertedInner(r,Math.min(o,a),i,s)===!1)return!1},e.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var i=this.left.length;return o<=i?this.left.slice(r,o):r>=i?this.right.slice(r-i,o-i):this.left.slice(r,i).append(this.right.slice(0,o-i))},e.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new e(o,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(mt),Ab=mt,nP=500,vt=function(e,n){this.items=e,this.eventCount=n};vt.prototype.popEvent=function(e,n){var r=this;if(this.eventCount==0)return null;for(var o=this.items.length;;o--){var i=this.items.get(o-1);if(i.selection){--o;break}}var s,a;n&&(s=this.remapping(o,this.items.length),a=s.maps.length);var l=e.tr,c,u,f=[],p=[];return this.items.forEach(function(h,d){if(!h.step){s||(s=r.remapping(o,d+1),a=s.maps.length),a--,p.push(h);return}if(s){p.push(new Yn(h.map));var y=h.step.map(s.slice(a)),v;y&&l.maybeStep(y).doc&&(v=l.mapping.maps[l.mapping.maps.length-1],f.push(new Yn(v,null,null,f.length+p.length))),a--,v&&s.appendMap(v,a)}else l.maybeStep(h.step);if(h.selection)return c=s?h.selection.map(s.slice(a)):h.selection,u=new vt(r.items.slice(0,o).append(p.reverse().concat(f)),r.eventCount-1),!1},this.items.length,0),{remaining:u,transform:l,selection:c}};vt.prototype.addTransform=function(e,n,r,o){for(var i=[],s=this.eventCount,a=this.items,l=!o&&a.length?a.get(a.length-1):null,c=0;c<e.steps.length;c++){var u=e.steps[c].invert(e.docs[c]),f=new Yn(e.mapping.maps[c],u,n),p=void 0;(p=l&&l.merge(f))&&(f=p,c?i.pop():a=a.slice(0,a.length-1)),i.push(f),n&&(s++,n=null),o||(l=f)}var h=s-r.depth;return h>oP&&(a=rP(a,h),s-=h),new vt(a.append(i),s)};vt.prototype.remapping=function(e,n){var r=new Et;return this.items.forEach(function(o,i){var s=o.mirrorOffset!=null&&i-o.mirrorOffset>=e?r.maps.length-o.mirrorOffset:null;r.appendMap(o.map,s)},e,n),r};vt.prototype.addMaps=function(e){return this.eventCount==0?this:new vt(this.items.append(e.map(function(n){return new Yn(n)})),this.eventCount)};vt.prototype.rebased=function(e,n){if(!this.eventCount)return this;var r=[],o=Math.max(0,this.items.length-n),i=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(function(h){h.selection&&a--},o);var l=n;this.items.forEach(function(h){var d=i.getMirror(--l);if(d!=null){s=Math.min(s,d);var y=i.maps[d];if(h.step){var v=e.steps[d].invert(e.docs[d]),b=h.selection&&h.selection.map(i.slice(l+1,d));b&&a++,r.push(new Yn(y,v,b))}else r.push(new Yn(y))}},o);for(var c=[],u=n;u<s;u++)c.push(new Yn(i.maps[u]));var f=this.items.slice(0,o).append(c).append(r),p=new vt(f,a);return p.emptyItemCount()>nP&&(p=p.compress(this.items.length-r.length)),p};vt.prototype.emptyItemCount=function(){var e=0;return this.items.forEach(function(n){n.step||e++}),e};vt.prototype.compress=function(e){e===void 0&&(e=this.items.length);var n=this.remapping(0,e),r=n.maps.length,o=[],i=0;return this.items.forEach(function(s,a){if(a>=e)o.push(s),s.selection&&i++;else if(s.step){var l=s.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){var u=s.selection&&s.selection.map(n.slice(r));u&&i++;var f=new Yn(c.invert(),l,u),p,h=o.length-1;(p=o.length&&o[h].merge(f))?o[h]=p:o.push(f)}}else s.map&&r--},this.items.length,0),new vt(Ab.from(o.reverse()),i)};vt.empty=new vt(Ab.empty,0);function rP(t,e){var n;return t.forEach(function(r,o){if(r.selection&&e--==0)return n=o,!1}),t.slice(n)}var Yn=function(e,n,r,o){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=o};Yn.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var n=e.step.merge(this.step);if(n)return new Yn(n.getMap().invert(),n,this.selection)}};var qr=function(e,n,r,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=o},oP=20;function iP(t,e,n,r){var o=n.getMeta(Gr),i;if(o)return o.historyState;n.getMeta(aP)&&(t=new qr(t.done,t.undone,null,0));var s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(Gr))return s.getMeta(Gr).redo?new qr(t.done.addTransform(n,null,r,ic(e)),t.undone,Rb(n.mapping.maps[n.steps.length-1]),t.prevTime):new qr(t.done,t.undone.addTransform(n,null,r,ic(e)),null,t.prevTime);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){var a=t.prevTime==0||!s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!sP(n,t.prevRanges)),l=s?qp(t.prevRanges,n.mapping):Rb(n.mapping.maps[n.steps.length-1]);return new qr(t.done.addTransform(n,a?e.selection.getBookmark():null,r,ic(e)),vt.empty,l,n.time)}else return(i=n.getMeta("rebased"))?new qr(t.done.rebased(n,i),t.undone.rebased(n,i),qp(t.prevRanges,n.mapping),t.prevTime):new qr(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),qp(t.prevRanges,n.mapping),t.prevTime)}function sP(t,e){if(!e)return!1;if(!t.docChanged)return!0;var n=!1;return t.mapping.maps[0].forEach(function(r,o){for(var i=0;i<e.length;i+=2)r<=e[i+1]&&o>=e[i]&&(n=!0)}),n}function Rb(t){var e=[];return t.forEach(function(n,r,o,i){return e.push(o,i)}),e}function qp(t,e){if(!t)return null;for(var n=[],r=0;r<t.length;r+=2){var o=e.map(t[r],1),i=e.map(t[r+1],-1);o<=i&&n.push(o,i)}return n}function _b(t,e,n,r){var o=ic(e),i=Gr.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,o);if(!!s){var a=s.selection.resolve(s.transform.doc),l=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,o),c=new qr(r?l:s.remaining,r?s.remaining:l,null,0);n(s.transform.setSelection(a).setMeta(Gr,{redo:r,historyState:c}).scrollIntoView())}}var Gp=!1,Pb=null;function ic(t){var e=t.plugins;if(Pb!=e){Gp=!1,Pb=e;for(var n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Gp=!0;break}}return Gp}var Gr=new An("history"),aP=new An("closeHistory");function lP(t){return t={depth:t&&t.depth||100,newGroupDelay:t&&t.newGroupDelay||500},new Dt({key:Gr,state:{init:function(){return new qr(vt.empty,vt.empty,null,0)},apply:function(n,r,o){return iP(r,o,n,t)}},config:t,props:{handleDOMEvents:{beforeinput:function(n,r){var o=r.inputType=="historyUndo"?Ib(n.state,n.dispatch):r.inputType=="historyRedo"?Db(n.state,n.dispatch):!1;return o&&r.preventDefault(),o}}}})}function Ib(t,e){var n=Gr.getState(t);return!n||n.done.eventCount==0?!1:(e&&_b(n,t,e,!1),!0)}function Db(t,e){var n=Gr.getState(t);return!n||n.undone.eventCount==0?!1:(e&&_b(n,t,e,!0),!0)}const cP=ot.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Ib(t,e),redo:()=>({state:t,dispatch:e})=>Db(t,e)}},addProseMirrorPlugins(){return[lP(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-\u044F":()=>this.editor.commands.undo(),"Shift-Mod-\u044F":()=>this.editor.commands.redo()}}}),uP=Bt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",xt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t})=>t().insertContent({type:this.name}).command(({tr:e,dispatch:n})=>{var r;if(n){const{parent:o,pos:i}=e.selection.$from,s=i+1;if(e.doc.nodeAt(s))e.setSelection(xe.create(e.doc,s));else{const l=(r=o.type.contentMatch.defaultType)===null||r===void 0?void 0:r.create();l&&(e.insert(s,l),e.setSelection(xe.create(e.doc,s)))}e.scrollIntoView()}return!0}).run()}},addInputRules(){return[H0({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),fP=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,pP=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,hP=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,dP=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,mP=Kr.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",xt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Si({find:fP,type:this.type}),Si({find:hP,type:this.type})]},addPasteRules(){return[wi({find:pP,type:this.type}),wi({find:dP,type:this.type})]}}),vP=Bt.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",xt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),gP=/^(\d+)\.\s$/,yP=Bt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const r=t,{start:e}=r,n=wh(r,["start"]);return e===1?["ol",xt(this.options.HTMLAttributes,n),0]:["ol",xt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[Pp({find:gP,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]})]}}),bP=Bt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",xt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),SP=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,wP=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,CP=Kr.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",xt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Si({find:SP,type:this.type})]},addPasteRules(){return[wi({find:wP,type:this.type})]}}),kP=Bt.create({name:"text",group:"inline"}),hI=ot.create({name:"starterKit",addExtensions(){var t,e,n,r,o,i,s,a,l,c,u,f,p,h,d,y,v,b;const g=[];return this.options.blockquote!==!1&&g.push(N_.configure((t=this.options)===null||t===void 0?void 0:t.blockquote)),this.options.bold!==!1&&g.push(I_.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&g.push(F_.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&g.push(z_.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&g.push(V_.configure((o=this.options)===null||o===void 0?void 0:o.codeBlock)),this.options.document!==!1&&g.push(j_.configure((i=this.options)===null||i===void 0?void 0:i.document)),this.options.dropcursor!==!1&&g.push(J_.configure((s=this.options)===null||s===void 0?void 0:s.dropcursor)),this.options.gapcursor!==!1&&g.push(Q_.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&g.push(Z_.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&g.push(eP.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&g.push(cP.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&g.push(uP.configure((f=this.options)===null||f===void 0?void 0:f.horizontalRule)),this.options.italic!==!1&&g.push(mP.configure((p=this.options)===null||p===void 0?void 0:p.italic)),this.options.listItem!==!1&&g.push(vP.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&g.push(yP.configure((d=this.options)===null||d===void 0?void 0:d.orderedList)),this.options.paragraph!==!1&&g.push(bP.configure((y=this.options)===null||y===void 0?void 0:y.paragraph)),this.options.strike!==!1&&g.push(CP.configure((v=this.options)===null||v===void 0?void 0:v.strike)),this.options.text!==!1&&g.push(kP.configure((b=this.options)===null||b===void 0?void 0:b.text)),g}}),dI=Kr.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",xt(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Ep(t,this.type);return Object.entries(n).some(([,o])=>!!o)?!0:e.unsetMark(this.name)}}}}),mI=ot.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily.replace(/['"]+/g,""),renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),vI=ot.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>t.style.color.replace(/['"]+/g,""),renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),EP=/(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))/,gI=Bt.create({name:"image",addOptions(){return{inline:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:"img[src]"}]},renderHTML({HTMLAttributes:t}){return["img",xt(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[H0({find:EP,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),yI=ot.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something \u2026",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Dt({props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,o=[];if(!!n)return t.descendants((i,s)=>{const a=r>=s&&r<=s+i.nodeSize,l=!i.isLeaf&&!i.childCount;if((a||!this.options.showOnlyCurrent)&&l){const c=[this.options.emptyNodeClass];this.editor.isEmpty&&c.push(this.options.emptyEditorClass);const u=rt.node(s,s+i.nodeSize,{class:c.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:i,pos:s}):this.options.placeholder});o.push(u)}return this.options.includeChildren}),Fe.create(t,o)}}})]}});function Fb(t,e,n){for(var r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;var o=t.child(r),i=e.child(r);if(o==i){n+=o.nodeSize;continue}if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(var s=0;o.text[s]==i.text[s];s++)n++;return n}if(o.content.size||i.content.size){var a=Fb(o.content,i.content,n+1);if(a!=null)return a}n+=o.nodeSize}}function Bb(t,e,n,r){for(var o=t.childCount,i=e.childCount;;){if(o==0||i==0)return o==i?null:{a:n,b:r};var s=t.child(--o),a=e.child(--i),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){for(var c=0,u=Math.min(s.text.length,a.text.length);c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){var f=Bb(s.content,a.content,n-1,r-1);if(f)return f}n-=l,r-=l}}var J=function(e,n){if(this.content=e,this.size=n||0,n==null)for(var r=0;r<e.length;r++)this.size+=e[r].nodeSize},sc={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};J.prototype.nodesBetween=function(e,n,r,o,i){o===void 0&&(o=0);for(var s=0,a=0;a<n;s++){var l=this.content[s],c=a+l.nodeSize;if(c>e&&r(l,o+a,i,s)!==!1&&l.content.size){var u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,o+u)}a=c}};J.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)};J.prototype.textBetween=function(e,n,r,o){var i="",s=!0;return this.nodesBetween(e,n,function(a,l){a.isText?(i+=a.text.slice(Math.max(e,l)-l,n-l),s=!r):a.isLeaf&&o?(i+=typeof o=="function"?o(a):o,s=!r):!s&&a.isBlock&&(i+=r,s=!0)},0),i};J.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var n=this.lastChild,r=e.firstChild,o=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)o.push(e.content[i]);return new J(o,this.size+e.size)};J.prototype.cut=function(e,n){if(n==null&&(n=this.size),e==0&&n==this.size)return this;var r=[],o=0;if(n>e)for(var i=0,s=0;s<n;i++){var a=this.content[i],l=s+a.nodeSize;l>e&&((s<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),o+=a.nodeSize),s=l}return new J(r,o)};J.prototype.cutByIndex=function(e,n){return e==n?J.empty:e==0&&n==this.content.length?this:new J(this.content.slice(e,n))};J.prototype.replaceChild=function(e,n){var r=this.content[e];if(r==n)return this;var o=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return o[e]=n,new J(o,i)};J.prototype.addToStart=function(e){return new J([e].concat(this.content),this.size+e.nodeSize)};J.prototype.addToEnd=function(e){return new J(this.content.concat(e),this.size+e.nodeSize)};J.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0};sc.firstChild.get=function(){return this.content.length?this.content[0]:null};sc.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null};sc.childCount.get=function(){return this.content.length};J.prototype.child=function(e){var n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n};J.prototype.maybeChild=function(e){return this.content[e]};J.prototype.forEach=function(e){for(var n=0,r=0;n<this.content.length;n++){var o=this.content[n];e(o,r,n),r+=o.nodeSize}};J.prototype.findDiffStart=function(e,n){return n===void 0&&(n=0),Fb(this,e,n)};J.prototype.findDiffEnd=function(e,n,r){return n===void 0&&(n=this.size),r===void 0&&(r=e.size),Bb(this,e,n,r)};J.prototype.findIndex=function(e,n){if(n===void 0&&(n=-1),e==0)return ac(0,e);if(e==this.size)return ac(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var r=0,o=0;;r++){var i=this.child(r),s=o+i.nodeSize;if(s>=e)return s==e||n>0?ac(r+1,s):ac(r,o);o=s}};J.prototype.toString=function(){return"<"+this.toStringInner()+">"};J.prototype.toStringInner=function(){return this.content.join(", ")};J.prototype.toJSON=function(){return this.content.length?this.content.map(function(e){return e.toJSON()}):null};J.fromJSON=function(e,n){if(!n)return J.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new J(n.map(e.nodeFromJSON))};J.fromArray=function(e){if(!e.length)return J.empty;for(var n,r=0,o=0;o<e.length;o++){var i=e[o];r+=i.nodeSize,o&&i.isText&&e[o-1].sameMarkup(i)?(n||(n=e.slice(0,o)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new J(n||e,r)};J.from=function(e){if(!e)return J.empty;if(e instanceof J)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new J([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))};Object.defineProperties(J.prototype,sc);var Yp={index:0,offset:0};function ac(t,e){return Yp.index=t,Yp.offset=e,Yp}J.empty=new J([],0);function lc(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!lc(t[r],e[r]))return!1}else{for(var o in t)if(!(o in e)||!lc(t[o],e[o]))return!1;for(var i in e)if(!(i in t))return!1}return!0}var Te=function(e,n){this.type=e,this.attrs=n};Te.prototype.addToSet=function(e){for(var n,r=!1,o=0;o<e.length;o++){var i=e[o];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,o));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n};Te.prototype.removeFromSet=function(e){for(var n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e};Te.prototype.isInSet=function(e){for(var n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1};Te.prototype.eq=function(e){return this==e||this.type==e.type&&lc(this.attrs,e.attrs)};Te.prototype.toJSON=function(){var e={type:this.type.name};for(var n in this.attrs){e.attrs=this.attrs;break}return e};Te.fromJSON=function(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");var r=e.marks[n.type];if(!r)throw new RangeError("There is no mark type "+n.type+" in this schema");return r.create(n.attrs)};Te.sameSet=function(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(var r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0};Te.setFrom=function(e){if(!e||e.length==0)return Te.none;if(e instanceof Te)return[e];var n=e.slice();return n.sort(function(r,o){return r.type.rank-o.type.rank}),n};Te.none=[];function Xn(t){var e=Error.call(this,t);return e.__proto__=Xn.prototype,e}Xn.prototype=Object.create(Error.prototype);Xn.prototype.constructor=Xn;Xn.prototype.name="ReplaceError";var ae=function(e,n,r){this.content=e,this.openStart=n,this.openEnd=r},Lb={size:{configurable:!0}};Lb.size.get=function(){return this.content.size-this.openStart-this.openEnd};ae.prototype.insertAt=function(e,n){var r=$b(this.content,e+this.openStart,n,null);return r&&new ae(r,this.openStart,this.openEnd)};ae.prototype.removeBetween=function(e,n){return new ae(zb(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)};ae.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd};ae.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"};ae.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e};ae.fromJSON=function(e,n){if(!n)return ae.empty;var r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ae(J.fromJSON(e,n.content),r,o)};ae.maxOpen=function(e,n){n===void 0&&(n=!0);for(var r=0,o=0,i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(var s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)o++;return new ae(e,r,o)};Object.defineProperties(ae.prototype,Lb);function zb(t,e,n){var r=t.findIndex(e),o=r.index,i=r.offset,s=t.maybeChild(o),a=t.findIndex(n),l=a.index,c=a.offset;if(i==e||s.isText){if(c!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(o!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(o,s.copy(zb(s.content,e-i-1,n-i-1)))}function $b(t,e,n,r){var o=t.findIndex(e),i=o.index,s=o.offset,a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));var l=$b(a.content,e-s-1,n);return l&&t.replaceChild(i,a.copy(l))}ae.empty=new ae(J.empty,0,0);function OP(t,e,n){if(n.openStart>t.depth)throw new Xn("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Xn("Inconsistent open depths");return Hb(t,e,n,0)}function Hb(t,e,n,r){var o=t.index(r),i=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){var s=Hb(t,e,n,r+1);return i.copy(i.content.replaceChild(o,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){var a=t.parent,l=a.content;return Ro(a,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{var c=MP(n,t),u=c.start,f=c.end;return Ro(i,jb(t,u,f,e,r))}else return Ro(i,cc(t,e,r))}function Vb(t,e){if(!e.type.compatibleContent(t.type))throw new Xn("Cannot join "+e.type.name+" onto "+t.type.name)}function Xp(t,e,n){var r=t.node(n);return Vb(r,e.node(n)),r}function Ao(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Qs(t,e,n,r){var o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(Ao(t.nodeAfter,r),i++));for(var a=i;a<s;a++)Ao(o.child(a),r);e&&e.depth==n&&e.textOffset&&Ao(e.nodeBefore,r)}function Ro(t,e){if(!t.type.validContent(e))throw new Xn("Invalid content for node "+t.type.name);return t.copy(e)}function jb(t,e,n,r,o){var i=t.depth>o&&Xp(t,e,o+1),s=r.depth>o&&Xp(n,r,o+1),a=[];return Qs(null,t,o,a),i&&s&&e.index(o)==n.index(o)?(Vb(i,s),Ao(Ro(i,jb(t,e,n,r,o+1)),a)):(i&&Ao(Ro(i,cc(t,e,o+1)),a),Qs(e,n,o,a),s&&Ao(Ro(s,cc(n,r,o+1)),a)),Qs(r,null,o,a),new J(a)}function cc(t,e,n){var r=[];if(Qs(null,t,n,r),t.depth>n){var o=Xp(t,e,n+1);Ao(Ro(o,cc(t,e,n+1)),r)}return Qs(e,null,n,r),new J(r)}function MP(t,e){for(var n=e.depth-t.openStart,r=e.node(n),o=r.copy(t.content),i=n-1;i>=0;i--)o=e.node(i).copy(J.from(o));return{start:o.resolveNoCache(t.openStart+n),end:o.resolveNoCache(o.content.size-t.openEnd-n)}}var Ve=function(e,n,r){this.pos=e,this.path=n,this.depth=n.length/3-1,this.parentOffset=r},Ni={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};Ve.prototype.resolveDepth=function(e){return e==null?this.depth:e<0?this.depth+e:e};Ni.parent.get=function(){return this.node(this.depth)};Ni.doc.get=function(){return this.node(0)};Ve.prototype.node=function(e){return this.path[this.resolveDepth(e)*3]};Ve.prototype.index=function(e){return this.path[this.resolveDepth(e)*3+1]};Ve.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)};Ve.prototype.start=function(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1};Ve.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size};Ve.prototype.before=function(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]};Ve.prototype.after=function(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize};Ni.textOffset.get=function(){return this.pos-this.path[this.path.length-1]};Ni.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r};Ni.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):t==0?null:this.parent.child(t-1)};Ve.prototype.posAtIndex=function(e,n){n=this.resolveDepth(n);for(var r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1,i=0;i<e;i++)o+=r.child(i).nodeSize;return o};Ve.prototype.marks=function(){var e=this.parent,n=this.index();if(e.content.size==0)return Te.none;if(this.textOffset)return e.child(n).marks;var r=e.maybeChild(n-1),o=e.maybeChild(n);if(!r){var i=r;r=o,o=i}for(var s=r.marks,a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!o||!s[a].isInSet(o.marks))&&(s=s[a--].removeFromSet(s));return s};Ve.prototype.marksAcross=function(e){var n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;for(var r=n.marks,o=e.parent.maybeChild(e.index()),i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!o||!r[i].isInSet(o.marks))&&(r=r[i--].removeFromSet(r));return r};Ve.prototype.sharedDepth=function(e){for(var n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0};Ve.prototype.blockRange=function(e,n){if(e===void 0&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Wb(this,e,r)};Ve.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset};Ve.prototype.max=function(e){return e.pos>this.pos?e:this};Ve.prototype.min=function(e){return e.pos<this.pos?e:this};Ve.prototype.toString=function(){for(var e="",n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset};Ve.resolve=function(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");for(var r=[],o=0,i=n,s=e;;){var a=s.content.findIndex(i),l=a.index,c=a.offset,u=i-c;if(r.push(s,l,o+c),!u||(s=s.child(l),s.isText))break;i=u-1,o+=c+1}return new Ve(n,r,i)};Ve.resolveCached=function(e,n){for(var r=0;r<Qp.length;r++){var o=Qp[r];if(o.pos==n&&o.doc==e)return o}var i=Qp[Zp]=Ve.resolve(e,n);return Zp=(Zp+1)%xP,i};Object.defineProperties(Ve.prototype,Ni);var Qp=[],Zp=0,xP=12,Wb=function(e,n,r){this.$from=e,this.$to=n,this.depth=r},Ai={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};Ai.start.get=function(){return this.$from.before(this.depth+1)};Ai.end.get=function(){return this.$to.after(this.depth+1)};Ai.parent.get=function(){return this.$from.node(this.depth)};Ai.startIndex.get=function(){return this.$from.index(this.depth)};Ai.endIndex.get=function(){return this.$to.indexAfter(this.depth)};Object.defineProperties(Wb.prototype,Ai);var TP=Object.create(null),Ne=function(e,n,r,o){this.type=e,this.attrs=n,this.content=r||J.empty,this.marks=o||Te.none},un={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};un.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size};un.childCount.get=function(){return this.content.childCount};Ne.prototype.child=function(e){return this.content.child(e)};Ne.prototype.maybeChild=function(e){return this.content.maybeChild(e)};Ne.prototype.forEach=function(e){this.content.forEach(e)};Ne.prototype.nodesBetween=function(e,n,r,o){o===void 0&&(o=0),this.content.nodesBetween(e,n,r,o,this)};Ne.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)};un.textContent.get=function(){return this.textBetween(0,this.content.size,"")};Ne.prototype.textBetween=function(e,n,r,o){return this.content.textBetween(e,n,r,o)};un.firstChild.get=function(){return this.content.firstChild};un.lastChild.get=function(){return this.content.lastChild};Ne.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)};Ne.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)};Ne.prototype.hasMarkup=function(e,n,r){return this.type==e&&lc(this.attrs,n||e.defaultAttrs||TP)&&Te.sameSet(this.marks,r||Te.none)};Ne.prototype.copy=function(e){return e===void 0&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)};Ne.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)};Ne.prototype.cut=function(e,n){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))};Ne.prototype.slice=function(e,n,r){if(n===void 0&&(n=this.content.size),r===void 0&&(r=!1),e==n)return ae.empty;var o=this.resolve(e),i=this.resolve(n),s=r?0:o.sharedDepth(n),a=o.start(s),l=o.node(s),c=l.content.cut(o.pos-a,i.pos-a);return new ae(c,o.depth-s,i.depth-s)};Ne.prototype.replace=function(e,n,r){return OP(this.resolve(e),this.resolve(n),r)};Ne.prototype.nodeAt=function(e){for(var n=this;;){var r=n.content.findIndex(e),o=r.index,i=r.offset;if(n=n.maybeChild(o),!n)return null;if(i==e||n.isText)return n;e-=i+1}};Ne.prototype.childAfter=function(e){var n=this.content.findIndex(e),r=n.index,o=n.offset;return{node:this.content.maybeChild(r),index:r,offset:o}};Ne.prototype.childBefore=function(e){if(e==0)return{node:null,index:0,offset:0};var n=this.content.findIndex(e),r=n.index,o=n.offset;if(o<e)return{node:this.content.child(r),index:r,offset:o};var i=this.content.child(r-1);return{node:i,index:r-1,offset:o-i.nodeSize}};Ne.prototype.resolve=function(e){return Ve.resolveCached(this,e)};Ne.prototype.resolveNoCache=function(e){return Ve.resolve(this,e)};Ne.prototype.rangeHasMark=function(e,n,r){var o=!1;return n>e&&this.nodesBetween(e,n,function(i){return r.isInSet(i.marks)&&(o=!0),!o}),o};un.isBlock.get=function(){return this.type.isBlock};un.isTextblock.get=function(){return this.type.isTextblock};un.inlineContent.get=function(){return this.type.inlineContent};un.isInline.get=function(){return this.type.isInline};un.isText.get=function(){return this.type.isText};un.isLeaf.get=function(){return this.type.isLeaf};un.isAtom.get=function(){return this.type.isAtom};Ne.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),NP(this.marks,e)};Ne.prototype.contentMatchAt=function(e){var n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n};Ne.prototype.canReplace=function(e,n,r,o,i){r===void 0&&(r=J.empty),o===void 0&&(o=0),i===void 0&&(i=r.childCount);var s=this.contentMatchAt(e).matchFragment(r,o,i),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(var l=o;l<i;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0};Ne.prototype.canReplaceWith=function(e,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;var i=this.contentMatchAt(e).matchType(r),s=i&&i.matchFragment(this.content,n);return s?s.validEnd:!1};Ne.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)};Ne.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var e=Te.none,n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!Te.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map(function(r){return r.type.name}));this.content.forEach(function(r){return r.check()})};Ne.prototype.toJSON=function(){var e={type:this.type.name};for(var n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(function(r){return r.toJSON()})),e};Ne.fromJSON=function(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");var r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}var o=J.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,o,r)};Object.defineProperties(Ne.prototype,un);function NP(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var Lt=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},uc={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};Lt.parse=function(e,n){var r=new fc(e,n);if(r.next==null)return Lt.empty;var o=Kb(r);r.next&&r.err("Unexpected trailing text");var i=FP(DP(o));return BP(i,r),i};Lt.prototype.matchType=function(e){for(var n=0;n<this.next.length;n+=2)if(this.next[n]==e)return this.next[n+1];return null};Lt.prototype.matchFragment=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=e.childCount);for(var o=this,i=n;o&&i<r;i++)o=o.matchType(e.child(i).type);return o};uc.inlineContent.get=function(){var t=this.next[0];return t?t.isInline:!1};uc.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!(e.isText||e.hasRequiredAttrs()))return e}};Lt.prototype.compatible=function(e){for(var n=0;n<this.next.length;n+=2)for(var r=0;r<e.next.length;r+=2)if(this.next[n]==e.next[r])return!0;return!1};Lt.prototype.fillBefore=function(e,n,r){n===void 0&&(n=!1),r===void 0&&(r=0);var o=[this];function i(s,a){var l=s.matchFragment(e,r);if(l&&(!n||l.validEnd))return J.from(a.map(function(h){return h.createAndFill()}));for(var c=0;c<s.next.length;c+=2){var u=s.next[c],f=s.next[c+1];if(!(u.isText||u.hasRequiredAttrs())&&o.indexOf(f)==-1){o.push(f);var p=i(f,a.concat(u));if(p)return p}}}return i(this,[])};Lt.prototype.findWrapping=function(e){for(var n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];var r=this.computeWrapping(e);return this.wrapCache.push(e,r),r};Lt.prototype.computeWrapping=function(e){for(var n=Object.create(null),r=[{match:this,type:null,via:null}];r.length;){var o=r.shift(),i=o.match;if(i.matchType(e)){for(var s=[],a=o;a.type;a=a.via)s.push(a.type);return s.reverse()}for(var l=0;l<i.next.length;l+=2){var c=i.next[l];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!o.type||i.next[l+1].validEnd)&&(r.push({match:c.contentMatch,type:c,via:o}),n[c.name]=!0)}}};uc.edgeCount.get=function(){return this.next.length>>1};Lt.prototype.edge=function(e){var n=e<<1;if(n>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[n],next:this.next[n+1]}};Lt.prototype.toString=function(){var e=[];function n(r){e.push(r);for(var o=1;o<r.next.length;o+=2)e.indexOf(r.next[o])==-1&&n(r.next[o])}return n(this),e.map(function(r,o){for(var i=o+(r.validEnd?"*":" ")+" ",s=0;s<r.next.length;s+=2)i+=(s?", ":"")+r.next[s].name+"->"+e.indexOf(r.next[s+1]);return i}).join(`
`)};Object.defineProperties(Lt.prototype,uc);Lt.empty=new Lt(!0);var fc=function(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()},Jb={next:{configurable:!0}};Jb.next.get=function(){return this.tokens[this.pos]};fc.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)};fc.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")};Object.defineProperties(fc.prototype,Jb);function Kb(t){var e=[];do e.push(AP(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function AP(t){var e=[];do e.push(RP(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function RP(t){for(var e=IP(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=_P(t,e);else break;return e}function Ub(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function _P(t,e){var n=Ub(t),r=n;return t.eat(",")&&(t.next!="}"?r=Ub(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function PP(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var o=[];for(var i in n){var s=n[i];s.groups.indexOf(e)>-1&&o.push(s)}return o.length==0&&t.err("No node type or group '"+e+"' found"),o}function IP(t){if(t.eat("(")){var e=Kb(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{var n=PP(t,t.next).map(function(r){return t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}});return t.pos++,n.length==1?n[0]:{type:"choice",exprs:n}}}function DP(t){var e=[[]];return o(i(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,l){var c={term:l,to:a};return e[s].push(c),c}function o(s,a){s.forEach(function(l){return l.to=a})}function i(s,a){if(s.type=="choice")return s.exprs.reduce(function(b,g){return b.concat(i(g,a))},[]);if(s.type=="seq")for(var l=0;;l++){var c=i(s.exprs[l],a);if(l==s.exprs.length-1)return c;o(c,a=n())}else if(s.type=="star"){var u=n();return r(a,u),o(i(s.expr,u),u),[r(u)]}else if(s.type=="plus"){var f=n();return o(i(s.expr,a),f),o(i(s.expr,f),f),[r(f)]}else{if(s.type=="opt")return[r(a)].concat(i(s.expr,a));if(s.type=="range"){for(var p=a,h=0;h<s.min;h++){var d=n();o(i(s.expr,p),d),p=d}if(s.max==-1)o(i(s.expr,p),p);else for(var y=s.min;y<s.max;y++){var v=n();r(p,v),o(i(s.expr,p),v),p=v}return[r(p)]}else if(s.type=="name")return[r(a,null,s.value)]}}}function qb(t,e){return e-t}function Gb(t,e){var n=[];return r(e),n.sort(qb);function r(o){var i=t[o];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(o);for(var s=0;s<i.length;s++){var a=i[s],l=a.term,c=a.to;!l&&n.indexOf(c)==-1&&r(c)}}}function FP(t){var e=Object.create(null);return n(Gb(t,0));function n(r){var o=[];r.forEach(function(l){t[l].forEach(function(c){var u=c.term,f=c.to;if(!!u){var p=o.indexOf(u),h=p>-1&&o[p+1];Gb(t,f).forEach(function(d){h||o.push(u,h=[]),h.indexOf(d)==-1&&h.push(d)})}})});for(var i=e[r.join(",")]=new Lt(r.indexOf(t.length-1)>-1),s=0;s<o.length;s+=2){var a=o[s+1].sort(qb);i.next.push(o[s],e[a.join(",")]||n(a))}return i}}function BP(t,e){for(var n=0,r=[t];n<r.length;n++){for(var o=r[n],i=!o.validEnd,s=[],a=0;a<o.next.length;a+=2){var l=o.next[a],c=o.next[a+1];s.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),r.indexOf(c)==-1&&r.push(c)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Yb(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function Xb(t,e){var n=Object.create(null);for(var r in t){var o=e&&e[r];if(o===void 0){var i=t[r];if(i.hasDefault)o=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function Qb(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new Zb(t[n]);return e}var fn=function(e,n,r){this.name=e,this.schema=n,this.spec=r,this.groups=r.group?r.group.split(" "):[],this.attrs=Qb(r.attrs),this.defaultAttrs=Yb(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"},Zs={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};Zs.isInline.get=function(){return!this.isBlock};Zs.isTextblock.get=function(){return this.isBlock&&this.inlineContent};Zs.isLeaf.get=function(){return this.contentMatch==Lt.empty};Zs.isAtom.get=function(){return this.isLeaf||this.spec.atom};fn.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1};fn.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)};fn.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:Xb(this.attrs,e)};fn.prototype.create=function(e,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ne(this,this.computeAttrs(e),J.from(n),Te.setFrom(r))};fn.prototype.createChecked=function(e,n,r){if(n=J.from(n),!this.validContent(n))throw new RangeError("Invalid content for node "+this.name);return new Ne(this,this.computeAttrs(e),n,Te.setFrom(r))};fn.prototype.createAndFill=function(e,n,r){if(e=this.computeAttrs(e),n=J.from(n),n.size){var o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}var i=this.contentMatch.matchFragment(n).fillBefore(J.empty,!0);return i?new Ne(this,e,n.append(i),Te.setFrom(r)):null};fn.prototype.validContent=function(e){var n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(var r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0};fn.prototype.allowsMarkType=function(e){return this.markSet==null||this.markSet.indexOf(e)>-1};fn.prototype.allowsMarks=function(e){if(this.markSet==null)return!0;for(var n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0};fn.prototype.allowedMarks=function(e){if(this.markSet==null)return e;for(var n,r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Te.empty:e};fn.compile=function(e,n){var r=Object.create(null);e.forEach(function(s,a){return r[s]=new fn(s,n,a)});var o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(var i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r};Object.defineProperties(fn.prototype,Zs);var Zb=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},eS={isRequired:{configurable:!0}};eS.isRequired.get=function(){return!this.hasDefault};Object.defineProperties(Zb.prototype,eS);var _o=function(e,n,r,o){this.name=e,this.schema=r,this.spec=o,this.attrs=Qb(o.attrs),this.rank=n,this.excluded=null;var i=Yb(this.attrs);this.instance=i&&new Te(this,i)};_o.prototype.create=function(e){return!e&&this.instance?this.instance:new Te(this,Xb(this.attrs,e))};_o.compile=function(e,n){var r=Object.create(null),o=0;return e.forEach(function(i,s){return r[i]=new _o(i,o++,n,s)}),r};_o.prototype.removeFromSet=function(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e};_o.prototype.isInSet=function(e){for(var n=0;n<e.length;n++)if(e[n].type==this)return e[n]};_o.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var eh={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},LP={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},tS={ol:!0,ul:!0},th=1,nh=2,ea=4;function nS(t){return(t?th:0)|(t==="full"?nh:0)}var hr=function(e,n,r,o,i,s,a){this.type=e,this.attrs=n,this.solid=i,this.match=s||(a&ea?null:e.contentMatch),this.options=a,this.content=[],this.marks=r,this.activeMarks=Te.none,this.pendingMarks=o,this.stashMarks=[]};hr.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var n=this.type.contentMatch.fillBefore(J.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{var r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)};hr.prototype.finish=function(e){if(!(this.options&th)){var n=this.content[this.content.length-1],r;n&&n.isText&&(r=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-r[0].length)))}var o=J.from(this.content);return!e&&this.match&&(o=o.append(this.match.fillBefore(J.empty,!0))),this.type?this.type.create(this.attrs,o,this.marks):o};hr.prototype.popFromStashMark=function(e){for(var n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]};hr.prototype.applyPending=function(e){for(var n=0,r=this.pendingMarks;n<r.length;n++){var o=r[n];(this.type?this.type.allowsMarkType(o.type):HP(o.type,e))&&!o.isInSet(this.activeMarks)&&(this.activeMarks=o.addToSet(this.activeMarks),this.pendingMarks=o.removeFromSet(this.pendingMarks))}};hr.prototype.inlineContext=function(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!eh.hasOwnProperty(e.parentNode.nodeName.toLowerCase())};var je=function(e,n,r){this.parser=e,this.options=n,this.isOpen=r;var o=n.topNode,i,s=nS(n.preserveWhitespace)|(r?ea:0);o?i=new hr(o.type,o.attrs,Te.none,Te.none,!0,n.topMatch||o.type.contentMatch,s):r?i=new hr(null,null,Te.none,Te.none,!0,null,s):i=new hr(e.schema.topNodeType,null,Te.none,Te.none,!0,null,s),this.nodes=[i],this.open=0,this.find=n.findPositions,this.needsBlock=!1},rh={top:{configurable:!0},currentPos:{configurable:!0}};rh.top.get=function(){return this.nodes[this.open]};je.prototype.addDOM=function(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){var n=e.getAttribute("style"),r=n?this.readStyles($P(n)):null,o=this.top;if(r!=null)for(var i=0;i<r.length;i++)this.addPendingMark(r[i]);if(this.addElement(e),r!=null)for(var s=0;s<r.length;s++)this.removePendingMark(r[s],o)}};je.prototype.addTextNode=function(e){var n=e.nodeValue,r=this.top;if(r.options&nh||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&th)r.options&nh?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){var o=r.content[r.content.length-1],i=e.previousSibling;(!o||i&&i.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)};je.prototype.addElement=function(e,n){var r=e.nodeName.toLowerCase(),o;tS.hasOwnProperty(r)&&this.parser.normalizeLists&&zP(e);var i=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,n));if(i?i.ignore:LP.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(e=i.skip);var s,a=this.top,l=this.needsBlock;if(eh.hasOwnProperty(r))s=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),s&&this.sync(a),this.needsBlock=l}else this.addElementByRule(e,i,i.consuming===!1?o:null)};je.prototype.leafFallback=function(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))};je.prototype.ignoreFallback=function(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))};je.prototype.readStyles=function(e){var n=Te.none;e:for(var r=0;r<e.length;r+=2)for(var o=null;;){var i=this.parser.matchStyle(e[r],e[r+1],this,o);if(!i)continue e;if(i.ignore)return null;if(n=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(n),i.consuming===!1)o=i;else break}return n};je.prototype.addElementByRule=function(e,n,r){var o=this,i,s,a,l;n.node?(s=this.parser.schema.nodes[n.node],s.isLeaf?this.insertNode(s.create(n.attrs))||this.leafFallback(e):i=this.enter(s,n.attrs,n.preserveWhitespace)):(a=this.parser.schema.marks[n.mark],l=a.create(n.attrs),this.addPendingMark(l));var c=this.top;if(s&&s.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(function(f){return o.insertNode(f)});else{var u=n.contentElement;typeof u=="string"?u=e.querySelector(u):typeof u=="function"&&(u=u(e)),u||(u=e),this.findAround(e,u,!0),this.addAll(u,i)}i&&(this.sync(c),this.open--),l&&this.removePendingMark(l,c)};je.prototype.addAll=function(e,n,r,o){for(var i=r||0,s=r?e.childNodes[r]:e.firstChild,a=o==null?null:e.childNodes[o];s!=a;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s),n&&eh.hasOwnProperty(s.nodeName.toLowerCase())&&this.sync(n);this.findAtPoint(e,i)};je.prototype.findPlace=function(e){for(var n,r,o=this.open;o>=0;o--){var i=this.nodes[o],s=i.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=i,!s.length)||i.solid)break}if(!n)return!1;this.sync(r);for(var a=0;a<n.length;a++)this.enterInner(n[a],null,!1);return!0};je.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();var r=this.top;r.applyPending(e.type),r.match&&(r.match=r.match.matchType(e.type));for(var o=r.activeMarks,i=0;i<e.marks.length;i++)(!r.type||r.type.allowsMarkType(e.marks[i].type))&&(o=e.marks[i].addToSet(o));return r.content.push(e.mark(o)),!0}return!1};je.prototype.enter=function(e,n,r){var o=this.findPlace(e.create(n));return o&&this.enterInner(e,n,!0,r),o};je.prototype.enterInner=function(e,n,r,o){this.closeExtra();var i=this.top;i.applyPending(e),i.match=i.match&&i.match.matchType(e,n);var s=o==null?i.options&~ea:nS(o);i.options&ea&&i.content.length==0&&(s|=ea),this.nodes.push(new hr(e,n,i.activeMarks,i.pendingMarks,r,null,s)),this.open++};je.prototype.closeExtra=function(e){var n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}};je.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)};je.prototype.sync=function(e){for(var n=this.open;n>=0;n--)if(this.nodes[n]==e){this.open=n;return}};rh.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t};je.prototype.findAtPoint=function(e,n){if(this.find)for(var r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)};je.prototype.findInside=function(e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)};je.prototype.findAround=function(e,n,r){if(e!=n&&this.find){for(var o=0;o<this.find.length;o++)if(this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)){var i=n.compareDocumentPosition(this.find[o].node);i&(r?2:4)&&(this.find[o].pos=this.currentPos)}}};je.prototype.findInText=function(e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))};je.prototype.matchesContext=function(e){var n=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var r=e.split("/"),o=this.options.context,i=!this.isOpen&&(!o||o.parent.type==this.nodes[0].type),s=-(o?o.depth+1:0)+(i?0:1),a=function(l,c){for(;l>=0;l--){var u=r[l];if(u==""){if(l==r.length-1||l==0)continue;for(;c>=s;c--)if(a(l-1,c))return!0;return!1}else{var f=c>0||c==0&&i?n.nodes[c].type:o&&c>=s?o.node(c-s).type:null;if(!f||f.name!=u&&f.groups.indexOf(u)==-1)return!1;c--}}return!0};return a(r.length-1,this.open)};je.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var n=e.depth;n>=0;n--){var r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(var o in this.parser.schema.nodes){var i=this.parser.schema.nodes[o];if(i.isTextblock&&i.defaultAttrs)return i}};je.prototype.addPendingMark=function(e){var n=VP(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)};je.prototype.removePendingMark=function(e,n){for(var r=this.open;r>=0;r--){var o=this.nodes[r],i=o.pendingMarks.lastIndexOf(e);if(i>-1)o.pendingMarks=e.removeFromSet(o.pendingMarks);else{o.activeMarks=e.removeFromSet(o.activeMarks);var s=o.popFromStashMark(e);s&&o.type&&o.type.allowsMarkType(s.type)&&(o.activeMarks=s.addToSet(o.activeMarks))}if(o==n)break}};Object.defineProperties(je.prototype,rh);function zP(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&tS.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function $P(t){for(var e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];n=e.exec(t);)r.push(n[1],n[2].trim());return r}function HP(t,e){var n=e.schema.nodes,r=function(s){var a=n[s];if(!!a.allowsMarkType(t)){var l=[],c=function(u){l.push(u);for(var f=0;f<u.edgeCount;f++){var p=u.edge(f),h=p.type,d=p.next;if(h==e||l.indexOf(d)<0&&c(d))return!0}};if(c(a.contentMatch))return{v:!0}}};for(var o in n){var i=r(o);if(i)return i.v}}function VP(t,e){for(var n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}var rS=65535,oS=Math.pow(2,16);function jP(t,e){return t+e*oS}function iS(t){return t&rS}function WP(t){return(t-(t&rS))/oS}var oh=function(e,n,r){n===void 0&&(n=!1),r===void 0&&(r=null),this.pos=e,this.deleted=n,this.recover=r},gt=function(e,n){n===void 0&&(n=!1),this.ranges=e,this.inverted=n};gt.prototype.recover=function(e){var n=0,r=iS(e);if(!this.inverted)for(var o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+WP(e)};gt.prototype.mapResult=function(e,n){return n===void 0&&(n=1),this._map(e,n,!1)};gt.prototype.map=function(e,n){return n===void 0&&(n=1),this._map(e,n,!0)};gt.prototype._map=function(e,n,r){for(var o=0,i=this.inverted?2:1,s=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var l=this.ranges[a]-(this.inverted?o:0);if(l>e)break;var c=this.ranges[a+i],u=this.ranges[a+s],f=l+c;if(e<=f){var p=c?e==l?-1:e==f?1:n:n,h=l+o+(p<0?0:u);if(r)return h;var d=e==(n<0?l:f)?null:jP(a/3,e-l);return new oh(h,n<0?e!=l:e!=f,d)}o+=u-c}return r?e+o:new oh(e+o)};gt.prototype.touches=function(e,n){for(var r=0,o=iS(n),i=this.inverted?2:1,s=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;var c=this.ranges[a+i],u=l+c;if(e<=u&&a==o*3)return!0;r+=this.ranges[a+s]-c}return!1};gt.prototype.forEach=function(e){for(var n=this.inverted?2:1,r=this.inverted?1:2,o=0,i=0;o<this.ranges.length;o+=3){var s=this.ranges[o],a=s-(this.inverted?i:0),l=s+(this.inverted?0:i),c=this.ranges[o+n],u=this.ranges[o+r];e(a,a+c,l,l+u),i+=u-c}};gt.prototype.invert=function(){return new gt(this.ranges,!this.inverted)};gt.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)};gt.offset=function(e){return e==0?gt.empty:new gt(e<0?[0,-e,0]:[0,0,e])};gt.empty=new gt([]);var zt=function(e,n,r,o){this.maps=e||[],this.from=r||0,this.to=o==null?this.maps.length:o,this.mirror=n};zt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.maps.length),new zt(this.maps,this.mirror,e,n)};zt.prototype.copy=function(){return new zt(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)};zt.prototype.appendMap=function(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)};zt.prototype.appendMapping=function(e){for(var n=0,r=this.maps.length;n<e.maps.length;n++){var o=e.getMirror(n);this.appendMap(e.maps[n],o!=null&&o<n?r+o:null)}};zt.prototype.getMirror=function(e){if(this.mirror){for(var n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}};zt.prototype.setMirror=function(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)};zt.prototype.appendMappingInverted=function(e){for(var n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){var o=e.getMirror(n);this.appendMap(e.maps[n].invert(),o!=null&&o>n?r-o-1:null)}};zt.prototype.invert=function(){var e=new zt;return e.appendMappingInverted(this),e};zt.prototype.map=function(e,n){if(n===void 0&&(n=1),this.mirror)return this._map(e,n,!0);for(var r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e};zt.prototype.mapResult=function(e,n){return n===void 0&&(n=1),this._map(e,n,!1)};zt.prototype._map=function(e,n,r){for(var o=!1,i=this.from;i<this.to;i++){var s=this.maps[i],a=s.mapResult(e,n);if(a.recover!=null){var l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,e=this.maps[l].recover(a.recover);continue}}a.deleted&&(o=!0),e=a.pos}return r?e:new oh(e,o)};function Ri(t){var e=Error.call(this,t);return e.__proto__=Ri.prototype,e}Ri.prototype=Object.create(Error.prototype);Ri.prototype.constructor=Ri;Ri.prototype.name="TransformError";var Ye=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new zt},ih={before:{configurable:!0},docChanged:{configurable:!0}};ih.before.get=function(){return this.docs.length?this.docs[0]:this.doc};Ye.prototype.step=function(e){var n=this.maybeStep(e);if(n.failed)throw new Ri(n.failed);return this};Ye.prototype.maybeStep=function(e){var n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n};ih.docChanged.get=function(){return this.steps.length>0};Ye.prototype.addStep=function(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n};Object.defineProperties(Ye.prototype,ih);function pc(){throw new Error("Override me")}var sh=Object.create(null),Tt=function(){};Tt.prototype.apply=function(e){return pc()};Tt.prototype.getMap=function(){return gt.empty};Tt.prototype.invert=function(e){return pc()};Tt.prototype.map=function(e){return pc()};Tt.prototype.merge=function(e){return null};Tt.prototype.toJSON=function(){return pc()};Tt.fromJSON=function(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");var r=sh[n.stepType];if(!r)throw new RangeError("No step type "+n.stepType+" defined");return r.fromJSON(e,n)};Tt.jsonID=function(e,n){if(e in sh)throw new RangeError("Duplicate use of step JSON ID "+e);return sh[e]=n,n.prototype.jsonID=e,n};var $t=function(e,n){this.doc=e,this.failed=n};$t.ok=function(e){return new $t(e,null)};$t.fail=function(e){return new $t(null,e)};$t.fromReplace=function(e,n,r,o){try{return $t.ok(e.replace(n,r,o))}catch(i){if(i instanceof Xn)return $t.fail(i.message);throw i}};var Yr=function(t){function e(n,r,o,i){t.call(this),this.from=n,this.to=r,this.slice=o,this.structure=!!i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(r){return this.structure&&ah(r,this.from,this.to)?$t.fail("Structure replace would overwrite content"):$t.fromReplace(r,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new gt([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(r){return new e(this.from,this.from+this.slice.size,r.slice(this.from,this.to))},e.prototype.map=function(r){var o=r.mapResult(this.from,1),i=r.mapResult(this.to,-1);return o.deleted&&i.deleted?null:new e(o.pos,Math.max(o.pos,i.pos),this.slice)},e.prototype.merge=function(r){if(!(r instanceof e)||r.structure||this.structure)return null;if(this.from+this.slice.size==r.from&&!this.slice.openEnd&&!r.slice.openStart){var o=this.slice.size+r.slice.size==0?ae.empty:new ae(this.slice.content.append(r.slice.content),this.slice.openStart,r.slice.openEnd);return new e(this.from,this.to+(r.to-r.from),o,this.structure)}else if(r.to==this.from&&!this.slice.openStart&&!r.slice.openEnd){var i=this.slice.size+r.slice.size==0?ae.empty:new ae(r.slice.content.append(this.slice.content),r.slice.openStart,this.slice.openEnd);return new e(r.from,this.to,i,this.structure)}else return null},e.prototype.toJSON=function(){var r={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(r.slice=this.slice.toJSON()),this.structure&&(r.structure=!0),r},e.fromJSON=function(r,o){if(typeof o.from!="number"||typeof o.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(o.from,o.to,ae.fromJSON(r,o.slice),!!o.structure)},e}(Tt);Tt.jsonID("replace",Yr);var Po=function(t){function e(n,r,o,i,s,a,l){t.call(this),this.from=n,this.to=r,this.gapFrom=o,this.gapTo=i,this.slice=s,this.insert=a,this.structure=!!l}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(r){if(this.structure&&(ah(r,this.from,this.gapFrom)||ah(r,this.gapTo,this.to)))return $t.fail("Structure gap-replace would overwrite content");var o=r.slice(this.gapFrom,this.gapTo);if(o.openStart||o.openEnd)return $t.fail("Gap is not a flat range");var i=this.slice.insertAt(this.insert,o.content);return i?$t.fromReplace(r,this.from,this.to,i):$t.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new gt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(r){var o=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+o,this.from+this.insert,this.from+this.insert+o,r.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(r){var o=r.mapResult(this.from,1),i=r.mapResult(this.to,-1),s=r.map(this.gapFrom,-1),a=r.map(this.gapTo,1);return o.deleted&&i.deleted||s<o.pos||a>i.pos?null:new e(o.pos,i.pos,s,a,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var r={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(r.slice=this.slice.toJSON()),this.structure&&(r.structure=!0),r},e.fromJSON=function(r,o){if(typeof o.from!="number"||typeof o.to!="number"||typeof o.gapFrom!="number"||typeof o.gapTo!="number"||typeof o.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(o.from,o.to,o.gapFrom,o.gapTo,ae.fromJSON(r,o.slice),o.insert,!!o.structure)},e}(Tt);Tt.jsonID("replaceAround",Po);function ah(t,e,n){for(var r=t.resolve(e),o=n-e,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var s=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}return!1}Ye.prototype.lift=function(t,e){for(var n=t.$from,r=t.$to,o=t.depth,i=n.before(o+1),s=r.after(o+1),a=i,l=s,c=J.empty,u=0,f=o,p=!1;f>e;f--)p||n.index(f)>0?(p=!0,c=J.from(n.node(f).copy(c)),u++):a--;for(var h=J.empty,d=0,y=o,v=!1;y>e;y--)v||r.after(y+1)<r.end(y)?(v=!0,h=J.from(r.node(y).copy(h)),d++):l++;return this.step(new Po(a,l,i,s,new ae(c.append(h),u,d),c.size-u,!0))};Ye.prototype.wrap=function(t,e){for(var n=J.empty,r=e.length-1;r>=0;r--)n=J.from(e[r].type.create(e[r].attrs,n));var o=t.start,i=t.end;return this.step(new Po(o,i,o,i,new ae(n,0,0),e.length,!0))};Ye.prototype.setBlockType=function(t,e,n,r){var o=this;if(e===void 0&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=this.steps.length;return this.doc.nodesBetween(t,e,function(s,a){if(s.isTextblock&&!s.hasMarkup(n,r)&&JP(o.doc,o.mapping.slice(i).map(a),n)){o.clearIncompatible(o.mapping.slice(i).map(a,1),n);var l=o.mapping.slice(i),c=l.map(a,1),u=l.map(a+s.nodeSize,1);return o.step(new Po(c,u,c+1,u-1,new ae(J.from(n.create(r,null,s.marks)),0,0),1,!0)),!1}}),this};function JP(t,e,n){var r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}Ye.prototype.setNodeMarkup=function(t,e,n,r){var o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var i=e.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(t,t+o.nodeSize,i);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new Po(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new ae(J.from(i),0,0),1,!0))};Ye.prototype.split=function(t,e,n){e===void 0&&(e=1);for(var r=this.doc.resolve(t),o=J.empty,i=J.empty,s=r.depth,a=r.depth-e,l=e-1;s>a;s--,l--){o=J.from(r.node(s).copy(o));var c=n&&n[l];i=J.from(c?c.type.create(c.attrs,i):r.node(s).copy(i))}return this.step(new Yr(t,t,new ae(o.append(i),e,e),!0))};Ye.prototype.join=function(t,e){e===void 0&&(e=1);var n=new Yr(t-e,t+e,ae.empty,!0);return this.step(n)};function KP(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}function lh(t,e,n){for(var r=[],o=0;o<t.childCount;o++){var i=t.child(o);i.content.size&&(i=i.copy(lh(i.content,e,i))),i.isInline&&(i=e(i,n,o)),r.push(i)}return J.fromArray(r)}var ch=function(t){function e(n,r,o){t.call(this),this.from=n,this.to=r,this.mark=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(r){var o=this,i=r.slice(this.from,this.to),s=r.resolve(this.from),a=s.node(s.sharedDepth(this.to)),l=new ae(lh(i.content,function(c,u){return!c.isAtom||!u.type.allowsMarkType(o.mark.type)?c:c.mark(o.mark.addToSet(c.marks))},a),i.openStart,i.openEnd);return $t.fromReplace(r,this.from,this.to,l)},e.prototype.invert=function(){return new ta(this.from,this.to,this.mark)},e.prototype.map=function(r){var o=r.mapResult(this.from,1),i=r.mapResult(this.to,-1);return o.deleted&&i.deleted||o.pos>=i.pos?null:new e(o.pos,i.pos,this.mark)},e.prototype.merge=function(r){if(r instanceof e&&r.mark.eq(this.mark)&&this.from<=r.to&&this.to>=r.from)return new e(Math.min(this.from,r.from),Math.max(this.to,r.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(r,o){if(typeof o.from!="number"||typeof o.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(o.from,o.to,r.markFromJSON(o.mark))},e}(Tt);Tt.jsonID("addMark",ch);var ta=function(t){function e(n,r,o){t.call(this),this.from=n,this.to=r,this.mark=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(r){var o=this,i=r.slice(this.from,this.to),s=new ae(lh(i.content,function(a){return a.mark(o.mark.removeFromSet(a.marks))}),i.openStart,i.openEnd);return $t.fromReplace(r,this.from,this.to,s)},e.prototype.invert=function(){return new ch(this.from,this.to,this.mark)},e.prototype.map=function(r){var o=r.mapResult(this.from,1),i=r.mapResult(this.to,-1);return o.deleted&&i.deleted||o.pos>=i.pos?null:new e(o.pos,i.pos,this.mark)},e.prototype.merge=function(r){if(r instanceof e&&r.mark.eq(this.mark)&&this.from<=r.to&&this.to>=r.from)return new e(Math.min(this.from,r.from),Math.max(this.to,r.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(r,o){if(typeof o.from!="number"||typeof o.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(o.from,o.to,r.markFromJSON(o.mark))},e}(Tt);Tt.jsonID("removeMark",ta);Ye.prototype.addMark=function(t,e,n){var r=this,o=[],i=[],s=null,a=null;return this.doc.nodesBetween(t,e,function(l,c,u){if(!!l.isInline){var f=l.marks;if(!n.isInSet(f)&&u.type.allowsMarkType(n.type)){for(var p=Math.max(c,t),h=Math.min(c+l.nodeSize,e),d=n.addToSet(f),y=0;y<f.length;y++)f[y].isInSet(d)||(s&&s.to==p&&s.mark.eq(f[y])?s.to=h:o.push(s=new ta(p,h,f[y])));a&&a.to==p?a.to=h:i.push(a=new ch(p,h,n))}}}),o.forEach(function(l){return r.step(l)}),i.forEach(function(l){return r.step(l)}),this};Ye.prototype.removeMark=function(t,e,n){var r=this;n===void 0&&(n=null);var o=[],i=0;return this.doc.nodesBetween(t,e,function(s,a){if(!!s.isInline){i++;var l=null;if(n instanceof _o)for(var c=s.marks,u;u=n.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c);else n?n.isInSet(s.marks)&&(l=[n]):l=s.marks;if(l&&l.length)for(var f=Math.min(a+s.nodeSize,e),p=0;p<l.length;p++){for(var h=l[p],d=void 0,y=0;y<o.length;y++){var v=o[y];v.step==i-1&&h.eq(o[y].style)&&(d=v)}d?(d.to=f,d.step=i):o.push({style:h,from:Math.max(a,t),to:f,step:i})}}}),o.forEach(function(s){return r.step(new ta(s.from,s.to,s.style))}),this};Ye.prototype.clearIncompatible=function(t,e,n){n===void 0&&(n=e.contentMatch);for(var r=this.doc.nodeAt(t),o=[],i=t+1,s=0;s<r.childCount;s++){var a=r.child(s),l=i+a.nodeSize,c=n.matchType(a.type,a.attrs);if(!c)o.push(new Yr(i,l,ae.empty));else{n=c;for(var u=0;u<a.marks.length;u++)e.allowsMarkType(a.marks[u].type)||this.step(new ta(i,l,a.marks[u]))}i=l}if(!n.validEnd){var f=n.fillBefore(J.empty,!0);this.replace(i,i,new ae(f,0,0))}for(var p=o.length-1;p>=0;p--)this.step(o[p]);return this};function UP(t,e,n,r){if(n===void 0&&(n=e),r===void 0&&(r=ae.empty),e==n&&!r.size)return null;var o=t.resolve(e),i=t.resolve(n);return sS(o,i,r)?new Yr(e,n,r):new Mn(o,i,r).fit()}Ye.prototype.replace=function(t,e,n){e===void 0&&(e=t),n===void 0&&(n=ae.empty);var r=UP(this.doc,t,e,n);return r&&this.step(r),this};Ye.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new ae(J.from(n),0,0))};Ye.prototype.delete=function(t,e){return this.replace(t,e,ae.empty)};Ye.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};function sS(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}var Mn=function(e,n,r){this.$to=n,this.$from=e,this.unplaced=r,this.frontier=[];for(var o=0;o<=e.depth;o++){var i=e.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(o))})}this.placed=J.empty;for(var s=e.depth;s>0;s--)this.placed=J.from(e.node(s).copy(this.placed))},aS={depth:{configurable:!0}};aS.depth.get=function(){return this.frontier.length-1};Mn.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var n=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,o=this.$from,i=this.close(n<0?this.$to:o.doc.resolve(n));if(!i)return null;for(var s=this.placed,a=o.depth,l=i.depth;a&&l&&s.childCount==1;)s=s.firstChild.content,a--,l--;var c=new ae(s,a,l);if(n>-1)return new Po(o.pos,n,this.$to.pos,this.$to.end(),c,r);if(c.size||o.pos!=this.$to.pos)return new Yr(o.pos,i.pos,c)};Mn.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var n=this.unplaced.openStart;n>=0;n--){var r=void 0,o=void 0;n?(o=uh(this.unplaced.content,n-1).firstChild,r=o.content):r=this.unplaced.content;for(var i=r.firstChild,s=this.depth;s>=0;s--){var a=this.frontier[s],l=a.type,c=a.match,u=void 0,f=void 0;if(e==1&&(i?c.matchType(i.type)||(f=c.fillBefore(J.from(i),!1)):l.compatibleContent(o.type)))return{sliceDepth:n,frontierDepth:s,parent:o,inject:f};if(e==2&&i&&(u=c.findWrapping(i.type)))return{sliceDepth:n,frontierDepth:s,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}};Mn.prototype.openMore=function(){var e=this.unplaced,n=e.content,r=e.openStart,o=e.openEnd,i=uh(n,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ae(n,r+1,Math.max(o,i.size+r>=n.size-o?r+1:0)),!0)};Mn.prototype.dropNode=function(){var e=this.unplaced,n=e.content,r=e.openStart,o=e.openEnd,i=uh(n,r);if(i.childCount<=1&&r>0){var s=n.size-r<=r+i.size;this.unplaced=new ae(na(n,r-1,1),r-1,s?r-1:o)}else this.unplaced=new ae(na(n,r,1),r,o)};Mn.prototype.placeNodes=function(e){for(var n=e.sliceDepth,r=e.frontierDepth,o=e.parent,i=e.inject,s=e.wrap;this.depth>r;)this.closeFrontierNode();if(s)for(var a=0;a<s.length;a++)this.openFrontierNode(s[a]);var l=this.unplaced,c=o?o.content:l.content,u=l.openStart-n,f=0,p=[],h=this.frontier[r],d=h.match,y=h.type;if(i){for(var v=0;v<i.childCount;v++)p.push(i.child(v));d=d.matchFragment(i)}for(var b=c.size+n-(l.content.size-l.openEnd);f<c.childCount;){var g=c.child(f),S=d.matchType(g.type);if(!S)break;f++,(f>1||u==0||g.content.size)&&(d=S,p.push(lS(g.mark(y.allowedMarks(g.marks)),f==1?u:0,f==c.childCount?b:-1)))}var m=f==c.childCount;m||(b=-1),this.placed=ra(this.placed,r,J.from(p)),this.frontier[r].match=d,m&&b<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var O=0,C=c;O<b;O++){var k=C.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),C=k.content}this.unplaced=m?n==0?ae.empty:new ae(na(l.content,n-1,1),n-1,b<0?l.openEnd:n-1):new ae(na(l.content,n,f),l.openStart,l.openEnd)};Mn.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e=this.frontier[this.depth],n;if(!e.type.isTextblock||!fh(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;for(var r=this.$to,o=r.depth,i=this.$to.after(o);o>1&&i==this.$to.end(--o);)++i;return i};Mn.prototype.findCloseLevel=function(e){e:for(var n=Math.min(this.depth,e.depth);n>=0;n--){var r=this.frontier[n],o=r.match,i=r.type,s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=fh(e,n,i,o,s);if(!!a){for(var l=n-1;l>=0;l--){var c=this.frontier[l],u=c.match,f=c.type,p=fh(e,l,f,u,!0);if(!p||p.childCount)continue e}return{depth:n,fit:a,move:s?e.doc.resolve(e.after(n+1)):e}}}};Mn.prototype.close=function(e){var n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ra(this.placed,n.depth,n.fit)),e=n.move;for(var r=n.depth+1;r<=e.depth;r++){var o=e.node(r),i=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,i)}return e};Mn.prototype.openFrontierNode=function(e,n,r){var o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=ra(this.placed,this.depth,J.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})};Mn.prototype.closeFrontierNode=function(){var e=this.frontier.pop(),n=e.match.fillBefore(J.empty,!0);n.childCount&&(this.placed=ra(this.placed,this.frontier.length,n))};Object.defineProperties(Mn.prototype,aS);function na(t,e,n){return e==0?t.cutByIndex(n):t.replaceChild(0,t.firstChild.copy(na(t.firstChild.content,e-1,n)))}function ra(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ra(t.lastChild.content,e-1,n)))}function uh(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function lS(t,e,n){if(e<=0)return t;var r=t.content;return e>1&&(r=r.replaceChild(0,lS(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(J.empty,!0)))),t.copy(r)}function fh(t,e,n,r,o){var i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;var a=r.fillBefore(i.content,!0,s);return a&&!qP(n,i.content,s)?a:null}function qP(t,e,n){for(var r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}Ye.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var r=this.doc.resolve(t),o=this.doc.resolve(e);if(sS(r,o,n))return this.step(new Yr(t,e,n));var i=uS(r,this.doc.resolve(e));i[i.length-1]==0&&i.pop();var s=-(r.depth+1);i.unshift(s);for(var a=r.depth,l=r.pos-1;a>0;a--,l--){var c=r.node(a).type.spec;if(c.defining||c.isolating)break;i.indexOf(a)>-1?s=a:r.before(a)==l&&i.splice(1,0,-a)}for(var u=i.indexOf(s),f=[],p=n.openStart,h=n.content,d=0;;d++){var y=h.firstChild;if(f.push(y),d==n.openStart)break;h=y.content}p>0&&f[p-1].type.spec.defining&&r.node(u).type!=f[p-1].type?p-=1:p>=2&&f[p-1].isTextblock&&f[p-2].type.spec.defining&&r.node(u).type!=f[p-2].type&&(p-=2);for(var v=n.openStart;v>=0;v--){var b=(v+p+1)%(n.openStart+1),g=f[b];if(!!g)for(var S=0;S<i.length;S++){var m=i[(S+u)%i.length],O=!0;m<0&&(O=!1,m=-m);var C=r.node(m-1),k=r.index(m-1);if(C.canReplaceWith(k,k,g.type,g.marks))return this.replace(r.before(m),O?o.after(m):e,new ae(cS(n.content,0,n.openStart,b),b,n.openEnd))}}for(var M=this.steps.length,T=i.length-1;T>=0&&(this.replace(t,e,n),!(this.steps.length>M));T--){var R=i[T];R<0||(t=r.before(R),e=o.after(R))}return this};function cS(t,e,n,r,o){if(e<n){var i=t.firstChild;t=t.replaceChild(0,i.copy(cS(i.content,e+1,n,r,i)))}if(e>r){var s=o.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(J.empty,!0))}return t}Ye.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var r=KP(this.doc,t,n.type);r!=null&&(t=e=r)}return this.replaceRange(t,e,new ae(J.from(n),0,0))};Ye.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),r=this.doc.resolve(e),o=uS(n,r),i=0;i<o.length;i++){var s=o[i],a=i==o.length-1;if(a&&s==0||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var l=1;l<=n.depth&&l<=r.depth;l++)if(t-n.start(l)==n.depth-l&&e>n.end(l)&&r.end(l)-e!=r.depth-l)return this.delete(n.before(l),e);return this.delete(t,e)};function uS(t,e){for(var n=[],r=Math.min(t.depth,e.depth),o=r;o>=0;o--){var i=t.start(o);if(i<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(i==e.start(o)||o==t.depth&&o==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==i-1)&&n.push(o)}return n}var ph=Object.create(null),Ue=function(e,n,r){this.ranges=r||[new GP(e.min(n),e.max(n))],this.$anchor=e,this.$head=n},Xr={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};Xr.anchor.get=function(){return this.$anchor.pos};Xr.head.get=function(){return this.$head.pos};Xr.from.get=function(){return this.$from.pos};Xr.to.get=function(){return this.$to.pos};Xr.$from.get=function(){return this.ranges[0].$from};Xr.$to.get=function(){return this.ranges[0].$to};Xr.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0};Ue.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)};Ue.prototype.replace=function(e,n){n===void 0&&(n=ae.empty);for(var r=n.content.lastChild,o=null,i=0;i<n.openEnd;i++)o=r,r=r.lastChild;for(var s=e.steps.length,a=this.ranges,l=0;l<a.length;l++){var c=a[l],u=c.$from,f=c.$to,p=e.mapping.slice(s);e.replaceRange(p.map(u.pos),p.map(f.pos),l?ae.empty:n),l==0&&fS(e,s,(r?r.isInline:o&&o.isTextblock)?-1:1)}};Ue.prototype.replaceWith=function(e,n){for(var r=e.steps.length,o=this.ranges,i=0;i<o.length;i++){var s=o[i],a=s.$from,l=s.$to,c=e.mapping.slice(r),u=c.map(a.pos),f=c.map(l.pos);i?e.deleteRange(u,f):(e.replaceRangeWith(u,f,n),fS(e,r,n.isInline?-1:1))}};Ue.findFrom=function(e,n,r){var o=e.parent.inlineContent?new oa(e):Pi(e.node(0),e.parent,e.pos,e.index(),n,r);if(o)return o;for(var i=e.depth-1;i>=0;i--){var s=n<0?Pi(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):Pi(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(s)return s}};Ue.near=function(e,n){return n===void 0&&(n=1),this.findFrom(e,n)||this.findFrom(e,-n)||new sa(e.node(0))};Ue.atStart=function(e){return Pi(e,e,0,0,1)||new sa(e)};Ue.atEnd=function(e){return Pi(e,e,e.content.size,e.childCount,-1)||new sa(e)};Ue.fromJSON=function(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");var r=ph[n.type];if(!r)throw new RangeError("No selection type "+n.type+" defined");return r.fromJSON(e,n)};Ue.jsonID=function(e,n){if(e in ph)throw new RangeError("Duplicate use of selection JSON ID "+e);return ph[e]=n,n.prototype.jsonID=e,n};Ue.prototype.getBookmark=function(){return oa.between(this.$anchor,this.$head).getBookmark()};Object.defineProperties(Ue.prototype,Xr);Ue.prototype.visible=!0;var GP=function(e,n){this.$from=e,this.$to=n},oa=function(t){function e(r,o){o===void 0&&(o=r),t.call(this,r,o)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(o,i){var s=o.resolve(i.map(this.head));if(!s.parent.inlineContent)return t.near(s);var a=o.resolve(i.map(this.anchor));return new e(a.parent.inlineContent?a:s,s)},e.prototype.replace=function(o,i){if(i===void 0&&(i=ae.empty),t.prototype.replace.call(this,o,i),i==ae.empty){var s=this.$from.marksAcross(this.$to);s&&o.ensureMarks(s)}},e.prototype.eq=function(o){return o instanceof e&&o.anchor==this.anchor&&o.head==this.head},e.prototype.getBookmark=function(){return new ia(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(o,i){if(typeof i.anchor!="number"||typeof i.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(o.resolve(i.anchor),o.resolve(i.head))},e.create=function(o,i,s){s===void 0&&(s=i);var a=o.resolve(i);return new this(a,s==i?a:o.resolve(s))},e.between=function(o,i,s){var a=o.pos-i.pos;if((!s||a)&&(s=a>=0?1:-1),!i.parent.inlineContent){var l=t.findFrom(i,s,!0)||t.findFrom(i,-s,!0);if(l)i=l.$head;else return t.near(i,s)}return o.parent.inlineContent||(a==0?o=i:(o=(t.findFrom(o,-s,!0)||t.findFrom(o,s,!0)).$anchor,o.pos<i.pos!=a<0&&(o=i))),new e(o,i)},Object.defineProperties(e.prototype,n),e}(Ue);Ue.jsonID("text",oa);var ia=function(e,n){this.anchor=e,this.head=n};ia.prototype.map=function(e){return new ia(e.map(this.anchor),e.map(this.head))};ia.prototype.resolve=function(e){return oa.between(e.resolve(this.anchor),e.resolve(this.head))};var _i=function(t){function e(n){var r=n.nodeAfter,o=n.node(0).resolve(n.pos+r.nodeSize);t.call(this,n,o),this.node=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(r,o){var i=o.mapResult(this.anchor),s=i.deleted,a=i.pos,l=r.resolve(a);return s?t.near(l):new e(l)},e.prototype.content=function(){return new ae(J.from(this.node),0,0)},e.prototype.eq=function(r){return r instanceof e&&r.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new hc(this.anchor)},e.fromJSON=function(r,o){if(typeof o.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(r.resolve(o.anchor))},e.create=function(r,o){return new this(r.resolve(o))},e.isSelectable=function(r){return!r.isText&&r.type.spec.selectable!==!1},e}(Ue);_i.prototype.visible=!1;Ue.jsonID("node",_i);var hc=function(e){this.anchor=e};hc.prototype.map=function(e){var n=e.mapResult(this.anchor),r=n.deleted,o=n.pos;return r?new ia(o,o):new hc(o)};hc.prototype.resolve=function(e){var n=e.resolve(this.anchor),r=n.nodeAfter;return r&&_i.isSelectable(r)?new _i(n):Ue.near(n)};var sa=function(t){function e(n){t.call(this,n.resolve(0),n.resolve(n.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replace=function(r,o){if(o===void 0&&(o=ae.empty),o==ae.empty){r.delete(0,r.doc.content.size);var i=t.atStart(r.doc);i.eq(r.selection)||r.setSelection(i)}else t.prototype.replace.call(this,r,o)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(r){return new e(r)},e.prototype.map=function(r){return new e(r)},e.prototype.eq=function(r){return r instanceof e},e.prototype.getBookmark=function(){return YP},e}(Ue);Ue.jsonID("all",sa);var YP={map:function(){return this},resolve:function(e){return new sa(e)}};function Pi(t,e,n,r,o,i){if(e.inlineContent)return oa.create(t,n);for(var s=r-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){var a=e.child(s);if(a.isAtom){if(!i&&_i.isSelectable(a))return _i.create(t,n-(o<0?a.nodeSize:0))}else{var l=Pi(t,a,n+o,o<0?a.childCount:0,o,i);if(l)return l}n+=a.nodeSize*o}}function fS(t,e,n){var r=t.steps.length-1;if(!(r<e)){var o=t.steps[r];if(o instanceof Yr||o instanceof Po){var i=t.mapping.maps[r],s;i.forEach(function(a,l,c,u){s==null&&(s=u)}),t.setSelection(Ue.near(t.doc.resolve(s),n))}}}var pS=1,dc=2,hS=4,XP=function(t){function e(r){t.call(this,r.doc),this.time=Date.now(),this.curSelection=r.selection,this.curSelectionFor=0,this.storedMarks=r.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(o){if(o.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=o,this.curSelectionFor=this.steps.length,this.updated=(this.updated|pS)&~dc,this.storedMarks=null,this},n.selectionSet.get=function(){return(this.updated&pS)>0},e.prototype.setStoredMarks=function(o){return this.storedMarks=o,this.updated|=dc,this},e.prototype.ensureMarks=function(o){return Te.sameSet(this.storedMarks||this.selection.$from.marks(),o)||this.setStoredMarks(o),this},e.prototype.addStoredMark=function(o){return this.ensureMarks(o.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(o){return this.ensureMarks(o.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(this.updated&dc)>0},e.prototype.addStep=function(o,i){t.prototype.addStep.call(this,o,i),this.updated=this.updated&~dc,this.storedMarks=null},e.prototype.setTime=function(o){return this.time=o,this},e.prototype.replaceSelection=function(o){return this.selection.replace(this,o),this},e.prototype.replaceSelectionWith=function(o,i){var s=this.selection;return i!==!1&&(o=o.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||Te.none))),s.replaceWith(this,o),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(o,i,s){s===void 0&&(s=i);var a=this.doc.type.schema;if(i==null)return o?this.replaceSelectionWith(a.text(o),!0):this.deleteSelection();if(!o)return this.deleteRange(i,s);var l=this.storedMarks;if(!l){var c=this.doc.resolve(i);l=s==i?c.marks():c.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(i,s,a.text(o,l)),this.selection.empty||this.setSelection(Ue.near(this.selection.$to)),this},e.prototype.setMeta=function(o,i){return this.meta[typeof o=="string"?o:o.key]=i,this},e.prototype.getMeta=function(o){return this.meta[typeof o=="string"?o:o.key]},n.isGeneric.get=function(){for(var r in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=hS,this},n.scrolledIntoView.get=function(){return(this.updated&hS)>0},Object.defineProperties(e.prototype,n),e}(Ye);function dS(t,e){return!e||!t?t:t.bind(e)}var aa=function(e,n,r){this.name=e,this.init=dS(n.init,r),this.apply=dS(n.apply,r)},QP=[new aa("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new aa("selection",{init:function(e,n){return e.selection||Ue.atStart(n.doc)},apply:function(e){return e.selection}}),new aa("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,n,r,o){return o.selection.$cursor?e.storedMarks:null}}),new aa("scrollToSelection",{init:function(){return 0},apply:function(e,n){return e.scrolledIntoView?n+1:n}})],hh=function(e,n){var r=this;this.schema=e,this.fields=QP.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),n&&n.forEach(function(o){if(r.pluginsByKey[o.key])throw new RangeError("Adding different instances of a keyed plugin ("+o.key+")");r.plugins.push(o),r.pluginsByKey[o.key]=o,o.spec.state&&r.fields.push(new aa(o.key,o.spec.state,o))})},Ht=function(e){this.config=e},mc={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};mc.schema.get=function(){return this.config.schema};mc.plugins.get=function(){return this.config.plugins};Ht.prototype.apply=function(e){return this.applyTransaction(e).state};Ht.prototype.filterTransaction=function(e,n){n===void 0&&(n=-1);for(var r=0;r<this.config.plugins.length;r++)if(r!=n){var o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0};Ht.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var n=[e],r=this.applyInner(e),o=null;;){for(var i=!1,s=0;s<this.config.plugins.length;s++){var a=this.config.plugins[s];if(a.spec.appendTransaction){var l=o?o[s].n:0,c=o?o[s].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",e),!o){o=[];for(var f=0;f<this.config.plugins.length;f++)o.push(f<s?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),i=!0}o&&(o[s]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}};Ht.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var n=new Ht(this.config),r=this.config.fields,o=0;o<r.length;o++){var i=r[o];n[i.name]=i.apply(e,this[i.name],this,n)}for(var s=0;s<la.length;s++)la[s](this,e,n);return n};mc.tr.get=function(){return new XP(this)};Ht.create=function(e){for(var n=new hh(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Ht(n),o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(e,r);return r};Ht.prototype.reconfigure=function(e){for(var n=new hh(this.schema,e.plugins),r=n.fields,o=new Ht(n),i=0;i<r.length;i++){var s=r[i].name;o[s]=this.hasOwnProperty(s)?this[s]:r[i].init(e,o)}return o};Ht.prototype.toJSON=function(e){var n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(function(s){return s.toJSON()})),e&&typeof e=="object")for(var r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");var o=e[r],i=o.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(o,this[o.key]))}return n};Ht.fromJSON=function(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var o=new hh(e.schema,e.plugins),i=new Ht(o);return o.fields.forEach(function(s){if(s.name=="doc")i.doc=Ne.fromJSON(e.schema,n.doc);else if(s.name=="selection")i.selection=Ue.fromJSON(i.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(var a in r){var l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){i[s.name]=c.fromJSON.call(l,e,n[a],i);return}}i[s.name]=s.init(e,i)}}),i};Ht.addApplyListener=function(e){la.push(e)};Ht.removeApplyListener=function(e){var n=la.indexOf(e);n>-1&&la.splice(n,1)};Object.defineProperties(Ht.prototype,mc);var la=[];function mS(t,e,n){for(var r in t){var o=t[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=mS(o,e,{})),n[r]=o}return n}var vS=function(e){this.props={},e.props&&mS(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:gS("plugin")};vS.prototype.getState=function(e){return e[this.key]};var dh=Object.create(null);function gS(t){return t in dh?t+"$"+ ++dh[t]:(dh[t]=0,t+"$")}var mh=function(e){e===void 0&&(e="key"),this.key=gS(e)};mh.prototype.get=function(e){return e.config.pluginsByKey[this.key]};mh.prototype.getState=function(e){return e[this.key]};const bI=ot.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize"}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;return((t==null?void 0:t.mode)||this.options.mode)==="textSize"?e.textBetween(0,e.content.size,void 0," ").length:e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;return e.textBetween(0,e.content.size," "," ").split(" ").filter(o=>o!=="").length}},addProseMirrorPlugins(){return[new vS({key:new mh("characterCount"),filterTransaction:(t,e)=>{const n=this.options.limit;if(!t.docChanged||n===0||n===null||n===void 0)return!0;const r=this.storage.characters({node:e.doc}),o=this.storage.characters({node:t.doc});if(o<=n||r>n&&o>n&&o<=r)return!0;if(r>n&&o>n&&o>r||!t.getMeta("paste"))return!1;const s=t.selection.$head.pos,a=o-n,l=s-a,c=s;return t.deleteRange(l,c),!(this.storage.characters({node:t.doc})>n)}})]}});var vc,ZP=new Uint8Array(16);function eI(){if(!vc&&(vc=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!vc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vc(ZP)}var tI=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function nI(t){return typeof t=="string"&&tI.test(t)}var yt=[];for(var vh=0;vh<256;++vh)yt.push((vh+256).toString(16).substr(1));function rI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(yt[t[e+0]]+yt[t[e+1]]+yt[t[e+2]]+yt[t[e+3]]+"-"+yt[t[e+4]]+yt[t[e+5]]+"-"+yt[t[e+6]]+yt[t[e+7]]+"-"+yt[t[e+8]]+yt[t[e+9]]+"-"+yt[t[e+10]]+yt[t[e+11]]+yt[t[e+12]]+yt[t[e+13]]+yt[t[e+14]]+yt[t[e+15]]).toLowerCase();if(!nI(n))throw TypeError("Stringified UUID is invalid");return n}function SI(t,e,n){t=t||{};var r=t.random||(t.rng||eI)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return rI(r)}export{kr as A,wu as B,hn as C,ji as D,fI as E,ut as F,pI as G,vI as H,mI as I,gI as J,bI as K,Di as L,SI as M,ku as N,Cu as O,yI as P,jt as Q,sI as R,hI as S,dI as T,iI as U,jC as V,hw as a,nu as b,mw as c,le as d,ru as e,R1 as f,yw as g,rm as h,dn as i,uI as j,Sw as k,Td as l,bw as m,tr as n,nr as o,A1 as p,cI as q,Zn as r,mg as s,FS as t,lI as u,Qa as v,_a as w,aI as x,Ii as y,Pm as z};
